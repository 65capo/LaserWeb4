!function(t){function e(t){function e(t,e){"ready"===P&&i("prepare"),_++,u.e(t,function(){function n(){_--,"prepare"===P&&(C[t]||s(t),0===_&&0===x&&a())}try{e.call(null,r)}finally{n()}})}var n=E[t];if(!n)return u;var r=function(e){return n.hot.active?E[e]?(E[e].parents.indexOf(t)<0&&E[e].parents.push(t),n.children.indexOf(e)<0&&n.children.push(e)):m=[t]:(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),m=[]),u(e)};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(p?Object.defineProperty(r,o,function(t){return{configurable:!0,enumerable:!0,get:function(){return u[t]},set:function(e){u[t]=e}}}(o)):r[o]=u[o]);return p?Object.defineProperty(r,"e",{enumerable:!0,value:e}):r.e=e,r}function n(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(t,n){if("undefined"==typeof t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var i=0;i<t.length;i++)e._acceptedDependencies[t[i]]=n;else e._acceptedDependencies[t]=n},decline:function(t){if("undefined"==typeof t)e._selfDeclined=!0;else if("number"==typeof t)e._declinedDependencies[t]=!0;else for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:o,apply:l,status:function(t){return t?void g.push(t):P},addStatusHandler:function(t){g.push(t)},removeStatusHandler:function(t){var e=g.indexOf(t);e>=0&&g.splice(e,1)},data:v[t]};return e}function i(t){P=t;for(var e=0;e<g.length;e++)g[e].call(null,t)}function r(t){var e=+t+""===t;return e?+t:t}function o(t,e){if("idle"!==P)throw new Error("check() is only allowed in idle status");"function"==typeof t?(c=!1,e=t):(c=t,e=e||function(t){if(t)throw t}),i("check"),hotDownloadManifest(function(t,n){if(t)return e(t);if(!n)return i("idle"),void e(null,null);b={},I={},C={};for(var r=0;r<n.c.length;r++)I[n.c[r]]=!0;d=n.h,i("prepare"),h=e,f={};var o=0;s(o),"prepare"===P&&0===_&&0===x&&a()})}function s(t){I[t]?(b[t]=!0,x++,hotDownloadUpdateChunk(t)):C[t]=!0}function a(){i("ready");var t=h;if(h=null,t)if(c)l(c,t);else{var e=[];for(var n in f)Object.prototype.hasOwnProperty.call(f,n)&&e.push(r(n));t(null,e)}}function l(e,n){function o(t){for(var e=[t],n={},i=e.slice();i.length>0;){var r=i.pop(),t=E[r];if(t&&!t.hot._selfAccepted){if(t.hot._selfDeclined)return new Error("Aborted because of self decline: "+r);if(0===r)return;for(var o=0;o<t.parents.length;o++){var a=t.parents[o],l=E[a];if(l.hot._declinedDependencies[r])return new Error("Aborted because of declined dependency: "+r+" in "+a);e.indexOf(a)>=0||(l.hot._acceptedDependencies[r]?(n[a]||(n[a]=[]),s(n[a],[r])):(delete n[a],e.push(a),i.push(a)))}}}return[e,n]}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.indexOf(i)<0&&t.push(i)}}if("ready"!==P)throw new Error("apply() is only allowed in ready status");"function"==typeof e?(n=e,e={}):e&&"object"==typeof e?n=n||function(t){if(t)throw t}:(e={},n=n||function(t){if(t)throw t});var a={},l=[],p={};for(var h in f)if(Object.prototype.hasOwnProperty.call(f,h)){var c=r(h),g=o(c);if(!g){if(e.ignoreUnaccepted)continue;return i("abort"),n(new Error("Aborted because "+c+" is not accepted"))}if(g instanceof Error)return i("abort"),n(g);p[c]=f[c],s(l,g[0]);for(var c in g[1])Object.prototype.hasOwnProperty.call(g[1],c)&&(a[c]||(a[c]=[]),s(a[c],g[1][c]))}for(var x=[],_=0;_<l.length;_++){var c=l[_];E[c]&&E[c].hot._selfAccepted&&x.push({module:c,errorHandler:E[c].hot._selfAccepted})}i("dispose");for(var C=l.slice();C.length>0;){var c=C.pop(),b=E[c];if(b){for(var I={},T=b.hot._disposeHandlers,L=0;L<T.length;L++){var S=T[L];S(I)}v[c]=I,b.hot.active=!1,delete E[c];for(var L=0;L<b.children.length;L++){var O=E[b.children[L]];if(O){var A=O.parents.indexOf(c);A>=0&&O.parents.splice(A,1)}}}}for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var b=E[c],N=a[c],L=0;L<N.length;L++){var w=N[L],A=b.children.indexOf(w);A>=0&&b.children.splice(A,1)}i("apply"),y=d;for(var c in p)Object.prototype.hasOwnProperty.call(p,c)&&(t[c]=p[c]);var X=null;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){for(var b=E[c],N=a[c],Y=[],_=0;_<N.length;_++){var w=N[_],S=b.hot._acceptedDependencies[w];Y.indexOf(S)>=0||Y.push(S)}for(var _=0;_<Y.length;_++){var S=Y[_];try{S(a)}catch(t){X||(X=t)}}}for(var _=0;_<x.length;_++){var B=x[_],c=B.module;m=[c];try{u(c)}catch(t){if("function"==typeof B.errorHandler)try{B.errorHandler(t)}catch(t){X||(X=t)}else X||(X=t)}}return X?(i("fail"),n(X)):(i("idle"),void n(null,l))}function u(i){if(E[i])return E[i].exports;var r=E[i]={exports:{},id:i,loaded:!1,hot:n(i),parents:m,children:[]};return t[i].call(r.exports,r,r.exports,e(i)),r.loaded=!0,r.exports}var p=!1;try{Object.defineProperty({},"x",{get:function(){}}),p=!0}catch(t){}var h,f,d,c=!0,y="42ace024cef72e25dd3f",v={},m=[],g=[],P="idle",x=0,_=0,C={},b={},I={},E={};return u.m=t,u.c=E,u.p="",u.h=function(){return y},e(0)(0)}([function(t,e,n){"use strict";var i=n(5);self.onmessage=function(t){function e(t,e){return!t||!!e&&(t[0]==e[0]&&t[1]==e[1]&&t[2]==e[2]&&t[3]==e[3])}function n(t,o){var s=f.find(function(t){return t.id===o});s.rawPaths&&r.push(function(n){if(t)h=(0,i.union)(h,(0,i.rawPathsToClipperPaths)(s.rawPaths,s.scale[0],s.scale[1],s.translate[0],s.translate[1]));else if(e(l.filterFillColor,s.fillColor)&&e(l.filterStrokeColor,s.strokeColor)){var r=!1,o=!0,a=!1,f=void 0;try{for(var d,c=s.rawPaths[Symbol.iterator]();!(o=(d=c.next()).done);o=!0){var y=d.value;y.length>=4&&y[0]==y[y.length-2]&&y[1]==y[y.length-1]&&(r=!0)}}catch(t){a=!0,f=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw f}}var v=(0,i.rawPathsToClipperPaths)(s.rawPaths,s.scale[0],s.scale[1],s.translate[0],s.translate[1]);r?u=(0,i.xor)(u,v):l.filterFillColor||(p=p.concat(v))}n()}),"image"!==s.type||t||d.push(s);var a=!0,c=!1,y=void 0;try{for(var v,m=s.children[Symbol.iterator]();!(a=(v=m.next()).done);a=!0){var g=v.value;n(t,g)}}catch(t){c=!0,y=t}finally{try{!a&&m.return&&m.return()}finally{if(c)throw y}}}var r=[],o=t.data,s=o.settings,a=o.opIndex,l=o.op,u=o.geometry,p=o.openGeometry,h=o.tabGeometry,f=o.documents,d=[],c=!0,y=!1,v=void 0;try{for(var m,g=l.documents[Symbol.iterator]();!(c=(m=g.next()).done);c=!0){var P=m.value;n(!1,P)}}catch(t){y=!0,v=t}finally{try{!c&&g.return&&g.return()}finally{if(y)throw v}}var x=!0,_=!1,C=void 0;try{for(var b,I=l.tabDocuments[Symbol.iterator]();!(x=(b=I.next()).done);x=!0){var E=b.value;n(!0,E)}}catch(t){_=!0,C=t}finally{try{!x&&I.return&&I.return()}finally{if(_)throw C}}for(var T=100/r.length,L=0;r.length;)try{var S=r.shift();S&&S(function(){L+=T,postMessage({event:"onProgress",percent:parseInt(L)})})}catch(t){console.error(t),postMessage({event:"onError",message:"Something wrong has happened, sorry.",level:"error",error:t.toString()})}postMessage({event:"onDone",settings:s,opIndex:a,op:l,geometry:u,openGeometry:p,tabGeometry:h,docsWithImages:d}),self.close()};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(t,e){"use strict";function n(t){return"("+t.x+";"+t.y+")"}function i(t){var e=t.toString();return"[object Object]"===e?n(t):e}function r(t,e){return t.y===e.y?t.x-e.x:t.y-e.y}function o(t,e){return t.x===e.x&&t.y===e.y}t.exports={toString:i,toStringBase:n,compare:r,equals:o}},function(t,e){"use strict";var n=function(t,e){this.point=t,this.triangle=e||null,this.next=null,this.prev=null,this.value=t.x},i=function(t,e){this.head_=t,this.tail_=e,this.search_node_=t};i.prototype.head=function(){return this.head_},i.prototype.setHead=function(t){this.head_=t},i.prototype.tail=function(){return this.tail_},i.prototype.setTail=function(t){this.tail_=t},i.prototype.search=function(){return this.search_node_},i.prototype.setSearch=function(t){this.search_node_=t},i.prototype.findSearchNode=function(){return this.search_node_},i.prototype.locateNode=function(t){var e=this.search_node_;if(t<e.value){for(;e=e.prev;)if(t>=e.value)return this.search_node_=e,e}else for(;e=e.next;)if(t<e.value)return this.search_node_=e.prev,e.prev;return null},i.prototype.locatePoint=function(t){var e=t.x,n=this.findSearchNode(e),i=n.point.x;if(e===i){if(t!==n.point)if(t===n.prev.point)n=n.prev;else{if(t!==n.next.point)throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call");n=n.next}}else if(e<i)for(;(n=n.prev)&&t!==n.point;);else for(;(n=n.next)&&t!==n.point;);return n&&(this.search_node_=n),n},t.exports=i,t.exports.Node=n},function(t,e,n){"use strict";var i=n(1),r=function(t,e){this.name="PointError",this.points=e=e||[],this.message=t||"Invalid Points!";for(var n=0;n<e.length;n++)this.message+=" "+i.toString(e[n])};r.prototype=new Error,r.prototype.constructor=r,t.exports=r},function(t,e,n){"use strict";var i=n(1),r=function(t,e,n){this.points_=[t,e,n],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},o=i.toString;r.prototype.toString=function(){return"["+o(this.points_[0])+o(this.points_[1])+o(this.points_[2])+"]"},r.prototype.getPoint=function(t){return this.points_[t]},r.prototype.GetPoint=r.prototype.getPoint,r.prototype.getPoints=function(){return this.points_},r.prototype.getNeighbor=function(t){return this.neighbors_[t]},r.prototype.containsPoint=function(t){var e=this.points_;return t===e[0]||t===e[1]||t===e[2]},r.prototype.containsEdge=function(t){return this.containsPoint(t.p)&&this.containsPoint(t.q)},r.prototype.containsPoints=function(t,e){return this.containsPoint(t)&&this.containsPoint(e)},r.prototype.isInterior=function(){return this.interior_},r.prototype.setInterior=function(t){return this.interior_=t,this},r.prototype.markNeighborPointers=function(t,e,n){var i=this.points_;if(t===i[2]&&e===i[1]||t===i[1]&&e===i[2])this.neighbors_[0]=n;else if(t===i[0]&&e===i[2]||t===i[2]&&e===i[0])this.neighbors_[1]=n;else{if(!(t===i[0]&&e===i[1]||t===i[1]&&e===i[0]))throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call");this.neighbors_[2]=n}},r.prototype.markNeighbor=function(t){var e=this.points_;t.containsPoints(e[1],e[2])?(this.neighbors_[0]=t,t.markNeighborPointers(e[1],e[2],this)):t.containsPoints(e[0],e[2])?(this.neighbors_[1]=t,t.markNeighborPointers(e[0],e[2],this)):t.containsPoints(e[0],e[1])&&(this.neighbors_[2]=t,t.markNeighborPointers(e[0],e[1],this))},r.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null},r.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1},r.prototype.pointCW=function(t){var e=this.points_;return t===e[0]?e[2]:t===e[1]?e[0]:t===e[2]?e[1]:null},r.prototype.pointCCW=function(t){var e=this.points_;return t===e[0]?e[1]:t===e[1]?e[2]:t===e[2]?e[0]:null},r.prototype.neighborCW=function(t){return t===this.points_[0]?this.neighbors_[1]:t===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]},r.prototype.neighborCCW=function(t){return t===this.points_[0]?this.neighbors_[2]:t===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]},r.prototype.getConstrainedEdgeCW=function(t){return t===this.points_[0]?this.constrained_edge[1]:t===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]},r.prototype.getConstrainedEdgeCCW=function(t){return t===this.points_[0]?this.constrained_edge[2]:t===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]},r.prototype.getConstrainedEdgeAcross=function(t){return t===this.points_[0]?this.constrained_edge[0]:t===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]},r.prototype.setConstrainedEdgeCW=function(t,e){t===this.points_[0]?this.constrained_edge[1]=e:t===this.points_[1]?this.constrained_edge[2]=e:this.constrained_edge[0]=e},r.prototype.setConstrainedEdgeCCW=function(t,e){t===this.points_[0]?this.constrained_edge[2]=e:t===this.points_[1]?this.constrained_edge[0]=e:this.constrained_edge[1]=e},r.prototype.getDelaunayEdgeCW=function(t){return t===this.points_[0]?this.delaunay_edge[1]:t===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]},r.prototype.getDelaunayEdgeCCW=function(t){return t===this.points_[0]?this.delaunay_edge[2]:t===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]},r.prototype.setDelaunayEdgeCW=function(t,e){t===this.points_[0]?this.delaunay_edge[1]=e:t===this.points_[1]?this.delaunay_edge[2]=e:this.delaunay_edge[0]=e},r.prototype.setDelaunayEdgeCCW=function(t,e){t===this.points_[0]?this.delaunay_edge[2]=e:t===this.points_[1]?this.delaunay_edge[0]=e:this.delaunay_edge[1]=e},r.prototype.neighborAcross=function(t){return t===this.points_[0]?this.neighbors_[0]:t===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]},r.prototype.oppositePoint=function(t,e){var n=t.pointCW(e);return this.pointCW(n)},r.prototype.legalize=function(t,e){var n=this.points_;if(t===n[0])n[1]=n[0],n[0]=n[2],n[2]=e;else if(t===n[1])n[2]=n[1],n[1]=n[0],n[0]=e;else{if(t!==n[2])throw new Error("poly2tri Invalid Triangle.legalize() call");n[0]=n[2],n[2]=n[1],n[1]=e}},r.prototype.index=function(t){var e=this.points_;if(t===e[0])return 0;if(t===e[1])return 1;if(t===e[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")},r.prototype.edgeIndex=function(t,e){var n=this.points_;if(t===n[0]){if(e===n[1])return 2;if(e===n[2])return 1}else if(t===n[1]){if(e===n[2])return 0;if(e===n[0])return 2}else if(t===n[2]){if(e===n[0])return 1;if(e===n[1])return 0}return-1},r.prototype.markConstrainedEdgeByIndex=function(t){this.constrained_edge[t]=!0},r.prototype.markConstrainedEdgeByEdge=function(t){this.markConstrainedEdgeByPoints(t.p,t.q)},r.prototype.markConstrainedEdgeByPoints=function(t,e){var n=this.points_;e===n[0]&&t===n[1]||e===n[1]&&t===n[0]?this.constrained_edge[2]=!0:e===n[0]&&t===n[2]||e===n[2]&&t===n[0]?this.constrained_edge[1]=!0:(e===n[1]&&t===n[2]||e===n[2]&&t===n[1])&&(this.constrained_edge[0]=!0)},t.exports=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,r,o,s,a,l,u){function p(t,e,n,i,r){return(1-r)*(1-r)*(1-r)*t+3*(1-r)*(1-r)*r*e+3*(1-r)*r*r*n+r*r*r*i}if(t==n&&e==i&&s==r&&a==o)return["L",s,a];for(var h=l;;){for(var f=t,d=e,c=["L"],y=1;y<=h;++y){var v=1*y/h,m=p(t,n,r,s,v),g=p(e,i,o,a,v);if((m-f)*(m-f)+(g-d)*(g-d)>u*u){h*=2,c=null;break}c.push(m,g),f=m,d=g}if(c)return c}}function o(t,e,n,i){if(t.length<2||3!=t[0].length||"M"!=t[0][0])return i("Path does not begin with M"),null;for(var o=t[0][1],s=t[0][2],a=[t[0]],l=1;l<t.length;++l){var u=t[l];if("C"==u[0]&&7==u.length)a.push(r(o,s,u[1],u[2],u[3],u[4],u[5],u[6],e,n)),o=u[5],s=u[6];else{if("M"!=u[0]||3!=u.length)return i("Subpath has an unknown prefix: "+u[0]),null;a.push(u),o=u[1],s=u[2]}}return a}function s(t,e,i,r){var s=null,a=n(13),l=a(t);if("path"==l.type)s=l.attr("d");else{if("rect"!=l.type)return r("<b>"+l.type+"</b> is not supported; try Inkscape's <strong>Object to Path</strong> command"),null;var u=Number(l.attr("x")),p=Number(l.attr("y")),h=Number(l.attr("width")),f=Number(l.attr("height"));s="m"+u+","+p+" "+h+",0 0,"+f+" "+-h+",0 0,"+-f+" "}return""!=l.attr("clip-path")?(r("clip-path is not supported"),null):""!=l.attr("mask")?(r("mask is not supported"),null):null==s?void r("path is missing"):(s=a.path.map(s,l.transform().globalMatrix),s=a.parsePathString(s),s=o(s,e,i,r))}function a(t,e,n){var i=25.4/e;if(t.length<2||3!=t[0].length||"M"!=t[0][0])return n("Path does not begin with M"),null;for(var r=[t[0][1]*i,t[0][2]*i],o=[r],s=1;s<t.length;++s){var a=t[s];if("M"==a[0]&&3==a.length)r=[a[1]*i,a[2]*i],o.push(r);else{if("L"!=a[0])return n("Subpath has a non-linear prefix: "+a[0]),null;for(var l=0;l<(a.length-1)/2;++l)r.push(a[1+2*l]*i,a[2+2*l]*i)}}return o}function l(t,e,n,i,r){var o=s(t,n,i,r);return null!==o?a(o,e,r):null}function u(t,e){var n=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,l=!0,u=!1,p=void 0;try{for(var h,f=a[Symbol.iterator]();!(l=(h=f.next()).done);l=!0)for(var d=h.value,c=0;c<d.length;c+=2)d[c+1]=e-d[c+1]}catch(t){u=!0,p=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw p}}}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}function p(t){var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;if(s.length>=4&&s[0]==s[s.length-2]&&s[1]==s[s.length-1])return!0}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return!1}function h(t){var e=[],n=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;a.length>=4&&a[0]==a[a.length-2]&&a[1]==a[a.length-1]&&e.push(a)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return e}function f(t,e,n,i,r){var o=t.map(function(t){for(var o=[],s=0;s<t.length;s+=2)o.push({X:(t[s]*e+i)*A,Y:(t[s+1]*n+r)*A});return o});return p(t)&&(o=T.default.Clipper.CleanPolygons(o,w),o=T.default.Clipper.SimplifyPolygons(o,T.default.PolyFillType.pftEvenOdd)),o}function d(t){var e=new T.default.Clipper;e.AddPaths(t,T.default.PolyType.ptSubject,!0);var n=new T.default.PolyTree;return e.Execute(T.default.ClipType.ctUnion,n,T.default.PolyFillType.pftEvenOdd,T.default.PolyFillType.pftEvenOdd),n}function c(t){var e=[],n=function(t){return{x:t.X/A,y:t.Y/A}},i=function(t){return t.map(n)},r=function(t){return t.map(function(t){return i(t.Contour())})},o=function t(n){var o=i(n.Contour()),s=r(n.Childs()),a=new S.default(o);a.addHoles(s),a.triangulate();var l=a.getTriangles(),u=!0,p=!1,h=void 0;try{for(var f,d=l[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var c=f.value,y=c.getPoints();e.push(y[0].x,y[0].y,y[1].x,y[1].y,y[2].x,y[2].y)}}catch(t){p=!0,h=t}finally{try{!u&&d.return&&d.return()}finally{if(p)throw h}}var v=!0,m=!1,g=void 0;try{for(var P,x=n.Childs()[Symbol.iterator]();!(v=(P=x.next()).done);v=!0){var _=P.value,C=!0,b=!1,I=void 0;try{for(var E,T=_.Childs()[Symbol.iterator]();!(C=(E=T.next()).done);C=!0){var L=E.value;t(L)}}catch(t){b=!0,I=t}finally{try{!C&&T.return&&T.return()}finally{if(b)throw I}}}}catch(t){m=!0,g=t}finally{try{!v&&x.return&&x.return()}finally{if(m)throw g}}},s=!0,a=!1,l=void 0;try{for(var u,p=t.Childs()[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value;o(h)}}catch(t){a=!0,l=t}finally{try{!s&&p.return&&p.return()}finally{if(a)throw l}}return e}function y(t){return c(d(f(t,1,1,0,0)))}function v(t,e){var n=8,i=Module._malloc(4*e.length);t.push(i);var r=i>>2,o=Module._malloc(4*e.length);t.push(o);for(var s=o>>2,a=0;a<e.length;++a){var l=e[a],u=Module._malloc(2*l.length*n+4);t.push(u),4&u&&(u+=4);for(var p=new Float64Array(Module.HEAPU32.buffer,Module.HEAPU32.byteOffset+u),h=0;h<l.length;++h){var f=l[h];p[2*h]=f.X*N,p[2*h+1]=f.Y*N}Module.HEAPU32[r+a]=u,Module.HEAPU32[s+a]=l.length}return[i,e.length,o]}function m(t,e,n,i){var r=Module.HEAPU32[e>>2];t.push(r);var o=r>>2,s=Module.HEAPU32[n>>2],a=Module.HEAPU32[i>>2];t.push(a);for(var l=a>>2,u=[],p=0;p<s;++p){var h=Module.HEAPU32[l+p],f=Module.HEAPU32[o+p];t.push(f),4&f&&(f+=4);var d=new Float64Array(Module.HEAPU32.buffer,Module.HEAPU32.byteOffset+f),c=[];u.push(c);for(var y=0;y<h;++y)c.push({X:d[2*y]/N,Y:d[2*y+1]/N})}return u}function g(t,e,n,i){var r=Module.HEAPU32[e>>2];t.push(r);var o=r>>2,s=Module.HEAPU32[n>>2],a=Module.HEAPU32[i>>2];t.push(a);for(var l=a>>2,u=[],p=0;p<s;++p){var h=Module.HEAPU32[l+p],f=Module.HEAPU32[o+p];t.push(f),4&f&&(f+=4);var d=new Float64Array(Module.HEAPU32.buffer,Module.HEAPU32.byteOffset+f),c=[];u.push({path:c,safeToClose:!1});for(var y=0;y<h;++y)c.push({X:d[3*y]/N,Y:d[3*y+1]/N,Z:d[3*y+2]/N})}return u}function P(t){var e=Number.MAX_VALUE,n=Number.MAX_VALUE,i=-Number.MAX_VALUE,r=-Number.MAX_VALUE,o=!0,s=!1,a=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var p=l.value,h=!0,f=!1,d=void 0;try{for(var c,y=p[Symbol.iterator]();!(h=(c=y.next()).done);h=!0){var v=c.value;e=Math.min(e,v.X),i=Math.max(i,v.X),n=Math.min(n,v.Y),r=Math.max(r,v.Y)}}catch(t){f=!0,d=t}finally{try{!h&&y.return&&y.return()}finally{if(f)throw d}}}}catch(t){s=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}return{minX:e,minY:n,maxX:i,maxY:r}}function x(t,e,n){var i=new T.default.Clipper;i.AddPaths(t,T.default.PolyType.ptSubject,!0),i.AddPaths(e,T.default.PolyType.ptClip,!0);var r=[];return i.Execute(n,r,T.default.PolyFillType.pftEvenOdd,T.default.PolyFillType.pftEvenOdd),r}function _(t,e){return x(t,e,T.default.ClipType.ctUnion)}function C(t,e){return x(t,e,T.default.ClipType.ctDifference)}function b(t,e){return x(t,e,T.default.ClipType.ctXor)}function I(t,e,n,i){void 0===n&&(n=T.default.JoinType.jtRound),void 0===i&&(i=T.default.EndType.etClosedPolygon),n===T.default.JoinType.jtSquare?n=T.default.JoinType.jtMiter:n===T.default.JoinType.jtMiter&&(n=T.default.JoinType.jtSquare);var r=new T.default.ClipperOffset(2,X);r.AddPaths(t,n,i);var o=[];return r.Execute(o,e),o}Object.defineProperty(e,"__esModule",{value:!0}),e.arcTolerance=e.cleanPolyDist=e.clipperToCppScale=e.mmToClipperScale=e.inchToClipperScale=void 0,e.elementToRawPaths=l,e.flipY=u,e.hasClosedRawPaths=p,e.filterClosedRawPaths=h,e.rawPathsToClipperPaths=f,e.triangulateRawPaths=y,e.clipperPathsToCPaths=v,e.cPathsToClipperPaths=m,e.cPathsToCamPaths=g,e.clipperBounds=P,e.clip=x,e.union=_,e.diff=C,e.xor=b,e.offset=I;var E=n(6),T=i(E),L=n(11),S=i(L),O=e.inchToClipperScale=127e7,A=e.mmToClipperScale=O/25.4,N=e.clipperToCppScale=1/128,w=e.cleanPolyDist=100,X=e.arcTolerance=1e4;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"inchToClipperScale","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(A,"mmToClipperScale","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(N,"clipperToCppScale","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(w,"cleanPolyDist","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(X,"arcTolerance","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(r,"linearizeCubicBezier","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(o,"linearizeSnapPath","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(s,"elementToLinearSnapPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(a,"snapPathToRawPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(l,"elementToRawPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(u,"flipY","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(p,"hasClosedRawPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(h,"filterClosedRawPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(f,"rawPathsToClipperPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(d,"clipperPathsToPolyTree","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(c,"triangulatePolyTree","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(y,"triangulateRawPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(v,"clipperPathsToCPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(m,"cPathsToClipperPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(g,"cPathsToCamPaths","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(P,"clipperBounds","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(x,"clip","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(_,"union","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(C,"diff","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(b,"xor","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"),__REACT_HOT_LOADER__.register(I,"offset","/Users/jorgerobles/repos_1/LaserWeb4/src/lib/mesh.js"))})()},function(t,e,n){var i,r;!function(){"use strict";function o(t,e,n){se.biginteger_used=1,null!=t&&("number"==typeof t&&"undefined"==typeof e?this.fromInt(t):"number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function s(){return new o(null,void 0,void 0)}function a(t,e,n,i,r,o){for(;--o>=0;){var s=e*this[t++]+n[i]+r;r=Math.floor(s/67108864),n[i++]=67108863&s}return r}function l(t,e,n,i,r,o){for(var s=32767&e,a=e>>15;--o>=0;){var l=32767&this[t],u=this[t++]>>15,p=a*l+u*s;l=s*l+((32767&p)<<15)+n[i]+(1073741823&r),r=(l>>>30)+(p>>>15)+a*u+(r>>>30),n[i++]=1073741823&l}return r}function u(t,e,n,i,r,o){for(var s=16383&e,a=e>>14;--o>=0;){var l=16383&this[t],u=this[t++]>>14,p=a*l+u*s;l=s*l+((16383&p)<<14)+n[i]+r,r=(l>>28)+(p>>14)+a*u,n[i++]=268435455&l}return r}function p(t){return me.charAt(t)}function h(t,e){var n=ge[t.charCodeAt(e)];return null==n?-1:n}function f(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function d(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function c(t){var e=s();return e.fromInt(t),e}function y(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var i=t.length,r=!1,s=0;--i>=0;){var a=8==n?255&t[i]:h(t,i);a<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=n,s>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&o.ZERO.subTo(this,this)}function v(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function m(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,r=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(r=!0,o=p(n));s>=0;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&i,a<=0&&(a+=this.DB,--s)),n>0&&(r=!0),r&&(o+=p(n));return r?o:"0"}function g(){var t=s();return o.ZERO.subTo(this,t),t}function P(){return this.s<0?this.negate():this}function x(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function _(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function C(){return this.t<=0?0:this.DB*(this.t-1)+_(this[this.t-1]^this.s&this.DM)}function b(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function I(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function E(t,e){var n,i=t%this.DB,r=this.DB-i,o=(1<<r)-1,s=Math.floor(t/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function T(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var i=t%this.DB,r=this.DB-i,o=(1<<i)-1;e[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<r,e[s-n]=this[s]>>i;i>0&&(e[this.t-n-1]|=(this.s&o)<<r),e.t=this.t-n,e.clamp()}function L(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function S(t,e){var n=this.abs(),i=t.abs(),r=n.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+n.t]=n.am(0,i[r],e,r,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&o.ZERO.subTo(e,e)}function O(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function A(t,e,n){var i=t.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=s());var a=s(),l=this.s,u=t.s,p=this.DB-_(i[i.t-1]);p>0?(i.lShiftTo(p,a),r.lShiftTo(p,n)):(i.copyTo(a),r.copyTo(n));var h=a.t,f=a[h-1];if(0!=f){var d=f*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),c=this.FV/d,y=(1<<this.F1)/d,v=1<<this.F2,m=n.t,g=m-h,P=null==e?s():e;for(a.dlShiftTo(g,P),n.compareTo(P)>=0&&(n[n.t++]=1,n.subTo(P,n)),o.ONE.dlShiftTo(h,P),P.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--g>=0;){var x=n[--m]==f?this.DM:Math.floor(n[m]*c+(n[m-1]+v)*y);if((n[m]+=a.am(0,x,n,g,0,h))<x)for(a.dlShiftTo(g,P),n.subTo(P,n);n[m]<--x;)n.subTo(P,n)}null!=e&&(n.drShiftTo(h,e),l!=u&&o.ZERO.subTo(e,e)),n.t=h,n.clamp(),p>0&&n.rShiftTo(p,n),l<0&&o.ZERO.subTo(n,n)}}}function N(t){var e=s();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(o.ZERO)>0&&t.subTo(e,e),e}function w(t){this.m=t}function X(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Y(t){return t}function B(t){t.divRemTo(this.m,null,t)}function D(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function M(t,e){t.squareTo(e),this.reduce(e)}function R(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function F(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function W(t){var e=s();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(o.ZERO)>0&&this.m.subTo(e,e),e}function k(t){var e=s();return t.copyTo(e),this.reduce(e),e}function j(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function q(t,e){t.squareTo(e),this.reduce(e)}function H(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function U(){return 0==(this.t>0?1&this[0]:this.s)}function z(t,e){if(t>4294967295||t<1)return o.ONE;var n=s(),i=s(),r=e.convert(this),a=_(t)-1;for(r.copyTo(n);--a>=0;)if(e.sqrTo(n,i),(t&1<<a)>0)e.mulTo(i,r,n);else{var l=n;n=i,i=l}return e.revert(n)}function G(t,e){var n;return n=t<256||e.isEven()?new w(e):new F(e),this.exp(t,n)}function V(){var t=s();return this.copyTo(t),t}function J(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Z(){return 0==this.t?this.s:this[0]<<24>>24}function $(){return 0==this.t?this.s:this[0]<<16>>16}function Q(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function K(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function tt(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=c(n),r=s(),o=s(),a="";for(this.divRemTo(i,r,o);r.signum()>0;)a=(n+o.intValue()).toString(t).substr(1)+a,r.divRemTo(i,r,o);return o.intValue().toString(t)+a}function et(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),i=Math.pow(e,n),r=!1,s=0,a=0,l=0;l<t.length;++l){var u=h(t,l);u<0?"-"==t.charAt(l)&&0==this.signum()&&(r=!0):(a=e*a+u,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),
r&&o.ZERO.subTo(this,this)}function nt(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(o.ONE.shiftLeft(t-1),pt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(o.ONE.shiftLeft(t-1),this);else{var i=new Array,r=7&t;i.length=(t>>3)+1,e.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}}function it(){var t=this.t,e=new Array;e[0]=this.s;var n,i=this.DB-t*this.DB%8,r=0;if(t-- >0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[r++]=n|this.s<<this.DB-i);t>=0;)i<8?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,i<=0&&(i+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(e[r++]=n);return e}function rt(t){return 0==this.compareTo(t)}function ot(t){return this.compareTo(t)<0?this:t}function st(t){return this.compareTo(t)>0?this:t}function at(t,e,n){var i,r,o=Math.min(t.t,this.t);for(i=0;i<o;++i)n[i]=e(this[i],t[i]);if(t.t<this.t){for(r=t.s&this.DM,i=o;i<this.t;++i)n[i]=e(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=o;i<t.t;++i)n[i]=e(r,t[i]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function lt(t,e){return t&e}function ut(t){var e=s();return this.bitwiseTo(t,lt,e),e}function pt(t,e){return t|e}function ht(t){var e=s();return this.bitwiseTo(t,pt,e),e}function ft(t,e){return t^e}function dt(t){var e=s();return this.bitwiseTo(t,ft,e),e}function ct(t,e){return t&~e}function yt(t){var e=s();return this.bitwiseTo(t,ct,e),e}function vt(){for(var t=s(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function mt(t){var e=s();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function gt(t){var e=s();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Pt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function xt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+Pt(this[t]);return this.s<0?this.t*this.DB:-1}function _t(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function Ct(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=_t(this[n]^e);return t}function bt(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function It(t,e){var n=o.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n}function Et(t){return this.changeBit(t,pt)}function Tt(t){return this.changeBit(t,ct)}function Lt(t){return this.changeBit(t,ft)}function St(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]+t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i+=t[n],e[n++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e[n++]=i:i<-1&&(e[n++]=this.DV+i),e.t=n,e.clamp()}function Ot(t){var e=s();return this.addTo(t,e),e}function At(t){var e=s();return this.subTo(t,e),e}function Nt(t){var e=s();return this.multiplyTo(t,e),e}function wt(){var t=s();return this.squareTo(t),t}function Xt(t){var e=s();return this.divRemTo(t,e,null),e}function Yt(t){var e=s();return this.divRemTo(t,null,e),e}function Bt(t){var e=s(),n=s();return this.divRemTo(t,e,n),new Array(e,n)}function Dt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Mt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Rt(){}function Ft(t){return t}function Wt(t,e,n){t.multiplyTo(e,n)}function kt(t,e){t.squareTo(e)}function jt(t){return this.exp(t,new Rt)}function qt(t,e,n){var i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;var r;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()}function Ht(t,e,n){--e;var i=n.t=this.t+t.t-e;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)n[this.t+i-e]=this.am(e-i,t[i],n,0,0,this.t+i-e);n.clamp(),n.drShiftTo(1,n)}function Ut(t){this.r2=s(),this.q3=s(),o.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function zt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=s();return t.copyTo(e),this.reduce(e),e}function Gt(t){return t}function Vt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Jt(t,e){t.squareTo(e),this.reduce(e)}function Zt(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function $t(t,e){var n,i,r=t.bitLength(),o=c(1);if(r<=0)return o;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new w(e):e.isEven()?new Ut(e):new F(e);var a=new Array,l=3,u=n-1,p=(1<<n)-1;if(a[1]=i.convert(this),n>1){var h=s();for(i.sqrTo(a[1],h);l<=p;)a[l]=s(),i.mulTo(h,a[l-2],a[l]),l+=2}var f,d,y=t.t-1,v=!0,m=s();for(r=_(t[y])-1;y>=0;){for(r>=u?f=t[y]>>r-u&p:(f=(t[y]&(1<<r+1)-1)<<u-r,y>0&&(f|=t[y-1]>>this.DB+r-u)),l=n;0==(1&f);)f>>=1,--l;if((r-=l)<0&&(r+=this.DB,--y),v)a[f].copyTo(o),v=!1;else{for(;l>1;)i.sqrTo(o,m),i.sqrTo(m,o),l-=2;l>0?i.sqrTo(o,m):(d=o,o=m,m=d),i.mulTo(m,a[f],o)}for(;y>=0&&0==(t[y]&1<<r);)i.sqrTo(o,m),d=o,o=m,m=d,--r<0&&(r=this.DB-1,--y)}return i.revert(o)}function Qt(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var i=e;e=n,n=i}var r=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(r<o&&(o=r),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(r=e.getLowestSetBit())>0&&e.rShiftTo(r,e),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function Kt(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var i=this.t-1;i>=0;--i)n=(e*n+this[i])%t;return n}function te(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return o.ZERO;for(var n=t.clone(),i=this.clone(),r=c(1),s=c(0),a=c(0),l=c(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(r.isEven()&&s.isEven()||(r.addTo(this,r),s.subTo(t,s)),r.rShiftTo(1,r)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&l.isEven()||(a.addTo(this,a),l.subTo(t,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);n.compareTo(i)>=0?(n.subTo(i,n),e&&r.subTo(a,r),s.subTo(l,s)):(i.subTo(n,i),e&&a.subTo(r,a),l.subTo(s,l))}return 0!=i.compareTo(o.ONE)?o.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l}function ee(t){var e,n=this.abs();if(1==n.t&&n[0]<=Pe[Pe.length-1]){for(e=0;e<Pe.length;++e)if(n[0]==Pe[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<Pe.length;){for(var i=Pe[e],r=e+1;r<Pe.length&&i<xe;)i*=Pe[r++];for(i=n.modInt(i);e<r;)if(i%Pe[e++]==0)return!1}return n.millerRabin(t)}function ne(t){var e=this.subtract(o.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var i=e.shiftRight(n);t=t+1>>1,t>Pe.length&&(t=Pe.length);for(var r=s(),a=0;a<t;++a){r.fromInt(Pe[Math.floor(Math.random()*Pe.length)]);var l=r.modPow(i,this);if(0!=l.compareTo(o.ONE)&&0!=l.compareTo(e)){for(var u=1;u++<n&&0!=l.compareTo(e);)if(l=l.modPowInt(2,this),0==l.compareTo(o.ONE))return!1;if(0!=l.compareTo(e))return!1}}return!0}var ie=!1,re=!1,oe=!0,se={},ae=!1;"undefined"!=typeof t&&t.exports?(t.exports=se,ae=!0):(i=se,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r)),"undefined"!=typeof document?window.ClipperLib=se:self.ClipperLib=se);var le;if(ae){var ue="chrome";le="Netscape"}else{var ue=navigator.userAgent.toString().toLowerCase();le=navigator.appName}var pe={};ue.indexOf("chrome")!=-1&&ue.indexOf("chromium")==-1?pe.chrome=1:pe.chrome=0,ue.indexOf("chromium")!=-1?pe.chromium=1:pe.chromium=0,ue.indexOf("safari")!=-1&&ue.indexOf("chrome")==-1&&ue.indexOf("chromium")==-1?pe.safari=1:pe.safari=0,ue.indexOf("firefox")!=-1?pe.firefox=1:pe.firefox=0,ue.indexOf("firefox/17")!=-1?pe.firefox17=1:pe.firefox17=0,ue.indexOf("firefox/15")!=-1?pe.firefox15=1:pe.firefox15=0,ue.indexOf("firefox/3")!=-1?pe.firefox3=1:pe.firefox3=0,ue.indexOf("opera")!=-1?pe.opera=1:pe.opera=0,ue.indexOf("msie 10")!=-1?pe.msie10=1:pe.msie10=0,ue.indexOf("msie 9")!=-1?pe.msie9=1:pe.msie9=0,ue.indexOf("msie 8")!=-1?pe.msie8=1:pe.msie8=0,ue.indexOf("msie 7")!=-1?pe.msie7=1:pe.msie7=0,ue.indexOf("msie ")!=-1?pe.msie=1:pe.msie=0,se.biginteger_used=null;var he,fe=0xdeadbeefcafe,de=15715070==(16777215&fe);de&&"Microsoft Internet Explorer"==le?(o.prototype.am=l,he=30):de&&"Netscape"!=le?(o.prototype.am=a,he=26):(o.prototype.am=u,he=28),o.prototype.DB=he,o.prototype.DM=(1<<he)-1,o.prototype.DV=1<<he;var ce=52;o.prototype.FV=Math.pow(2,ce),o.prototype.F1=ce-he,o.prototype.F2=2*he-ce;var ye,ve,me="0123456789abcdefghijklmnopqrstuvwxyz",ge=new Array;for(ye="0".charCodeAt(0),ve=0;ve<=9;++ve)ge[ye++]=ve;for(ye="a".charCodeAt(0),ve=10;ve<36;++ve)ge[ye++]=ve;for(ye="A".charCodeAt(0),ve=10;ve<36;++ve)ge[ye++]=ve;w.prototype.convert=X,w.prototype.revert=Y,w.prototype.reduce=B,w.prototype.mulTo=D,w.prototype.sqrTo=M,F.prototype.convert=W,F.prototype.revert=k,F.prototype.reduce=j,F.prototype.mulTo=H,F.prototype.sqrTo=q,o.prototype.copyTo=f,o.prototype.fromInt=d,o.prototype.fromString=y,o.prototype.clamp=v,o.prototype.dlShiftTo=b,o.prototype.drShiftTo=I,o.prototype.lShiftTo=E,o.prototype.rShiftTo=T,o.prototype.subTo=L,o.prototype.multiplyTo=S,o.prototype.squareTo=O,o.prototype.divRemTo=A,o.prototype.invDigit=R,o.prototype.isEven=U,o.prototype.exp=z,o.prototype.toString=m,o.prototype.negate=g,o.prototype.abs=P,o.prototype.compareTo=x,o.prototype.bitLength=C,o.prototype.mod=N,o.prototype.modPowInt=G,o.ZERO=c(0),o.ONE=c(1),Rt.prototype.convert=Ft,Rt.prototype.revert=Ft,Rt.prototype.mulTo=Wt,Rt.prototype.sqrTo=kt,Ut.prototype.convert=zt,Ut.prototype.revert=Gt,Ut.prototype.reduce=Vt,Ut.prototype.mulTo=Zt,Ut.prototype.sqrTo=Jt;var Pe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],xe=(1<<26)/Pe[Pe.length-1];o.prototype.chunkSize=Q,o.prototype.toRadix=tt,o.prototype.fromRadix=et,o.prototype.fromNumber=nt,o.prototype.bitwiseTo=at,o.prototype.changeBit=It,o.prototype.addTo=St,o.prototype.dMultiply=Dt,o.prototype.dAddOffset=Mt,o.prototype.multiplyLowerTo=qt,o.prototype.multiplyUpperTo=Ht,o.prototype.modInt=Kt,o.prototype.millerRabin=ne,o.prototype.clone=V,o.prototype.intValue=J,o.prototype.byteValue=Z,o.prototype.shortValue=$,o.prototype.signum=K,o.prototype.toByteArray=it,o.prototype.equals=rt,o.prototype.min=ot,o.prototype.max=st,o.prototype.and=ut,o.prototype.or=ht,o.prototype.xor=dt,o.prototype.andNot=yt,o.prototype.not=vt,o.prototype.shiftLeft=mt,o.prototype.shiftRight=gt,o.prototype.getLowestSetBit=xt,o.prototype.bitCount=Ct,o.prototype.testBit=bt,o.prototype.setBit=Et,o.prototype.clearBit=Tt,o.prototype.flipBit=Lt,o.prototype.add=Ot,o.prototype.subtract=At,o.prototype.multiply=Nt,o.prototype.divide=Xt,o.prototype.remainder=Yt,o.prototype.divideAndRemainder=Bt,o.prototype.modPow=$t,o.prototype.modInverse=te,o.prototype.pow=jt,o.prototype.gcd=Qt,o.prototype.isProbablePrime=ee,o.prototype.square=wt;var _e=o;_e.prototype.IsNegative=function(){return this.compareTo(_e.ZERO)==-1},_e.op_Equality=function(t,e){return 0==t.compareTo(e)},_e.op_Inequality=function(t,e){return 0!=t.compareTo(e)},_e.op_GreaterThan=function(t,e){return t.compareTo(e)>0},_e.op_LessThan=function(t,e){return t.compareTo(e)<0},_e.op_Addition=function(t,e){return new _e(t).add(new _e(e))},_e.op_Subtraction=function(t,e){return new _e(t).subtract(new _e(e))},_e.Int128Mul=function(t,e){return new _e(t).multiply(new _e(e))},_e.op_Division=function(t,e){return t.divide(e)},_e.prototype.ToDouble=function(){return parseFloat(this.toString())};var Ce=function(t,e){var n;if("undefined"==typeof Object.getOwnPropertyNames){for(n in e.prototype)"undefined"!=typeof t.prototype[n]&&t.prototype[n]!=Object.prototype[n]||(t.prototype[n]=e.prototype[n]);for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}else{for(var i=Object.getOwnPropertyNames(e.prototype),r=0;r<i.length;r++)"undefined"==typeof Object.getOwnPropertyDescriptor(t.prototype,i[r])&&Object.defineProperty(t.prototype,i[r],Object.getOwnPropertyDescriptor(e.prototype,i[r]));for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}};se.Path=function(){return[]},se.Paths=function(){return[]},se.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,1==t.length?(this.X=t[0].X,this.Y=t[0].Y):2==t.length&&(this.X=t[0],this.Y=t[1])},se.DoublePoint0=function(){this.X=0,this.Y=0},se.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y},se.DoublePoint2=function(t,e){this.X=t,this.Y=e},se.PolyNode=function(){this.m_Parent=null,this.m_polygon=new se.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},se.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;null!==e;)t=!t,e=e.m_Parent;return t},se.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},se.PolyNode.prototype.Contour=function(){return this.m_polygon},se.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e},se.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},se.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},se.PolyNode.prototype.Childs=function(){return this.m_Childs},se.PolyNode.prototype.Parent=function(){return this.m_Parent},se.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},se.PolyTree=function(){this.m_AllPolys=[],se.PolyNode.call(this)},se.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},se.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},se.PolyTree.prototype.Total=function(){var t=this.m_AllPolys.length;return t>0&&this.m_Childs[0]!=this.m_AllPolys[0]&&t--,t},Ce(se.PolyTree,se.PolyNode),se.Math_Abs_Int64=se.Math_Abs_Int32=se.Math_Abs_Double=function(t){return Math.abs(t)},se.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)},pe.msie||pe.opera||pe.safari?se.Cast_Int32=function(t){return 0|t}:se.Cast_Int32=function(t){return~~t},pe.chrome?se.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:pe.firefox&&"function"==typeof Number.toInteger?se.Cast_Int64=function(t){return Number.toInteger(t)}:pe.msie7||pe.msie8?se.Cast_Int64=function(t){return parseInt(t,10)}:pe.msie?se.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):0|t}:se.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t)},se.Clear=function(t){t.length=0},se.PI=3.141592653589793,se.PI2=6.283185307179586,se.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,re)if(this.Z=0,3==e)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(2==e)this.X=t[0],this.Y=t[1],this.Z=0;else if(1==e)if(t[0]instanceof se.DoublePoint){var n=t[0];this.X=se.Clipper.Round(n.X),this.Y=se.Clipper.Round(n.Y),this.Z=0}else{var i=t[0];"undefined"==typeof i.Z&&(i.Z=0),this.X=i.X,this.Y=i.Y,this.Z=i.Z}else this.X=0,this.Y=0,this.Z=0;else if(2==e)this.X=t[0],this.Y=t[1];else if(1==e)if(t[0]instanceof se.DoublePoint){var n=t[0];this.X=se.Clipper.Round(n.X),this.Y=se.Clipper.Round(n.Y)}else{var i=t[0];this.X=i.X,this.Y=i.Y}else this.X=0,this.Y=0},se.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y},se.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y},re?(se.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},se.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},se.IntPoint1dp=function(t){this.X=se.Clipper.Round(t.X),this.Y=se.Clipper.Round(t.Y),this.Z=0},se.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},se.IntPoint3=function(t,e,n){this.X=t,this.Y=e,this.Z=n}):(se.IntPoint0=function(){this.X=0,this.Y=0},se.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},se.IntPoint1dp=function(t){this.X=se.Clipper.Round(t.X),this.Y=se.Clipper.Round(t.Y)},se.IntPoint2=function(t,e){this.X=t,this.Y=e}),se.IntRect=function(){var t=arguments,e=t.length;4==e?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):1==e?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},se.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},se.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},se.IntRect4=function(t,e,n,i){this.left=t,this.top=e,this.right=n,this.bottom=i},se.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},se.PolyType={ptSubject:0,ptClip:1},se.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},se.JoinType={jtSquare:0,jtRound:1,jtMiter:2},se.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},se.EdgeSide={esLeft:0,esRight:1},se.Direction={dRightToLeft:0,dLeftToRight:1},se.TEdge=function(){this.Bot=new se.IntPoint,this.Curr=new se.IntPoint,this.Top=new se.IntPoint,this.Delta=new se.IntPoint,this.Dx=0,this.PolyTyp=se.PolyType.ptSubject,this.Side=se.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},se.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new se.IntPoint},se.MyIntersectNodeSort=function(){},se.MyIntersectNodeSort.Compare=function(t,e){var n=e.Pt.Y-t.Pt.Y;return n>0?1:n<0?-1:0},se.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},se.Scanbeam=function(){this.Y=0,this.Next=null},se.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},se.OutPt=function(){this.Idx=0,this.Pt=new se.IntPoint,this.Next=null,this.Prev=null},se.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new se.IntPoint},se.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},se.ClipperBase.horizontal=-9007199254740992,se.ClipperBase.Skip=-2,se.ClipperBase.Unassigned=-1,se.ClipperBase.tolerance=1e-20,ie?(se.ClipperBase.loRange=32767,se.ClipperBase.hiRange=32767):(se.ClipperBase.loRange=47453132,se.ClipperBase.hiRange=0xfffffffffffff),se.ClipperBase.near_zero=function(t){return t>-se.ClipperBase.tolerance&&t<se.ClipperBase.tolerance},se.ClipperBase.IsHorizontal=function(t){return 0===t.Delta.Y},se.ClipperBase.prototype.PointIsVertex=function(t,e){var n=e;do{if(se.IntPoint.op_Equality(n.Pt,t))return!0;n=n.Next}while(n!=e);return!1},se.ClipperBase.prototype.PointOnLineSegment=function(t,e,n,i){return i?t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&_e.op_Equality(_e.Int128Mul(t.X-e.X,n.Y-e.Y),_e.Int128Mul(n.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&(t.X-e.X)*(n.Y-e.Y)==(n.X-e.X)*(t.Y-e.Y)},se.ClipperBase.prototype.PointOnPolygon=function(t,e,n){for(var i=e;;){if(this.PointOnLineSegment(t,i.Pt,i.Next.Pt,n))return!0;if(i=i.Next,i==e)break}return!1},se.ClipperBase.prototype.SlopesEqual=se.ClipperBase.SlopesEqual=function(){var t,e,n,i,r,o,s,a=arguments,l=a.length;return 3==l?(t=a[0],e=a[1],s=a[2],s?_e.op_Equality(_e.Int128Mul(t.Delta.Y,e.Delta.X),_e.Int128Mul(t.Delta.X,e.Delta.Y)):se.Cast_Int64(t.Delta.Y*e.Delta.X)==se.Cast_Int64(t.Delta.X*e.Delta.Y)):4==l?(n=a[0],i=a[1],r=a[2],s=a[3],s?_e.op_Equality(_e.Int128Mul(n.Y-i.Y,i.X-r.X),_e.Int128Mul(n.X-i.X,i.Y-r.Y)):se.Cast_Int64((n.Y-i.Y)*(i.X-r.X))-se.Cast_Int64((n.X-i.X)*(i.Y-r.Y))===0):(n=a[0],i=a[1],r=a[2],o=a[3],s=a[4],s?_e.op_Equality(_e.Int128Mul(n.Y-i.Y,r.X-o.X),_e.Int128Mul(n.X-i.X,r.Y-o.Y)):se.Cast_Int64((n.Y-i.Y)*(r.X-o.X))-se.Cast_Int64((n.X-i.X)*(r.Y-o.Y))===0)},se.ClipperBase.SlopesEqual3=function(t,e,n){return n?_e.op_Equality(_e.Int128Mul(t.Delta.Y,e.Delta.X),_e.Int128Mul(t.Delta.X,e.Delta.Y)):se.Cast_Int64(t.Delta.Y*e.Delta.X)==se.Cast_Int64(t.Delta.X*e.Delta.Y)},se.ClipperBase.SlopesEqual4=function(t,e,n,i){return i?_e.op_Equality(_e.Int128Mul(t.Y-e.Y,e.X-n.X),_e.Int128Mul(t.X-e.X,e.Y-n.Y)):se.Cast_Int64((t.Y-e.Y)*(e.X-n.X))-se.Cast_Int64((t.X-e.X)*(e.Y-n.Y))===0},se.ClipperBase.SlopesEqual5=function(t,e,n,i,r){return r?_e.op_Equality(_e.Int128Mul(t.Y-e.Y,n.X-i.X),_e.Int128Mul(t.X-e.X,n.Y-i.Y)):se.Cast_Int64((t.Y-e.Y)*(n.X-i.X))-se.Cast_Int64((t.X-e.X)*(n.Y-i.Y))===0},se.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var n=0,i=this.m_edges[t].length;n<i;++n)this.m_edges[t][n]=null;se.Clear(this.m_edges[t])}se.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},se.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;null!==this.m_MinimaList;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null},se.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>se.ClipperBase.hiRange||t.Y>se.ClipperBase.hiRange||-t.X>se.ClipperBase.hiRange||-t.Y>se.ClipperBase.hiRange)&&se.Error("Coordinate outside allowed range in RangeTest()."):(t.X>se.ClipperBase.loRange||t.Y>se.ClipperBase.loRange||-t.X>se.ClipperBase.loRange||-t.Y>se.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))},se.ClipperBase.prototype.InitEdge=function(t,e,n,i){t.Next=e,t.Prev=n,t.Curr.X=i.X,t.Curr.Y=i.Y,t.OutIdx=-1},se.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y),this.SetDx(t),t.PolyTyp=e},se.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;se.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||se.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=se.ClipperBase.horizontal&&t.Prev.Dx!=se.ClipperBase.horizontal)break;for(;t.Prev.Dx==se.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==se.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t},se.ClipperBase.prototype.ProcessBound=function(t,e){var n,i,r=t;if(r.OutIdx==se.ClipperBase.Skip){if(t=r,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=r&&t.Dx==se.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=r&&t.Dx==se.ClipperBase.horizontal;)t=t.Next}if(t==r)r=e?t.Next:t.Prev;else{t=e?r.Next:r.Prev;var o=new se.LocalMinima;o.Next=null,o.Y=t.Bot.Y,o.LeftBound=null,o.RightBound=t,t.WindDelta=0,r=this.ProcessBound(t,e),this.InsertLocalMinima(o)}return r}if(t.Dx==se.ClipperBase.horizontal&&(n=e?t.Prev:t.Next,n.OutIdx!=se.ClipperBase.Skip&&(n.Dx==se.ClipperBase.horizontal?n.Bot.X!=t.Bot.X&&n.Top.X!=t.Bot.X&&this.ReverseHorizontal(t):n.Bot.X!=t.Bot.X&&this.ReverseHorizontal(t))),n=t,e){for(;r.Top.Y==r.Next.Bot.Y&&r.Next.OutIdx!=se.ClipperBase.Skip;)r=r.Next;if(r.Dx==se.ClipperBase.horizontal&&r.Next.OutIdx!=se.ClipperBase.Skip){for(i=r;i.Prev.Dx==se.ClipperBase.horizontal;)i=i.Prev;i.Prev.Top.X==r.Next.Top.X?e||(r=i.Prev):i.Prev.Top.X>r.Next.Top.X&&(r=i.Prev)}for(;t!=r;)t.NextInLML=t.Next,t.Dx==se.ClipperBase.horizontal&&t!=n&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==se.ClipperBase.horizontal&&t!=n&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),r=r.Next}else{for(;r.Top.Y==r.Prev.Bot.Y&&r.Prev.OutIdx!=se.ClipperBase.Skip;)r=r.Prev;if(r.Dx==se.ClipperBase.horizontal&&r.Prev.OutIdx!=se.ClipperBase.Skip){for(i=r;i.Next.Dx==se.ClipperBase.horizontal;)i=i.Next;i.Next.Top.X==r.Prev.Top.X?e||(r=i.Next):i.Next.Top.X>r.Prev.Top.X&&(r=i.Next)}for(;t!=r;)t.NextInLML=t.Prev,t.Dx==se.ClipperBase.horizontal&&t!=n&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==se.ClipperBase.horizontal&&t!=n&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),r=r.Prev}return r},se.ClipperBase.prototype.AddPath=function(t,e,n){oe?n||e!=se.PolyType.ptClip||se.Error("AddPath: Open paths must be subject."):n||se.Error("AddPath: Open paths have been disabled.");var i=t.length-1;if(n)for(;i>0&&se.IntPoint.op_Equality(t[i],t[0]);)--i;for(;i>0&&se.IntPoint.op_Equality(t[i],t[i-1]);)--i;if(n&&i<2||!n&&i<1)return!1;for(var r=new Array,o=0;o<=i;o++)r.push(new se.TEdge);var s=!0;r[1].Curr.X=t[1].X,r[1].Curr.Y=t[1].Y;var a={Value:this.m_UseFullRange};this.RangeTest(t[0],a),this.m_UseFullRange=a.Value,a.Value=this.m_UseFullRange,this.RangeTest(t[i],a),this.m_UseFullRange=a.Value,this.InitEdge(r[0],r[1],r[i],t[0]),this.InitEdge(r[i],r[0],r[i-1],t[i]);for(var o=i-1;o>=1;--o)a.Value=this.m_UseFullRange,this.RangeTest(t[o],a),this.m_UseFullRange=a.Value,this.InitEdge(r[o],r[o+1],r[o-1],t[o]);for(var l=r[0],u=l,p=l;;)if(u.Curr!=u.Next.Curr||!n&&u.Next==l){if(u.Prev==u.Next)break;if(!n||!se.ClipperBase.SlopesEqual(u.Prev.Curr,u.Curr,u.Next.Curr,this.m_UseFullRange)||this.PreserveCollinear&&this.Pt2IsBetweenPt1AndPt3(u.Prev.Curr,u.Curr,u.Next.Curr)){if(u=u.Next,u==p||!n&&u.Next==l)break}else u==l&&(l=u.Next),u=this.RemoveEdge(u),u=u.Prev,p=u}else{if(u==u.Next)break;u==l&&(l=u.Next),u=this.RemoveEdge(u),p=u}if(!n&&u==u.Next||n&&u.Prev==u.Next)return!1;n||(this.m_HasOpenPaths=!0,l.Prev.OutIdx=se.ClipperBase.Skip),u=l;do this.InitEdge2(u,e),u=u.Next,s&&u.Curr.Y!=l.Curr.Y&&(s=!1);while(u!=l);if(s){if(n)return!1;u.Prev.OutIdx=se.ClipperBase.Skip,u.Prev.Bot.X<u.Prev.Top.X&&this.ReverseHorizontal(u.Prev);var h=new se.LocalMinima;for(h.Next=null,h.Y=u.Bot.Y,h.LeftBound=null,h.RightBound=u,h.RightBound.Side=se.EdgeSide.esRight,h.RightBound.WindDelta=0;u.Next.OutIdx!=se.ClipperBase.Skip;)u.NextInLML=u.Next,u.Bot.X!=u.Prev.Top.X&&this.ReverseHorizontal(u),u=u.Next;return this.InsertLocalMinima(h),this.m_edges.push(r),!0}this.m_edges.push(r);var f,d=null;for(se.IntPoint.op_Equality(u.Prev.Bot,u.Prev.Top)&&(u=u.Next);u=this.FindNextLocMin(u),u!=d;){null==d&&(d=u);var h=new se.LocalMinima;h.Next=null,h.Y=u.Bot.Y,u.Dx<u.Prev.Dx?(h.LeftBound=u.Prev,h.RightBound=u,f=!1):(h.LeftBound=u,h.RightBound=u.Prev,f=!0),h.LeftBound.Side=se.EdgeSide.esLeft,h.RightBound.Side=se.EdgeSide.esRight,n?h.LeftBound.Next==h.RightBound?h.LeftBound.WindDelta=-1:h.LeftBound.WindDelta=1:h.LeftBound.WindDelta=0,h.RightBound.WindDelta=-h.LeftBound.WindDelta,u=this.ProcessBound(h.LeftBound,f),u.OutIdx==se.ClipperBase.Skip&&(u=this.ProcessBound(u,f));var c=this.ProcessBound(h.RightBound,!f);c.OutIdx==se.ClipperBase.Skip&&(c=this.ProcessBound(c,!f)),h.LeftBound.OutIdx==se.ClipperBase.Skip?h.LeftBound=null:h.RightBound.OutIdx==se.ClipperBase.Skip&&(h.RightBound=null),this.InsertLocalMinima(h),f||(u=c)}return!0},se.ClipperBase.prototype.AddPaths=function(t,e,n){for(var i=!1,r=0,o=t.length;r<o;++r)this.AddPath(t[r],e,n)&&(i=!0);return i},se.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,n){return!(se.IntPoint.op_Equality(t,n)||se.IntPoint.op_Equality(t,e)||se.IntPoint.op_Equality(n,e))&&(t.X!=n.X?e.X>t.X==e.X<n.X:e.Y>t.Y==e.Y<n.Y)},se.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e},se.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,0===t.Delta.Y?t.Dx=se.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y},se.ClipperBase.prototype.InsertLocalMinima=function(t){if(null===this.m_MinimaList)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;null!==e.Next&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}},se.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next)},se.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,re&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)},se.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,null!=this.m_CurrentLM)for(var t=this.m_MinimaList;null!=t;){var e=t.LeftBound;null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=se.EdgeSide.esLeft,e.OutIdx=se.ClipperBase.Unassigned),e=t.RightBound,null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=se.EdgeSide.esRight,e.OutIdx=se.ClipperBase.Unassigned),t=t.Next}},se.Clipper=function(t){"undefined"==typeof t&&(t=0),this.m_PolyOuts=null,this.m_ClipType=se.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=se.PolyFillType.pftEvenOdd,this.m_SubjFillType=se.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,se.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=se.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=0!==(1&t),this.StrictlySimple=0!==(2&t),this.PreserveCollinear=0!==(4&t),re&&(this.ZFillFunction=null)},se.Clipper.ioReverseSolution=1,se.Clipper.ioStrictlySimple=2,se.Clipper.ioPreserveCollinear=4,se.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),se.ClipperBase.prototype.Clear.call(this))},se.Clipper.prototype.DisposeScanbeamList=function(){for(;null!==this.m_Scanbeam;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}},se.Clipper.prototype.Reset=function(){se.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;null!==t;)this.InsertScanbeam(t.Y),t=t.Next},se.Clipper.prototype.InsertScanbeam=function(t){if(null===this.m_Scanbeam)this.m_Scanbeam=new se.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){var e=new se.Scanbeam;e.Y=t,e.Next=this.m_Scanbeam,this.m_Scanbeam=e}else{for(var n=this.m_Scanbeam;null!==n.Next&&t<=n.Next.Y;)n=n.Next;if(t==n.Y)return;var e=new se.Scanbeam;e.Y=t,e.Next=n.Next,n.Next=e}},se.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,n=t[1]instanceof se.PolyTree;if(4==e&&!n){var i=t[0],r=t[1],o=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&se.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,se.Clear(r),this.m_SubjFillType=o,this.m_ClipFillType=s,this.m_ClipType=i,this.m_UsingPolyTree=!1;try{var a=this.ExecuteInternal();a&&this.BuildResult(r)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return a}if(4==e&&n){var i=t[0],l=t[1],o=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=o,this.m_ClipFillType=s,this.m_ClipType=i,this.m_UsingPolyTree=!0;try{var a=this.ExecuteInternal();a&&this.BuildResult2(l)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return a}if(2==e&&!n){var i=t[0],r=t[1];return this.Execute(i,r,se.PolyFillType.pftEvenOdd,se.PolyFillType.pftEvenOdd)}if(2==e&&n){var i=t[0],l=t[1];return this.Execute(i,l,se.PolyFillType.pftEvenOdd,se.PolyFillType.pftEvenOdd);
}},se.Clipper.prototype.FixHoleLinkage=function(t){if(null!==t.FirstLeft&&(t.IsHole==t.FirstLeft.IsHole||null===t.FirstLeft.Pts)){for(var e=t.FirstLeft;null!==e&&(e.IsHole==t.IsHole||null===e.Pts);)e=e.FirstLeft;t.FirstLeft=e}},se.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),null===this.m_CurrentLM)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),se.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),null===this.m_Scanbeam)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var n=0,i=this.m_PolyOuts.length;n<i;n++){var r=this.m_PolyOuts[n];null===r.Pts||r.IsOpen||(r.IsHole^this.ReverseSolution)==this.Area(r)>0&&this.ReversePolyPtLinks(r.Pts)}this.JoinCommonEdges();for(var n=0,i=this.m_PolyOuts.length;n<i;n++){var r=this.m_PolyOuts[n];null===r.Pts||r.IsOpen||this.FixupOutPolygon(r)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{se.Clear(this.m_Joins),se.Clear(this.m_GhostJoins)}},se.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y;return this.m_Scanbeam=this.m_Scanbeam.Next,t},se.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);se.Clear(this.m_PolyOuts)},se.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];e.Pts=null,e=null,this.m_PolyOuts[t]=null},se.Clipper.prototype.AddJoin=function(t,e,n){var i=new se.Join;i.OutPt1=t,i.OutPt2=e,i.OffPt.X=n.X,i.OffPt.Y=n.Y,this.m_Joins.push(i)},se.Clipper.prototype.AddGhostJoin=function(t,e){var n=new se.Join;n.OutPt1=t,n.OffPt.X=e.X,n.OffPt.Y=e.Y,this.m_GhostJoins.push(n)},re&&(se.Clipper.prototype.SetZ=function(t,e,n){if(null!==this.ZFillFunction){if(0!=t.Z||null===this.ZFillFunction)return;se.IntPoint.op_Equality(t,e.Bot)?t.Z=e.Bot.Z:se.IntPoint.op_Equality(t,e.Top)?t.Z=e.Top.Z:se.IntPoint.op_Equality(t,n.Bot)?t.Z=n.Bot.Z:se.IntPoint.op_Equality(t,n.Top)?t.Z=n.Top.Z:ZFillFunction(e.Bot,e.Top,n.Bot,n.Top,t)}}),se.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;null!==this.m_CurrentLM&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,n=this.m_CurrentLM.RightBound;this.PopLocalMinima();var i=null;if(null===e?(this.InsertEdgeIntoAEL(n,null),this.SetWindingCount(n),this.IsContributing(n)&&(i=this.AddOutPt(n,n.Bot))):null==n?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(i=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(n,e),this.SetWindingCount(e),n.WindCnt=e.WindCnt,n.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(i=this.AddLocalMinPoly(e,n,e.Bot)),this.InsertScanbeam(e.Top.Y)),null!=n&&(se.ClipperBase.IsHorizontal(n)?this.AddEdgeToSEL(n):this.InsertScanbeam(n.Top.Y)),null!=e&&null!=n){if(null!==i&&se.ClipperBase.IsHorizontal(n)&&this.m_GhostJoins.length>0&&0!==n.WindDelta)for(var r=0,o=this.m_GhostJoins.length;r<o;r++){var s=this.m_GhostJoins[r];this.HorzSegmentsOverlap(s.OutPt1.Pt.X,s.OffPt.X,n.Bot.X,n.Top.X)&&this.AddJoin(s.OutPt1,i,s.OffPt)}if(e.OutIdx>=0&&null!==e.PrevInAEL&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&se.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&0!==e.WindDelta&&0!==e.PrevInAEL.WindDelta){var a=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(i,a,e.Top)}if(e.NextInAEL!=n){if(n.OutIdx>=0&&n.PrevInAEL.OutIdx>=0&&se.ClipperBase.SlopesEqual(n.PrevInAEL,n,this.m_UseFullRange)&&0!==n.WindDelta&&0!==n.PrevInAEL.WindDelta){var a=this.AddOutPt(n.PrevInAEL,n.Bot);this.AddJoin(i,a,n.Top)}var l=e.NextInAEL;if(null!==l)for(;l!=n;)this.IntersectEdges(n,l,e.Curr,!1),l=l.NextInAEL}}}},se.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(null===this.m_ActiveEdges)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(null===e&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(null===e&&(e=this.m_ActiveEdges);null!==e.NextInAEL&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}},se.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<se.Clipper.TopX(t,e.Top.Y):t.Top.X>se.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X},se.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==se.PolyType.ptSubject?this.m_SubjFillType==se.PolyFillType.pftEvenOdd:this.m_ClipFillType==se.PolyFillType.pftEvenOdd},se.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==se.PolyType.ptSubject?this.m_ClipFillType==se.PolyFillType.pftEvenOdd:this.m_SubjFillType==se.PolyFillType.pftEvenOdd},se.Clipper.prototype.IsContributing=function(t){var e,n;switch(t.PolyTyp==se.PolyType.ptSubject?(e=this.m_SubjFillType,n=this.m_ClipFillType):(e=this.m_ClipFillType,n=this.m_SubjFillType),e){case se.PolyFillType.pftEvenOdd:if(0===t.WindDelta&&1!=t.WindCnt)return!1;break;case se.PolyFillType.pftNonZero:if(1!=Math.abs(t.WindCnt))return!1;break;case se.PolyFillType.pftPositive:if(1!=t.WindCnt)return!1;break;default:if(t.WindCnt!=-1)return!1}switch(this.m_ClipType){case se.ClipType.ctIntersection:switch(n){case se.PolyFillType.pftEvenOdd:case se.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case se.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case se.ClipType.ctUnion:switch(n){case se.PolyFillType.pftEvenOdd:case se.PolyFillType.pftNonZero:return 0===t.WindCnt2;case se.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case se.ClipType.ctDifference:if(t.PolyTyp==se.PolyType.ptSubject)switch(n){case se.PolyFillType.pftEvenOdd:case se.PolyFillType.pftNonZero:return 0===t.WindCnt2;case se.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(n){case se.PolyFillType.pftEvenOdd:case se.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case se.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case se.ClipType.ctXor:if(0!==t.WindDelta)return!0;switch(n){case se.PolyFillType.pftEvenOdd:case se.PolyFillType.pftNonZero:return 0===t.WindCnt2;case se.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}}return!0},se.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;null!==e&&(e.PolyTyp!=t.PolyTyp||0===e.WindDelta);)e=e.PrevInAEL;if(null===e)t.WindCnt=0===t.WindDelta?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(0===t.WindDelta&&this.m_ClipType!=se.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(0===t.WindDelta){for(var n=!0,i=e.PrevInAEL;null!==i;)i.PolyTyp==e.PolyTyp&&0!==i.WindDelta&&(n=!n),i=i.PrevInAEL;t.WindCnt=n?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=0===t.WindDelta?1:t.WindDelta:0===t.WindDelta?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)0!==e.WindDelta&&(t.WindCnt2=0===t.WindCnt2?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL},se.Clipper.prototype.AddEdgeToSEL=function(t){null===this.m_SortedEdges?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)},se.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;null!==t;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL},se.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(t.NextInAEL!=t.PrevInAEL&&e.NextInAEL!=e.PrevInAEL){if(t.NextInAEL==e){var n=e.NextInAEL;null!==n&&(n.PrevInAEL=t);var i=t.PrevInAEL;null!==i&&(i.NextInAEL=e),e.PrevInAEL=i,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=n}else if(e.NextInAEL==t){var n=t.NextInAEL;null!==n&&(n.PrevInAEL=e);var i=e.PrevInAEL;null!==i&&(i.NextInAEL=t),t.PrevInAEL=i,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=n}else{var n=t.NextInAEL,i=t.PrevInAEL;t.NextInAEL=e.NextInAEL,null!==t.NextInAEL&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,null!==t.PrevInAEL&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=n,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=i,null!==e.PrevInAEL&&(e.PrevInAEL.NextInAEL=e)}null===t.PrevInAEL?this.m_ActiveEdges=t:null===e.PrevInAEL&&(this.m_ActiveEdges=e)}},se.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(null===t.NextInSEL&&null===t.PrevInSEL||null===e.NextInSEL&&null===e.PrevInSEL)){if(t.NextInSEL==e){var n=e.NextInSEL;null!==n&&(n.PrevInSEL=t);var i=t.PrevInSEL;null!==i&&(i.NextInSEL=e),e.PrevInSEL=i,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=n}else if(e.NextInSEL==t){var n=t.NextInSEL;null!==n&&(n.PrevInSEL=e);var i=e.PrevInSEL;null!==i&&(i.NextInSEL=t),t.PrevInSEL=i,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=n}else{var n=t.NextInSEL,i=t.PrevInSEL;t.NextInSEL=e.NextInSEL,null!==t.NextInSEL&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,null!==t.PrevInSEL&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=n,null!==e.NextInSEL&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=i,null!==e.PrevInSEL&&(e.PrevInSEL.NextInSEL=e)}null===t.PrevInSEL?this.m_SortedEdges=t:null===e.PrevInSEL&&(this.m_SortedEdges=e)}},se.Clipper.prototype.AddLocalMaxPoly=function(t,e,n){this.AddOutPt(t,n),0==e.WindDelta&&this.AddOutPt(e,n),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)},se.Clipper.prototype.AddLocalMinPoly=function(t,e,n){var i,r,o;if(se.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(i=this.AddOutPt(t,n),e.OutIdx=t.OutIdx,t.Side=se.EdgeSide.esLeft,e.Side=se.EdgeSide.esRight,r=t,o=r.PrevInAEL==e?e.PrevInAEL:r.PrevInAEL):(i=this.AddOutPt(e,n),t.OutIdx=e.OutIdx,t.Side=se.EdgeSide.esRight,e.Side=se.EdgeSide.esLeft,r=e,o=r.PrevInAEL==t?t.PrevInAEL:r.PrevInAEL),null!==o&&o.OutIdx>=0&&se.Clipper.TopX(o,n.Y)==se.Clipper.TopX(r,n.Y)&&se.ClipperBase.SlopesEqual(r,o,this.m_UseFullRange)&&0!==r.WindDelta&&0!==o.WindDelta){var s=this.AddOutPt(o,n);this.AddJoin(i,s,r.Top)}return i},se.Clipper.prototype.CreateOutRec=function(){var t=new se.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t},se.Clipper.prototype.AddOutPt=function(t,e){var n=t.Side==se.EdgeSide.esLeft;if(t.OutIdx<0){var i=this.CreateOutRec();i.IsOpen=0===t.WindDelta;var r=new se.OutPt;return i.Pts=r,r.Idx=i.Idx,r.Pt.X=e.X,r.Pt.Y=e.Y,r.Next=r,r.Prev=r,i.IsOpen||this.SetHoleState(t,i),t.OutIdx=i.Idx,r}var i=this.m_PolyOuts[t.OutIdx],o=i.Pts;if(n&&se.IntPoint.op_Equality(e,o.Pt))return o;if(!n&&se.IntPoint.op_Equality(e,o.Prev.Pt))return o.Prev;var r=new se.OutPt;return r.Idx=i.Idx,r.Pt.X=e.X,r.Pt.Y=e.Y,r.Next=o,r.Prev=o.Prev,r.Prev.Next=r,o.Prev=r,n&&(i.Pts=r),r},se.Clipper.prototype.SwapPoints=function(t,e){var n=new se.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,e.Value.X=n.X,e.Value.Y=n.Y},se.Clipper.prototype.HorzSegmentsOverlap=function(t,e,n,i){var r;return t>e&&(r=t,t=e,e=r),n>i&&(r=n,n=i,i=r),t<i&&n<e},se.Clipper.prototype.SetHoleState=function(t,e){for(var n=!1,i=t.PrevInAEL;null!==i;)i.OutIdx>=0&&0!=i.WindDelta&&(n=!n,null===e.FirstLeft&&(e.FirstLeft=this.m_PolyOuts[i.OutIdx])),i=i.PrevInAEL;n&&(e.IsHole=!0)},se.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?se.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)},se.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var n=t.Prev;se.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Prev;var i=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=t.Next;se.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Next;var r=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=e.Prev;se.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Prev;var o=Math.abs(this.GetDx(e.Pt,n.Pt));for(n=e.Next;se.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Next;var s=Math.abs(this.GetDx(e.Pt,n.Pt));return i>=o&&i>=s||r>=o&&r>=s},se.Clipper.prototype.GetBottomPt=function(t){for(var e=null,n=t.Next;n!=t;)n.Pt.Y>t.Pt.Y?(t=n,e=null):n.Pt.Y==t.Pt.Y&&n.Pt.X<=t.Pt.X&&(n.Pt.X<t.Pt.X?(e=null,t=n):n.Next!=t&&n.Prev!=t&&(e=n)),n=n.Next;if(null!==e)for(;e!=n;)for(this.FirstIsBottomPt(n,e)||(t=e),e=e.Next;se.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t},se.Clipper.prototype.GetLowermostRec=function(t,e){null===t.BottomPt&&(t.BottomPt=this.GetBottomPt(t.Pts)),null===e.BottomPt&&(e.BottomPt=this.GetBottomPt(e.Pts));var n=t.BottomPt,i=e.BottomPt;return n.Pt.Y>i.Pt.Y?t:n.Pt.Y<i.Pt.Y?e:n.Pt.X<i.Pt.X?t:n.Pt.X>i.Pt.X?e:n.Next==n?e:i.Next==i?t:this.FirstIsBottomPt(n,i)?t:e},se.Clipper.prototype.Param1RightOfParam2=function(t,e){do if(t=t.FirstLeft,t==e)return!0;while(null!==t);return!1},se.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e},se.Clipper.prototype.AppendPolygon=function(t,e){var n,i=this.m_PolyOuts[t.OutIdx],r=this.m_PolyOuts[e.OutIdx];n=this.Param1RightOfParam2(i,r)?r:this.Param1RightOfParam2(r,i)?i:this.GetLowermostRec(i,r);var o,s=i.Pts,a=s.Prev,l=r.Pts,u=l.Prev;t.Side==se.EdgeSide.esLeft?(e.Side==se.EdgeSide.esLeft?(this.ReversePolyPtLinks(l),l.Next=s,s.Prev=l,a.Next=u,u.Prev=a,i.Pts=u):(u.Next=s,s.Prev=u,l.Prev=a,a.Next=l,i.Pts=l),o=se.EdgeSide.esLeft):(e.Side==se.EdgeSide.esRight?(this.ReversePolyPtLinks(l),a.Next=u,u.Prev=a,l.Next=s,s.Prev=l):(a.Next=l,l.Prev=a,s.Prev=u,u.Next=s),o=se.EdgeSide.esRight),i.BottomPt=null,n==r&&(r.FirstLeft!=i&&(i.FirstLeft=r.FirstLeft),i.IsHole=r.IsHole),r.Pts=null,r.BottomPt=null,r.FirstLeft=i;var p=t.OutIdx,h=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var f=this.m_ActiveEdges;null!==f;){if(f.OutIdx==h){f.OutIdx=p,f.Side=o;break}f=f.NextInAEL}r.Idx=i.Idx},se.Clipper.prototype.ReversePolyPtLinks=function(t){if(null!==t){var e,n;e=t;do n=e.Next,e.Next=e.Prev,e.Prev=n,e=n;while(e!=t)}},se.Clipper.SwapSides=function(t,e){var n=t.Side;t.Side=e.Side,e.Side=n},se.Clipper.SwapPolyIndexes=function(t,e){var n=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=n},se.Clipper.prototype.IntersectEdges=function(t,e,n){var i=t.OutIdx>=0,r=e.OutIdx>=0;if(re&&this.SetZ(n,t,e),oe&&(0===t.WindDelta||0===e.WindDelta)){if(0==t.WindDelta&&0==e.WindDelta)return;return void(t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==se.ClipType.ctUnion?0===t.WindDelta?r&&(this.AddOutPt(t,n),i&&(t.OutIdx=-1)):i&&(this.AddOutPt(e,n),r&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(0!==t.WindDelta||1!=Math.abs(e.WindCnt)||this.m_ClipType==se.ClipType.ctUnion&&0!==e.WindCnt2?0!==e.WindDelta||1!=Math.abs(t.WindCnt)||this.m_ClipType==se.ClipType.ctUnion&&0!==t.WindCnt2||(this.AddOutPt(e,n),r&&(e.OutIdx=-1)):(this.AddOutPt(t,n),i&&(t.OutIdx=-1))))}if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var o=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=o}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta===0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=0===t.WindCnt2?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=0===e.WindCnt2?1:0:e.WindCnt2-=t.WindDelta;var s,a,l,u;t.PolyTyp==se.PolyType.ptSubject?(s=this.m_SubjFillType,l=this.m_ClipFillType):(s=this.m_ClipFillType,l=this.m_SubjFillType),e.PolyTyp==se.PolyType.ptSubject?(a=this.m_SubjFillType,u=this.m_ClipFillType):(a=this.m_ClipFillType,u=this.m_SubjFillType);var p,h;switch(s){case se.PolyFillType.pftPositive:p=t.WindCnt;break;case se.PolyFillType.pftNegative:p=-t.WindCnt;break;default:p=Math.abs(t.WindCnt)}switch(a){case se.PolyFillType.pftPositive:h=e.WindCnt;break;case se.PolyFillType.pftNegative:h=-e.WindCnt;break;default:h=Math.abs(e.WindCnt)}if(i&&r)0!=p&&1!=p||0!=h&&1!=h||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=se.ClipType.ctXor?this.AddLocalMaxPoly(t,e,n):(this.AddOutPt(t,n),this.AddOutPt(e,n),se.Clipper.SwapSides(t,e),se.Clipper.SwapPolyIndexes(t,e));else if(i)0!==h&&1!=h||(this.AddOutPt(t,n),se.Clipper.SwapSides(t,e),se.Clipper.SwapPolyIndexes(t,e));else if(r)0!==p&&1!=p||(this.AddOutPt(e,n),se.Clipper.SwapSides(t,e),se.Clipper.SwapPolyIndexes(t,e));else if(!(0!=p&&1!=p||0!=h&&1!=h)){var f,d;switch(l){case se.PolyFillType.pftPositive:f=t.WindCnt2;break;case se.PolyFillType.pftNegative:f=-t.WindCnt2;break;default:f=Math.abs(t.WindCnt2)}switch(u){case se.PolyFillType.pftPositive:d=e.WindCnt2;break;case se.PolyFillType.pftNegative:d=-e.WindCnt2;break;default:d=Math.abs(e.WindCnt2)}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,n);else if(1==p&&1==h)switch(this.m_ClipType){case se.ClipType.ctIntersection:f>0&&d>0&&this.AddLocalMinPoly(t,e,n);break;case se.ClipType.ctUnion:f<=0&&d<=0&&this.AddLocalMinPoly(t,e,n);break;case se.ClipType.ctDifference:(t.PolyTyp==se.PolyType.ptClip&&f>0&&d>0||t.PolyTyp==se.PolyType.ptSubject&&f<=0&&d<=0)&&this.AddLocalMinPoly(t,e,n);break;case se.ClipType.ctXor:this.AddLocalMinPoly(t,e,n)}else se.Clipper.SwapSides(t,e)}},se.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,n=t.NextInAEL;null===e&&null===n&&t!=this.m_ActiveEdges||(null!==e?e.NextInAEL=n:this.m_ActiveEdges=n,null!==n&&(n.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)},se.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,n=t.NextInSEL;null===e&&null===n&&t!=this.m_SortedEdges||(null!==e?e.NextInSEL=n:this.m_SortedEdges=n,null!==n&&(n.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)},se.Clipper.prototype.UpdateEdgeIntoAEL=function(t){null===t.NextInLML&&se.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,n=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,null!==e?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,null!==n&&(n.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,t=t.NextInLML,t.Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,t.PrevInAEL=e,t.NextInAEL=n,se.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t},se.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;null!==e;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges},se.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=se.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=se.Direction.dRightToLeft)},se.Clipper.prototype.ProcessHorizontal=function(t,e){var n={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,n);for(var i=n.Dir,r=n.Left,o=n.Right,s=t,a=null;null!==s.NextInLML&&se.ClipperBase.IsHorizontal(s.NextInLML);)s=s.NextInLML;for(null===s.NextInLML&&(a=this.GetMaximaPair(s));;){for(var l=t==s,u=this.GetNextInAEL(t,i);null!==u&&!(u.Curr.X==t.Top.X&&null!==t.NextInLML&&u.Dx<t.NextInLML.Dx);){var p=this.GetNextInAEL(u,i);if(i==se.Direction.dLeftToRight&&u.Curr.X<=o||i==se.Direction.dRightToLeft&&u.Curr.X>=r){if(u==a&&l){if(t.OutIdx>=0){for(var h=this.AddOutPt(t,t.Top),f=this.m_SortedEdges;null!==f;){if(f.OutIdx>=0&&this.HorzSegmentsOverlap(t.Bot.X,t.Top.X,f.Bot.X,f.Top.X)){var d=this.AddOutPt(f,f.Bot);this.AddJoin(d,h,f.Top)}f=f.NextInSEL}this.AddGhostJoin(h,t.Bot),this.AddLocalMaxPoly(t,a,t.Top)}return this.DeleteFromAEL(t),void this.DeleteFromAEL(a)}if(i==se.Direction.dLeftToRight){var c=new se.IntPoint(u.Curr.X,t.Curr.Y);this.IntersectEdges(t,u,c)}else{var c=new se.IntPoint(u.Curr.X,t.Curr.Y);this.IntersectEdges(u,t,c)}this.SwapPositionsInAEL(t,u)}else if(i==se.Direction.dLeftToRight&&u.Curr.X>=o||i==se.Direction.dRightToLeft&&u.Curr.X<=r)break;u=p}if(null===t.NextInLML||!se.ClipperBase.IsHorizontal(t.NextInLML))break;t=this.UpdateEdgeIntoAEL(t),t.OutIdx>=0&&this.AddOutPt(t,t.Bot);var n={Dir:i,Left:r,Right:o};this.GetHorzDirection(t,n),i=n.Dir,r=n.Left,o=n.Right}if(null!==t.NextInLML)if(t.OutIdx>=0){var h=this.AddOutPt(t,t.Top);if(e&&this.AddGhostJoin(h,t.Bot),t=this.UpdateEdgeIntoAEL(t),0===t.WindDelta)return;var y=t.PrevInAEL,p=t.NextInAEL;if(null!==y&&y.Curr.X==t.Bot.X&&y.Curr.Y==t.Bot.Y&&0!==y.WindDelta&&y.OutIdx>=0&&y.Curr.Y>y.Top.Y&&se.ClipperBase.SlopesEqual(t,y,this.m_UseFullRange)){var d=this.AddOutPt(y,t.Bot);this.AddJoin(h,d,t.Top)}else if(null!==p&&p.Curr.X==t.Bot.X&&p.Curr.Y==t.Bot.Y&&0!==p.WindDelta&&p.OutIdx>=0&&p.Curr.Y>p.Top.Y&&se.ClipperBase.SlopesEqual(t,p,this.m_UseFullRange)){var d=this.AddOutPt(p,t.Bot);this.AddJoin(h,d,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t)},se.Clipper.prototype.GetNextInAEL=function(t,e){return e==se.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL},se.Clipper.prototype.IsMinima=function(t){return null!==t&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t},se.Clipper.prototype.IsMaxima=function(t,e){return null!==t&&t.Top.Y==e&&null===t.NextInLML},se.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&null!==t.NextInLML},se.Clipper.prototype.GetMaximaPair=function(t){var e=null;return se.IntPoint.op_Equality(t.Next.Top,t.Top)&&null===t.Next.NextInLML?e=t.Next:se.IntPoint.op_Equality(t.Prev.Top,t.Top)&&null===t.Prev.NextInLML&&(e=t.Prev),null===e||e.OutIdx!=-2&&(e.NextInAEL!=e.PrevInAEL||se.ClipperBase.IsHorizontal(e))?e:null},se.Clipper.prototype.ProcessIntersections=function(t){if(null==this.m_ActiveEdges)return!0;try{if(this.BuildIntersectList(t),0==this.m_IntersectList.length)return!0;if(1!=this.m_IntersectList.length&&!this.FixupIntersectionOrder())return!1;this.ProcessIntersectList()}catch(t){this.m_SortedEdges=null,this.m_IntersectList.length=0,se.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},se.Clipper.prototype.BuildIntersectList=function(t){if(null!==this.m_ActiveEdges){var e=this.m_ActiveEdges;for(this.m_SortedEdges=e;null!==e;)e.PrevInSEL=e.PrevInAEL,e.NextInSEL=e.NextInAEL,e.Curr.X=se.Clipper.TopX(e,t),e=e.NextInAEL;for(var n=!0;n&&null!==this.m_SortedEdges;){for(n=!1,e=this.m_SortedEdges;null!==e.NextInSEL;){var i=e.NextInSEL,r=new se.IntPoint;if(e.Curr.X>i.Curr.X){this.IntersectPoint(e,i,r);var o=new se.IntersectNode;o.Edge1=e,o.Edge2=i,o.Pt.X=r.X,o.Pt.Y=r.Y,this.m_IntersectList.push(o),this.SwapPositionsInSEL(e,i),n=!0}else e=i}if(null===e.PrevInSEL)break;e.PrevInSEL.NextInSEL=null}this.m_SortedEdges=null}},se.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2},se.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y},se.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var n=e+1;n<t&&!this.EdgesAdjacent(this.m_IntersectList[n]);)n++;if(n==t)return!1;var i=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[n],this.m_IntersectList[n]=i}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0},se.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var n=this.m_IntersectList[t];this.IntersectEdges(n.Edge1,n.Edge2,n.Pt),this.SwapPositionsInAEL(n.Edge1,n.Edge2)}this.m_IntersectList.length=0};var be=function(t){return t<0?Math.ceil(t-.5):Math.round(t)},Ie=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},Ee=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)},Te=function(t){return t<0?(t-=.5,t<-2147483648?Math.ceil(t):0|t):(t+=.5,t>2147483647?Math.floor(t):0|t)};pe.msie?se.Clipper.Round=be:pe.chromium?se.Clipper.Round=Ee:pe.safari?se.Clipper.Round=Te:se.Clipper.Round=Ie,se.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+se.Clipper.Round(t.Dx*(e-t.Bot.Y))},se.Clipper.prototype.IntersectPoint=function(t,e,n){n.X=0,n.Y=0;var i,r;if(t.Dx==e.Dx)return n.Y=t.Curr.Y,void(n.X=se.Clipper.TopX(t,n.Y));if(0===t.Delta.X)n.X=t.Bot.X,se.ClipperBase.IsHorizontal(e)?n.Y=e.Bot.Y:(r=e.Bot.Y-e.Bot.X/e.Dx,n.Y=se.Clipper.Round(n.X/e.Dx+r));else if(0===e.Delta.X)n.X=e.Bot.X,se.ClipperBase.IsHorizontal(t)?n.Y=t.Bot.Y:(i=t.Bot.Y-t.Bot.X/t.Dx,n.Y=se.Clipper.Round(n.X/t.Dx+i));else{i=t.Bot.X-t.Bot.Y*t.Dx,r=e.Bot.X-e.Bot.Y*e.Dx;var o=(r-i)/(t.Dx-e.Dx);n.Y=se.Clipper.Round(o),Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=se.Clipper.Round(t.Dx*o+i):n.X=se.Clipper.Round(e.Dx*o+r)}if(n.Y<t.Top.Y||n.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return n.Y=t.Top.Y,n.X=se.Clipper.TopX(e,t.Top.Y),n.X<t.Top.X;n.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=se.Clipper.TopX(t,n.Y):n.X=se.Clipper.TopX(e,n.Y)}n.Y>t.Curr.Y&&(n.Y=t.Curr.Y,Math.abs(t.Dx)>Math.abs(e.Dx)?n.X=se.Clipper.TopX(e,n.Y):n.X=se.Clipper.TopX(t,n.Y))},se.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;null!==e;){var n=this.IsMaxima(e,t);if(n){var i=this.GetMaximaPair(e);n=null===i||!se.ClipperBase.IsHorizontal(i)}if(n){var r=e.PrevInAEL;this.DoMaxima(e),e=null===r?this.m_ActiveEdges:r.NextInAEL}else{if(this.IsIntermediate(e,t)&&se.ClipperBase.IsHorizontal(e.NextInLML)?(e=this.UpdateEdgeIntoAEL(e),e.OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=se.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){var r=e.PrevInAEL;if(e.OutIdx>=0&&0!==e.WindDelta&&null!==r&&r.OutIdx>=0&&r.Curr.X==e.Curr.X&&0!==r.WindDelta){var o=new se.IntPoint(e.Curr);re&&this.SetZ(o,r,e);var s=this.AddOutPt(r,o),a=this.AddOutPt(e,o);this.AddJoin(s,a,o)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;null!==e;){if(this.IsIntermediate(e,t)){var s=null;e.OutIdx>=0&&(s=this.AddOutPt(e,e.Top)),e=this.UpdateEdgeIntoAEL(e);var r=e.PrevInAEL,l=e.NextInAEL;if(null!==r&&r.Curr.X==e.Bot.X&&r.Curr.Y==e.Bot.Y&&null!==s&&r.OutIdx>=0&&r.Curr.Y>r.Top.Y&&se.ClipperBase.SlopesEqual(e,r,this.m_UseFullRange)&&0!==e.WindDelta&&0!==r.WindDelta){var a=this.AddOutPt(r,e.Bot);this.AddJoin(s,a,e.Top)}else if(null!==l&&l.Curr.X==e.Bot.X&&l.Curr.Y==e.Bot.Y&&null!==s&&l.OutIdx>=0&&l.Curr.Y>l.Top.Y&&se.ClipperBase.SlopesEqual(e,l,this.m_UseFullRange)&&0!==e.WindDelta&&0!==l.WindDelta){var a=this.AddOutPt(l,e.Bot);this.AddJoin(s,a,e.Top)}}e=e.NextInAEL}},se.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(null===e)return t.OutIdx>=0&&this.AddOutPt(t,t.Top),void this.DeleteFromAEL(t);for(var n=t.NextInAEL,i=!0;null!==n&&n!=e;)this.IntersectEdges(t,n,t.Top),this.SwapPositionsInAEL(t,n),n=t.NextInAEL;t.OutIdx==-1&&e.OutIdx==-1?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?(t.OutIdx>=0&&this.AddLocalMaxPoly(t,e,t.Top),this.DeleteFromAEL(t),this.DeleteFromAEL(e)):i&&0===t.WindDelta?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):se.Error("DoMaxima error")},se.Clipper.ReversePaths=function(t){for(var e=0,n=t.length;e<n;e++)t[e].reverse()},se.Clipper.Orientation=function(t){return se.Clipper.Area(t)>=0},se.Clipper.prototype.PointCount=function(t){if(null===t)return 0;var e=0,n=t;do e++,n=n.Next;while(n!=t);return e},se.Clipper.prototype.BuildResult=function(t){se.Clear(t);for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var i=this.m_PolyOuts[e];if(null!==i.Pts){var r=i.Pts.Prev,o=this.PointCount(r);if(!(o<2)){for(var s=new Array(o),a=0;a<o;a++)s[a]=r.Pt,r=r.Prev;t.push(s)}}}},se.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var i=this.m_PolyOuts[e],r=this.PointCount(i.Pts);if(!(i.IsOpen&&r<2||!i.IsOpen&&r<3)){this.FixHoleLinkage(i);var o=new se.PolyNode;t.m_AllPolys.push(o),i.PolyNode=o,o.m_polygon.length=r;for(var s=i.Pts.Prev,a=0;a<r;a++)o.m_polygon[a]=s.Pt,s=s.Prev}}for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var i=this.m_PolyOuts[e];null!==i.PolyNode&&(i.IsOpen?(i.PolyNode.IsOpen=!0,t.AddChild(i.PolyNode)):null!==i.FirstLeft&&null!=i.FirstLeft.PolyNode?i.FirstLeft.PolyNode.AddChild(i.PolyNode):t.AddChild(i.PolyNode))}},se.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var n=t.Pts;;){if(n.Prev==n||n.Prev==n.Next)return void(t.Pts=null);if(se.IntPoint.op_Equality(n.Pt,n.Next.Pt)||se.IntPoint.op_Equality(n.Pt,n.Prev.Pt)||se.ClipperBase.SlopesEqual(n.Prev.Pt,n.Pt,n.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(n.Prev.Pt,n.Pt,n.Next.Pt)))e=null,n.Prev.Next=n.Next,n.Next.Prev=n.Prev,n=n.Prev;else{if(n==e)break;null===e&&(e=n),n=n.Next}}t.Pts=n},se.Clipper.prototype.DupOutPt=function(t,e){var n=new se.OutPt;return n.Pt.X=t.Pt.X,n.Pt.Y=t.Pt.Y,n.Idx=t.Idx,e?(n.Next=t.Next,n.Prev=t,t.Next.Prev=n,t.Next=n):(n.Prev=t.Prev,n.Next=t,t.Prev.Next=n,t.Prev=n),n},se.Clipper.prototype.GetOverlap=function(t,e,n,i,r){return t<e?n<i?(r.Left=Math.max(t,n),r.Right=Math.min(e,i)):(r.Left=Math.max(t,i),r.Right=Math.min(e,n)):n<i?(r.Left=Math.max(e,n),r.Right=Math.min(t,i)):(r.Left=Math.max(e,i),r.Right=Math.min(t,n)),r.Left<r.Right},se.Clipper.prototype.JoinHorz=function(t,e,n,i,r,o){var s=t.Pt.X>e.Pt.X?se.Direction.dRightToLeft:se.Direction.dLeftToRight,a=n.Pt.X>i.Pt.X?se.Direction.dRightToLeft:se.Direction.dLeftToRight;if(s==a)return!1;if(s==se.Direction.dLeftToRight){for(;t.Next.Pt.X<=r.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==r.Y;)t=t.Next;o&&t.Pt.X!=r.X&&(t=t.Next),e=this.DupOutPt(t,!o),se.IntPoint.op_Inequality(e.Pt,r)&&(t=e,t.Pt.X=r.X,t.Pt.Y=r.Y,e=this.DupOutPt(t,!o))}else{for(;t.Next.Pt.X>=r.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==r.Y;)t=t.Next;o||t.Pt.X==r.X||(t=t.Next),e=this.DupOutPt(t,o),se.IntPoint.op_Inequality(e.Pt,r)&&(t=e,t.Pt.X=r.X,t.Pt.Y=r.Y,e=this.DupOutPt(t,o))}if(a==se.Direction.dLeftToRight){for(;n.Next.Pt.X<=r.X&&n.Next.Pt.X>=n.Pt.X&&n.Next.Pt.Y==r.Y;)n=n.Next;o&&n.Pt.X!=r.X&&(n=n.Next),i=this.DupOutPt(n,!o),se.IntPoint.op_Inequality(i.Pt,r)&&(n=i,n.Pt.X=r.X,n.Pt.Y=r.Y,i=this.DupOutPt(n,!o))}else{for(;n.Next.Pt.X>=r.X&&n.Next.Pt.X<=n.Pt.X&&n.Next.Pt.Y==r.Y;)n=n.Next;o||n.Pt.X==r.X||(n=n.Next),i=this.DupOutPt(n,o),se.IntPoint.op_Inequality(i.Pt,r)&&(n=i,n.Pt.X=r.X,n.Pt.Y=r.Y,i=this.DupOutPt(n,o))}return s==se.Direction.dLeftToRight==o?(t.Prev=n,n.Next=t,e.Next=i,i.Prev=e):(t.Next=n,n.Prev=t,e.Prev=i,i.Next=e),!0},se.Clipper.prototype.JoinPoints=function(t,e,n){var i=t.OutPt1,r=new se.OutPt,o=t.OutPt2,s=new se.OutPt,a=t.OutPt1.Pt.Y==t.OffPt.Y;if(a&&se.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&se.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){if(e!=n)return!1;for(r=t.OutPt1.Next;r!=i&&se.IntPoint.op_Equality(r.Pt,t.OffPt);)r=r.Next;var l=r.Pt.Y>t.OffPt.Y;for(s=t.OutPt2.Next;s!=o&&se.IntPoint.op_Equality(s.Pt,t.OffPt);)s=s.Next;var u=s.Pt.Y>t.OffPt.Y;return l!=u&&(l?(r=this.DupOutPt(i,!1),s=this.DupOutPt(o,!0),i.Prev=o,o.Next=i,r.Next=s,s.Prev=r,t.OutPt1=i,t.OutPt2=r,!0):(r=this.DupOutPt(i,!0),s=this.DupOutPt(o,!1),i.Next=o,o.Prev=i,r.Prev=s,s.Next=r,t.OutPt1=i,t.OutPt2=r,!0))}if(a){for(r=i;i.Prev.Pt.Y==i.Pt.Y&&i.Prev!=r&&i.Prev!=o;)i=i.Prev;for(;r.Next.Pt.Y==r.Pt.Y&&r.Next!=i&&r.Next!=o;)r=r.Next;if(r.Next==i||r.Next==o)return!1;for(s=o;o.Prev.Pt.Y==o.Pt.Y&&o.Prev!=s&&o.Prev!=r;)o=o.Prev;for(;s.Next.Pt.Y==s.Pt.Y&&s.Next!=o&&s.Next!=i;)s=s.Next;if(s.Next==o||s.Next==i)return!1;var p={Left:null,Right:null};if(!this.GetOverlap(i.Pt.X,r.Pt.X,o.Pt.X,s.Pt.X,p))return!1;var h,f=p.Left,d=p.Right,c=new se.IntPoint;return i.Pt.X>=f&&i.Pt.X<=d?(c.X=i.Pt.X,c.Y=i.Pt.Y,h=i.Pt.X>r.Pt.X):o.Pt.X>=f&&o.Pt.X<=d?(c.X=o.Pt.X,c.Y=o.Pt.Y,h=o.Pt.X>s.Pt.X):r.Pt.X>=f&&r.Pt.X<=d?(c.X=r.Pt.X,c.Y=r.Pt.Y,h=r.Pt.X>i.Pt.X):(c.X=s.Pt.X,c.Y=s.Pt.Y,h=s.Pt.X>o.Pt.X),t.OutPt1=i,t.OutPt2=o,this.JoinHorz(i,r,o,s,c,h)}for(r=i.Next;se.IntPoint.op_Equality(r.Pt,i.Pt)&&r!=i;)r=r.Next;var y=r.Pt.Y>i.Pt.Y||!se.ClipperBase.SlopesEqual(i.Pt,r.Pt,t.OffPt,this.m_UseFullRange);if(y){for(r=i.Prev;se.IntPoint.op_Equality(r.Pt,i.Pt)&&r!=i;)r=r.Prev;if(r.Pt.Y>i.Pt.Y||!se.ClipperBase.SlopesEqual(i.Pt,r.Pt,t.OffPt,this.m_UseFullRange))return!1}for(s=o.Next;se.IntPoint.op_Equality(s.Pt,o.Pt)&&s!=o;)s=s.Next;var v=s.Pt.Y>o.Pt.Y||!se.ClipperBase.SlopesEqual(o.Pt,s.Pt,t.OffPt,this.m_UseFullRange);if(v){for(s=o.Prev;se.IntPoint.op_Equality(s.Pt,o.Pt)&&s!=o;)s=s.Prev;if(s.Pt.Y>o.Pt.Y||!se.ClipperBase.SlopesEqual(o.Pt,s.Pt,t.OffPt,this.m_UseFullRange))return!1;
}return r!=i&&s!=o&&r!=s&&(e!=n||y!=v)&&(y?(r=this.DupOutPt(i,!1),s=this.DupOutPt(o,!0),i.Prev=o,o.Next=i,r.Next=s,s.Prev=r,t.OutPt1=i,t.OutPt2=r,!0):(r=this.DupOutPt(i,!0),s=this.DupOutPt(o,!1),i.Next=o,o.Prev=i,r.Prev=s,s.Next=r,t.OutPt1=i,t.OutPt2=r,!0))},se.Clipper.GetBounds=function(t){for(var e=0,n=t.length;e<n&&0==t[e].length;)e++;if(e==n)return new se.IntRect(0,0,0,0);var i=new se.IntRect;for(i.left=t[e][0].X,i.right=i.left,i.top=t[e][0].Y,i.bottom=i.top;e<n;e++)for(var r=0,o=t[e].length;r<o;r++)t[e][r].X<i.left?i.left=t[e][r].X:t[e][r].X>i.right&&(i.right=t[e][r].X),t[e][r].Y<i.top?i.top=t[e][r].Y:t[e][r].Y>i.bottom&&(i.bottom=t[e][r].Y);return i},se.Clipper.prototype.GetBounds2=function(t){var e=t,n=new se.IntRect;for(n.left=t.Pt.X,n.right=t.Pt.X,n.top=t.Pt.Y,n.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<n.left&&(n.left=t.Pt.X),t.Pt.X>n.right&&(n.right=t.Pt.X),t.Pt.Y<n.top&&(n.top=t.Pt.Y),t.Pt.Y>n.bottom&&(n.bottom=t.Pt.Y),t=t.Next;return n},se.Clipper.PointInPolygon=function(t,e){var n=0,i=e.length;if(i<3)return 0;for(var r=e[0],o=1;o<=i;++o){var s=o==i?e[0]:e[o];if(s.Y==t.Y&&(s.X==t.X||r.Y==t.Y&&s.X>t.X==r.X<t.X))return-1;if(r.Y<t.Y!=s.Y<t.Y)if(r.X>=t.X)if(s.X>t.X)n=1-n;else{var a=(r.X-t.X)*(s.Y-t.Y)-(s.X-t.X)*(r.Y-t.Y);if(0==a)return-1;a>0==s.Y>r.Y&&(n=1-n)}else if(s.X>t.X){var a=(r.X-t.X)*(s.Y-t.Y)-(s.X-t.X)*(r.Y-t.Y);if(0==a)return-1;a>0==s.Y>r.Y&&(n=1-n)}r=s}return n},se.Clipper.prototype.PointInPolygon=function(t,e){var n=0,i=e,r=t.X,o=t.Y,s=e.Pt.X,a=e.Pt.Y;do{e=e.Next;var l=e.Pt.X,u=e.Pt.Y;if(u==o&&(l==r||a==o&&l>r==s<r))return-1;if(a<o!=u<o)if(s>=r)if(l>r)n=1-n;else{var p=(s-r)*(u-o)-(l-r)*(a-o);if(0==p)return-1;p>0==u>a&&(n=1-n)}else if(l>r){var p=(s-r)*(u-o)-(l-r)*(a-o);if(0==p)return-1;p>0==u>a&&(n=1-n)}s=l,a=u}while(i!=e);return n},se.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var n=t;do{var i=this.PointInPolygon(n.Pt,e);if(i>=0)return i>0;n=n.Next}while(n!=t);return!0},se.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var n=0,i=this.m_PolyOuts.length;n<i;n++){var r=this.m_PolyOuts[n];if(null!=r.Pts&&null!=r.FirstLeft){var o=this.ParseFirstLeft(r.FirstLeft);o==t&&this.Poly2ContainsPoly1(r.Pts,e.Pts)&&(r.FirstLeft=e)}}},se.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var n=0,i=this.m_PolyOuts,r=i.length,o=i[n];n<r;n++,o=i[n])o.FirstLeft==t&&(o.FirstLeft=e)},se.Clipper.ParseFirstLeft=function(t){for(;null!=t&&null==t.Pts;)t=t.FirstLeft;return t},se.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var n=this.m_Joins[t],i=this.GetOutRec(n.OutPt1.Idx),r=this.GetOutRec(n.OutPt2.Idx);if(null!=i.Pts&&null!=r.Pts){var o;if(o=i==r?i:this.Param1RightOfParam2(i,r)?r:this.Param1RightOfParam2(r,i)?i:this.GetLowermostRec(i,r),this.JoinPoints(n,i,r))if(i==r){if(i.Pts=n.OutPt1,i.BottomPt=null,r=this.CreateOutRec(),r.Pts=n.OutPt2,this.UpdateOutPtIdxs(r),this.m_UsingPolyTree)for(var s=0,a=this.m_PolyOuts.length;s<a-1;s++){var l=this.m_PolyOuts[s];null!=l.Pts&&se.Clipper.ParseFirstLeft(l.FirstLeft)==i&&l.IsHole!=i.IsHole&&this.Poly2ContainsPoly1(l.Pts,n.OutPt2)&&(l.FirstLeft=r)}this.Poly2ContainsPoly1(r.Pts,i.Pts)?(r.IsHole=!i.IsHole,r.FirstLeft=i,this.m_UsingPolyTree&&this.FixupFirstLefts2(r,i),(r.IsHole^this.ReverseSolution)==this.Area(r)>0&&this.ReversePolyPtLinks(r.Pts)):this.Poly2ContainsPoly1(i.Pts,r.Pts)?(r.IsHole=i.IsHole,i.IsHole=!r.IsHole,r.FirstLeft=i.FirstLeft,i.FirstLeft=r,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,r),(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)):(r.IsHole=i.IsHole,r.FirstLeft=i.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(i,r))}else r.Pts=null,r.BottomPt=null,r.Idx=i.Idx,i.IsHole=o.IsHole,o==r&&(i.FirstLeft=r.FirstLeft),r.FirstLeft=i,this.m_UsingPolyTree&&this.FixupFirstLefts2(r,i)}}},se.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do e.Idx=t.Idx,e=e.Prev;while(e!=t.Pts)},se.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],n=e.Pts;if(null!=n&&!e.IsOpen)do{for(var i=n.Next;i!=e.Pts;){if(se.IntPoint.op_Equality(n.Pt,i.Pt)&&i.Next!=n&&i.Prev!=n){var r=n.Prev,o=i.Prev;n.Prev=o,o.Next=n,i.Prev=r,r.Next=i,e.Pts=n;var s=this.CreateOutRec();s.Pts=i,this.UpdateOutPtIdxs(s),this.Poly2ContainsPoly1(s.Pts,e.Pts)?(s.IsHole=!e.IsHole,s.FirstLeft=e,this.m_UsingPolyTree&&this.FixupFirstLefts2(s,e)):this.Poly2ContainsPoly1(e.Pts,s.Pts)?(s.IsHole=e.IsHole,e.IsHole=!s.IsHole,s.FirstLeft=e.FirstLeft,e.FirstLeft=s,this.m_UsingPolyTree&&this.FixupFirstLefts2(e,s)):(s.IsHole=e.IsHole,s.FirstLeft=e.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(e,s)),i=n}i=i.Next}n=n.Next}while(n!=e.Pts)}},se.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var n=0,i=0,r=e-1;i<e;++i)n+=(t[r].X+t[i].X)*(t[r].Y-t[i].Y),r=i;return.5*-n},se.Clipper.prototype.Area=function(t){var e=t.Pts;if(null==e)return 0;var n=0;do n+=(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next;while(e!=t.Pts);return.5*n},se.Clipper.SimplifyPolygon=function(t,e){var n=new Array,i=new se.Clipper(0);return i.StrictlySimple=!0,i.AddPath(t,se.PolyType.ptSubject,!0),i.Execute(se.ClipType.ctUnion,n,e,e),n},se.Clipper.SimplifyPolygons=function(t,e){"undefined"==typeof e&&(e=se.PolyFillType.pftEvenOdd);var n=new Array,i=new se.Clipper(0);return i.StrictlySimple=!0,i.AddPaths(t,se.PolyType.ptSubject,!0),i.Execute(se.ClipType.ctUnion,n,e,e),n},se.Clipper.DistanceSqrd=function(t,e){var n=t.X-e.X,i=t.Y-e.Y;return n*n+i*i},se.Clipper.DistanceFromLineSqrd=function(t,e,n){var i=e.Y-n.Y,r=n.X-e.X,o=i*e.X+r*e.Y;return o=i*t.X+r*t.Y-o,o*o/(i*i+r*r)},se.Clipper.SlopesNearCollinear=function(t,e,n,i){return Math.abs(t.X-e.X)>Math.abs(t.Y-e.Y)?t.X>e.X==t.X<n.X?se.Clipper.DistanceFromLineSqrd(t,e,n)<i:e.X>t.X==e.X<n.X?se.Clipper.DistanceFromLineSqrd(e,t,n)<i:se.Clipper.DistanceFromLineSqrd(n,t,e)<i:t.Y>e.Y==t.Y<n.Y?se.Clipper.DistanceFromLineSqrd(t,e,n)<i:e.Y>t.Y==e.Y<n.Y?se.Clipper.DistanceFromLineSqrd(e,t,n)<i:se.Clipper.DistanceFromLineSqrd(n,t,e)<i},se.Clipper.PointsAreClose=function(t,e,n){var i=t.X-e.X,r=t.Y-e.Y;return i*i+r*r<=n},se.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e},se.Clipper.CleanPolygon=function(t,e){"undefined"==typeof e&&(e=1.415);var n=t.length;if(0==n)return new Array;for(var i=new Array(n),r=0;r<n;++r)i[r]=new se.OutPt;for(var r=0;r<n;++r)i[r].Pt=t[r],i[r].Next=i[(r+1)%n],i[r].Next.Prev=i[r],i[r].Idx=0;for(var o=e*e,s=i[0];0==s.Idx&&s.Next!=s.Prev;)se.Clipper.PointsAreClose(s.Pt,s.Prev.Pt,o)?(s=se.Clipper.ExcludeOp(s),n--):se.Clipper.PointsAreClose(s.Prev.Pt,s.Next.Pt,o)?(se.Clipper.ExcludeOp(s.Next),s=se.Clipper.ExcludeOp(s),n-=2):se.Clipper.SlopesNearCollinear(s.Prev.Pt,s.Pt,s.Next.Pt,o)?(s=se.Clipper.ExcludeOp(s),n--):(s.Idx=1,s=s.Next);n<3&&(n=0);for(var a=new Array(n),r=0;r<n;++r)a[r]=new se.IntPoint(s.Pt),s=s.Next;return i=null,a},se.Clipper.CleanPolygons=function(t,e){for(var n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=se.Clipper.CleanPolygon(t[i],e);return n},se.Clipper.Minkowski=function(t,e,n,i){var r=i?1:0,o=t.length,s=e.length,a=new Array;if(n)for(var l=0;l<s;l++){for(var u=new Array(o),p=0,h=t.length,f=t[p];p<h;p++,f=t[p])u[p]=new se.IntPoint(e[l].X+f.X,e[l].Y+f.Y);a.push(u)}else for(var l=0;l<s;l++){for(var u=new Array(o),p=0,h=t.length,f=t[p];p<h;p++,f=t[p])u[p]=new se.IntPoint(e[l].X-f.X,e[l].Y-f.Y);a.push(u)}for(var d=new Array,l=0;l<s-1+r;l++)for(var p=0;p<o;p++){var c=new Array;c.push(a[l%s][p%o]),c.push(a[(l+1)%s][p%o]),c.push(a[(l+1)%s][(p+1)%o]),c.push(a[l%s][(p+1)%o]),se.Clipper.Orientation(c)||c.reverse(),d.push(c)}return d},se.Clipper.MinkowskiSum=function(t,e,n){if(e[0]instanceof Array){for(var i=e,r=new se.Paths,o=new se.Clipper,s=0;s<i.length;++s){var a=se.Clipper.Minkowski(t,i[s],!0,n);if(o.AddPaths(a,se.PolyType.ptSubject,!0),n){var l=se.Clipper.TranslatePath(i[s],t[0]);o.AddPath(l,se.PolyType.ptClip,!0)}}return o.Execute(se.ClipType.ctUnion,r,se.PolyFillType.pftNonZero,se.PolyFillType.pftNonZero),r}var l=e,i=se.Clipper.Minkowski(t,l,!0,n),o=new se.Clipper;return o.AddPaths(i,se.PolyType.ptSubject,!0),o.Execute(se.ClipType.ctUnion,i,se.PolyFillType.pftNonZero,se.PolyFillType.pftNonZero),i},se.Clipper.TranslatePath=function(t,e){for(var n=new se.Path,i=0;i<t.length;i++)n.push(new se.IntPoint(t[i].X+e.X,t[i].Y+e.Y));return n},se.Clipper.MinkowskiDiff=function(t,e){var n=se.Clipper.Minkowski(t,e,!1,!0),i=new se.Clipper;return i.AddPaths(n,se.PolyType.ptSubject,!0),i.Execute(se.ClipType.ctUnion,n,se.PolyFillType.pftNonZero,se.PolyFillType.pftNonZero),n},se.Clipper.PolyTreeToPaths=function(t){var e=new Array;return se.Clipper.AddPolyNodeToPaths(t,se.Clipper.NodeType.ntAny,e),e},se.Clipper.AddPolyNodeToPaths=function(t,e,n){var i=!0;switch(e){case se.Clipper.NodeType.ntOpen:return;case se.Clipper.NodeType.ntClosed:i=!t.IsOpen}t.m_polygon.length>0&&i&&n.push(t.m_polygon);for(var r=0,o=t.Childs(),s=o.length,a=o[r];r<s;r++,a=o[r])se.Clipper.AddPolyNodeToPaths(a,e,n)},se.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new se.Paths,n=0,i=t.ChildCount();n<i;n++)t.Childs()[n].IsOpen&&e.push(t.Childs()[n].m_polygon);return e},se.Clipper.ClosedPathsFromPolyTree=function(t){var e=new se.Paths;return se.Clipper.AddPolyNodeToPaths(t,se.Clipper.NodeType.ntClosed,e),e},Ce(se.Clipper,se.ClipperBase),se.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},se.ClipperOffset=function(t,e){"undefined"==typeof t&&(t=2),"undefined"==typeof e&&(e=se.ClipperOffset.def_arc_tolerance),this.m_destPolys=new se.Paths,this.m_srcPoly=new se.Path,this.m_destPoly=new se.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new se.IntPoint,this.m_polyNodes=new se.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1},se.ClipperOffset.two_pi=6.28318530717959,se.ClipperOffset.def_arc_tolerance=.25,se.ClipperOffset.prototype.Clear=function(){se.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},se.ClipperOffset.Round=se.Clipper.Round,se.ClipperOffset.prototype.AddPath=function(t,e,n){var i=t.length-1;if(!(i<0)){var r=new se.PolyNode;if(r.m_jointype=e,r.m_endtype=n,n==se.EndType.etClosedLine||n==se.EndType.etClosedPolygon)for(;i>0&&se.IntPoint.op_Equality(t[0],t[i]);)i--;r.m_polygon.push(t[0]);for(var o=0,s=0,a=1;a<=i;a++)se.IntPoint.op_Inequality(r.m_polygon[o],t[a])&&(o++,r.m_polygon.push(t[a]),(t[a].Y>r.m_polygon[s].Y||t[a].Y==r.m_polygon[s].Y&&t[a].X<r.m_polygon[s].X)&&(s=o));if(!(n==se.EndType.etClosedPolygon&&o<2)&&(this.m_polyNodes.AddChild(r),n==se.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new se.IntPoint(this.m_polyNodes.ChildCount()-1,s);else{var l=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(r.m_polygon[s].Y>l.Y||r.m_polygon[s].Y==l.Y&&r.m_polygon[s].X<l.X)&&(this.m_lowest=new se.IntPoint(this.m_polyNodes.ChildCount()-1,s))}}},se.ClipperOffset.prototype.AddPaths=function(t,e,n){for(var i=0,r=t.length;i<r;i++)this.AddPath(t[i],e,n)},se.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!se.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];(e.m_endtype==se.EndType.etClosedPolygon||e.m_endtype==se.EndType.etClosedLine&&se.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];e.m_endtype!=se.EndType.etClosedLine||se.Clipper.Orientation(e.m_polygon)||e.m_polygon.reverse()}},se.ClipperOffset.GetUnitNormal=function(t,e){var n=e.X-t.X,i=e.Y-t.Y;if(0==n&&0==i)return new se.DoublePoint(0,0);var r=1/Math.sqrt(n*n+i*i);return n*=r,i*=r,new se.DoublePoint(i,-n)},se.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,se.ClipperBase.near_zero(t))for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];n.m_endtype==se.EndType.etClosedPolygon&&this.m_destPolys.push(n.m_polygon)}else{this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var i;i=this.ArcTolerance<=0?se.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*se.ClipperOffset.def_arc_tolerance?Math.abs(t)*se.ClipperOffset.def_arc_tolerance:this.ArcTolerance;var r=3.14159265358979/Math.acos(1-i/Math.abs(t));this.m_sin=Math.sin(se.ClipperOffset.two_pi/r),this.m_cos=Math.cos(se.ClipperOffset.two_pi/r),this.m_StepsPerRad=r/se.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];this.m_srcPoly=n.m_polygon;var o=this.m_srcPoly.length;if(!(0==o||t<=0&&(o<3||n.m_endtype!=se.EndType.etClosedPolygon)))if(this.m_destPoly=new Array,1!=o){this.m_normals.length=0;for(var s=0;s<o-1;s++)this.m_normals.push(se.ClipperOffset.GetUnitNormal(this.m_srcPoly[s],this.m_srcPoly[s+1]));if(n.m_endtype==se.EndType.etClosedLine||n.m_endtype==se.EndType.etClosedPolygon?this.m_normals.push(se.ClipperOffset.GetUnitNormal(this.m_srcPoly[o-1],this.m_srcPoly[0])):this.m_normals.push(new se.DoublePoint(this.m_normals[o-2])),n.m_endtype==se.EndType.etClosedPolygon){for(var a=o-1,s=0;s<o;s++)a=this.OffsetPoint(s,a,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(n.m_endtype==se.EndType.etClosedLine){for(var a=o-1,s=0;s<o;s++)a=this.OffsetPoint(s,a,n.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var l=this.m_normals[o-1],s=o-1;s>0;s--)this.m_normals[s]=new se.DoublePoint(-this.m_normals[s-1].X,-this.m_normals[s-1].Y);this.m_normals[0]=new se.DoublePoint(-l.X,-l.Y),a=0;for(var s=o-1;s>=0;s--)a=this.OffsetPoint(s,a,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var a=0,s=1;s<o-1;++s)a=this.OffsetPoint(s,a,n.m_jointype);var u;if(n.m_endtype==se.EndType.etOpenButt){var s=o-1;u=new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[s].X+this.m_normals[s].X*t),se.ClipperOffset.Round(this.m_srcPoly[s].Y+this.m_normals[s].Y*t)),this.m_destPoly.push(u),u=new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[s].X-this.m_normals[s].X*t),se.ClipperOffset.Round(this.m_srcPoly[s].Y-this.m_normals[s].Y*t)),this.m_destPoly.push(u)}else{var s=o-1;a=o-2,this.m_sinA=0,this.m_normals[s]=new se.DoublePoint(-this.m_normals[s].X,-this.m_normals[s].Y),n.m_endtype==se.EndType.etOpenSquare?this.DoSquare(s,a):this.DoRound(s,a)}for(var s=o-1;s>0;s--)this.m_normals[s]=new se.DoublePoint(-this.m_normals[s-1].X,-this.m_normals[s-1].Y);this.m_normals[0]=new se.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),a=o-1;for(var s=a-1;s>0;--s)a=this.OffsetPoint(s,a,n.m_jointype);n.m_endtype==se.EndType.etOpenButt?(u=new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),se.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),this.m_destPoly.push(u),u=new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),se.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(u)):(a=1,this.m_sinA=0,n.m_endtype==se.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}else{if(n.m_jointype==se.JoinType.jtRound)for(var p=1,h=0,s=1;s<=r;s++){this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),se.ClipperOffset.Round(this.m_srcPoly[0].Y+h*t)));var f=p;p=p*this.m_cos-this.m_sin*h,h=f*this.m_sin+h*this.m_cos}else for(var p=-1,h=-1,s=0;s<4;++s)this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),se.ClipperOffset.Round(this.m_srcPoly[0].Y+h*t))),p<0?p=1:h<0?h=1:p=-1;this.m_destPolys.push(this.m_destPoly)}}}},se.ClipperOffset.prototype.Execute=function(){var t=arguments,e=t[0]instanceof se.PolyTree;if(e){var n=t[0],i=t[1];n.Clear(),this.FixOrientations(),this.DoOffset(i);var r=new se.Clipper(0);if(r.AddPaths(this.m_destPolys,se.PolyType.ptSubject,!0),i>0)r.Execute(se.ClipType.ctUnion,n,se.PolyFillType.pftPositive,se.PolyFillType.pftPositive);else{var o=se.Clipper.GetBounds(this.m_destPolys),s=new se.Path;if(s.push(new se.IntPoint(o.left-10,o.bottom+10)),s.push(new se.IntPoint(o.right+10,o.bottom+10)),s.push(new se.IntPoint(o.right+10,o.top-10)),s.push(new se.IntPoint(o.left-10,o.top-10)),r.AddPath(s,se.PolyType.ptSubject,!0),r.ReverseSolution=!0,r.Execute(se.ClipType.ctUnion,n,se.PolyFillType.pftNegative,se.PolyFillType.pftNegative),1==n.ChildCount()&&n.Childs()[0].ChildCount()>0){var a=n.Childs()[0];n.Childs()[0]=a.Childs()[0],n.Childs()[0].m_Parent=n;for(var l=1;l<a.ChildCount();l++)n.AddChild(a.Childs()[l])}else n.Clear()}}else{var n=t[0],i=t[1];se.Clear(n),this.FixOrientations(),this.DoOffset(i);var r=new se.Clipper(0);if(r.AddPaths(this.m_destPolys,se.PolyType.ptSubject,!0),i>0)r.Execute(se.ClipType.ctUnion,n,se.PolyFillType.pftPositive,se.PolyFillType.pftPositive);else{var o=se.Clipper.GetBounds(this.m_destPolys),s=new se.Path;s.push(new se.IntPoint(o.left-10,o.bottom+10)),s.push(new se.IntPoint(o.right+10,o.bottom+10)),s.push(new se.IntPoint(o.right+10,o.top-10)),s.push(new se.IntPoint(o.left-10,o.top-10)),r.AddPath(s,se.PolyType.ptSubject,!0),r.ReverseSolution=!0,r.Execute(se.ClipType.ctUnion,n,se.PolyFillType.pftNegative,se.PolyFillType.pftNegative),n.length>0&&n.splice(0,1)}}},se.ClipperOffset.prototype.OffsetPoint=function(t,e,n){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,Math.abs(this.m_sinA*this.m_delta)<1){var i=this.m_normals[e].X*this.m_normals[t].X+this.m_normals[t].Y*this.m_normals[e].Y;if(i>0)return this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),se.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),e}else this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1);if(this.m_sinA*this.m_delta<0)this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),se.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new se.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),se.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(n){case se.JoinType.jtMiter:var r=1+(this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y);r>=this.m_miterLim?this.DoMiter(t,e,r):this.DoSquare(t,e);break;case se.JoinType.jtSquare:this.DoSquare(t,e);break;case se.JoinType.jtRound:this.DoRound(t,e)}return e=t},se.ClipperOffset.prototype.DoSquare=function(t,e){var n=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*n)),se.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*n)))),this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*n)),se.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*n))))},se.ClipperOffset.prototype.DoMiter=function(t,e,n){var i=this.m_delta/n;this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*i),se.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*i)))},se.ClipperOffset.prototype.DoRound=function(t,e){for(var n,i=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),r=Math.max(se.Cast_Int32(se.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(i))),1),o=this.m_normals[e].X,s=this.m_normals[e].Y,a=0;a<r;++a)this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[t].X+o*this.m_delta),se.ClipperOffset.Round(this.m_srcPoly[t].Y+s*this.m_delta))),n=o,o=o*this.m_cos-this.m_sin*s,s=n*this.m_sin+s*this.m_cos;this.m_destPoly.push(new se.IntPoint(se.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),se.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))},se.Error=function(t){try{throw new Error(t)}catch(t){alert(t.message)}},se.JS={},se.JS.AreaOfPolygon=function(t,e){return e||(e=1),se.Clipper.Area(t)/(e*e)},se.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var n=0,i=0;i<t.length;i++)n+=se.Clipper.Area(t[i]);return n/(e*e)},se.JS.BoundsOfPath=function(t,e){return se.JS.BoundsOfPaths([t],e)},se.JS.BoundsOfPaths=function(t,e){e||(e=1);var n=se.Clipper.GetBounds(t);return n.left/=e,n.bottom/=e,n.right/=e,n.top/=e,n},se.JS.Clean=function(t,e){if(!(t instanceof Array))return[];var n=t[0]instanceof Array,t=se.JS.Clone(t);if("number"!=typeof e||null===e)return se.Error("Delta is not a number in Clean()."),t;if(0===t.length||1==t.length&&0===t[0].length||e<0)return t;n||(t=[t]);for(var i,r,o,s,a,l,u,p=t.length,h=[],f=0;f<p;f++)if(r=t[f],i=r.length,0!==i)if(i<3)o=r,h.push(o);else{for(o=r,s=e*e,a=r[0],l=1,u=1;u<i;u++)(r[u].X-a.X)*(r[u].X-a.X)+(r[u].Y-a.Y)*(r[u].Y-a.Y)<=s||(o[l]=r[u],a=r[u],l++);a=r[l-1],(r[0].X-a.X)*(r[0].X-a.X)+(r[0].Y-a.Y)*(r[0].Y-a.Y)<=s&&l--,l<i&&o.splice(l,i-l),o.length&&h.push(o)}return!n&&h.length?h=h[0]:n||0!==h.length?n&&0===h.length&&(h=[[]]):h=[],h},se.JS.Clone=function(t){if(!(t instanceof Array))return[];if(0===t.length)return[];if(1==t.length&&0===t[0].length)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var n,i,r,o,s=t.length,a=new Array(s);for(i=0;i<s;i++){for(n=t[i].length,o=new Array(n),r=0;r<n;r++)o[r]={X:t[i][r].X,Y:t[i][r].Y};a[i]=o}return e||(a=a[0]),a},se.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if("number"!=typeof e||null===e)return se.Error("Tolerance is not a number in Lighten()."),se.JS.Clone(t);if(0===t.length||1==t.length&&0===t[0].length||e<0)return se.JS.Clone(t);t[0]instanceof Array||(t=[t]);var n,i,r,o,s,a,l,u,p,h,f,d,c,y,v,m,g,P=t.length,x=e*e,_=[];for(n=0;n<P;n++)if(r=t[n],a=r.length,0!=a){for(o=0;o<1e6;o++){for(s=[],a=r.length,r[a-1].X!=r[0].X||r[a-1].Y!=r[0].Y?(d=1,r.push({X:r[0].X,Y:r[0].Y}),a=r.length):d=0,f=[],i=0;i<a-2;i++)l=r[i],p=r[i+1],u=r[i+2],m=l.X,g=l.Y,c=u.X-m,y=u.Y-g,0===c&&0===y||(v=((p.X-m)*c+(p.Y-g)*y)/(c*c+y*y),v>1?(m=u.X,g=u.Y):v>0&&(m+=c*v,g+=y*v)),c=p.X-m,y=p.Y-g,h=c*c+y*y,h<=x&&(f[i+1]=1,i++);for(s.push({X:r[0].X,Y:r[0].Y}),i=1;i<a-1;i++)f[i]||s.push({X:r[i].X,Y:r[i].Y});if(s.push({X:r[a-1].X,Y:r[a-1].Y}),d&&r.pop(),!f.length)break;r=s}a=s.length,s[a-1].X==s[0].X&&s[a-1].Y==s[0].Y&&s.pop(),s.length>2&&_.push(s)}return t[0]instanceof Array||(_=_[0]),"undefined"==typeof _&&(_=[[]]),_},se.JS.PerimeterOfPath=function(t,e,n){if("undefined"==typeof t)return 0;var i,r,o=Math.sqrt,s=0,a=0,l=0,u=0,p=0,h=t.length;if(h<2)return 0;for(e&&(t[h]=t[0],h++);--h;)i=t[h],a=i.X,l=i.Y,r=t[h-1],u=r.X,p=r.Y,s+=o((a-u)*(a-u)+(l-p)*(l-p));return e&&t.pop(),s/n},se.JS.PerimeterOfPaths=function(t,e,n){n||(n=1);for(var i=0,r=0;r<t.length;r++)i+=se.JS.PerimeterOfPath(t[r],e,n);return i},se.JS.ScaleDownPath=function(t,e){var n,i;for(e||(e=1),n=t.length;n--;)i=t[n],i.X=i.X/e,i.Y=i.Y/e},se.JS.ScaleDownPaths=function(t,e){var n,i,r;for(e||(e=1),n=t.length;n--;)for(i=t[n].length;i--;)r=t[n][i],r.X=r.X/e,r.Y=r.Y/e},se.JS.ScaleUpPath=function(t,e){var n,i,r=Math.round;for(e||(e=1),n=t.length;n--;)i=t[n],i.X=r(i.X*e),i.Y=r(i.Y*e)},se.JS.ScaleUpPaths=function(t,e){var n,i,r,o=Math.round;for(e||(e=1),n=t.length;n--;)for(i=t[n].length;i--;)r=t[n][i],r.X=o(r.X*e),r.Y=o(r.Y*e)},se.ExPolygons=function(){return[]},se.ExPolygon=function(){this.outer=null,this.holes=null},se.JS.AddOuterPolyNodeToExPolygons=function(t,e){var n=new se.ExPolygon;n.outer=t.Contour();var i=t.Childs(),r=i.length;n.holes=new Array(r);var o,s,a,l,u,p;for(a=0;a<r;a++)for(o=i[a],n.holes[a]=o.Contour(),l=0,u=o.Childs(),p=u.length;l<p;l++)s=u[l],se.JS.AddOuterPolyNodeToExPolygons(s,e);e.push(n)},se.JS.ExPolygonsToPaths=function(t){var e,n,i,r,o=new se.Paths;for(e=0,i=t.length;e<i;e++)for(o.push(t[e].outer),n=0,r=t[e].holes.length;n<r;n++)o.push(t[e].holes[n]);return o},se.JS.PolyTreeToExPolygons=function(t){var e,n,i,r,o=new se.ExPolygons;for(n=0,i=t.Childs(),r=i.length;n<r;n++)e=i[n],se.JS.AddOuterPolyNodeToExPolygons(e,o);return o}}()},function(t,e,n){var i,r;!function(n){var o,s,a="0.4.2",l="hasOwnProperty",u=/[\.\/]/,p=/\s*,\s*/,h="*",f=function(t,e){return t-e},d={n:{}},c=function(){for(var t=0,e=this.length;t<e;t++)if("undefined"!=typeof this[t])return this[t]},y=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},v=function(t,e){t=String(t);var n,i=s,r=Array.prototype.slice.call(arguments,2),a=v.listeners(t),l=0,u=[],p={},h=[],d=o;h.firstDefined=c,h.lastDefined=y,o=t,s=0;for(var m=0,g=a.length;m<g;m++)"zIndex"in a[m]&&(u.push(a[m].zIndex),a[m].zIndex<0&&(p[a[m].zIndex]=a[m]));for(u.sort(f);u[l]<0;)if(n=p[u[l++]],h.push(n.apply(e,r)),s)return s=i,h;for(m=0;m<g;m++)if(n=a[m],"zIndex"in n)if(n.zIndex==u[l]){if(h.push(n.apply(e,r)),s)break;do if(l++,n=p[u[l]],n&&h.push(n.apply(e,r)),s)break;while(n)}else p[n.zIndex]=n;else if(h.push(n.apply(e,r)),s)break;return s=i,o=d,h};v._events=d,v.listeners=function(t){var e,n,i,r,o,s,a,l,p=t.split(u),f=d,c=[f],y=[];for(r=0,o=p.length;r<o;r++){for(l=[],s=0,a=c.length;s<a;s++)for(f=c[s].n,n=[f[p[r]],f[h]],i=2;i--;)e=n[i],e&&(l.push(e),y=y.concat(e.f||[]));c=l}return y},v.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(p),i=0,r=n.length;i<r;i++)!function(t){for(var n,i=t.split(u),r=d,o=0,s=i.length;o<s;o++)r=r.n,r=r.hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}});for(r.f=r.f||[],o=0,s=r.f.length;o<s;o++)if(r.f[o]==e){n=!0;break}!n&&r.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}},v.f=function(t){var e=[].slice.call(arguments,1);return function(){v.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},v.stop=function(){s=1},v.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(o):o},v.nts=function(){return o.split(u)},v.off=v.unbind=function(t,e){if(!t)return void(v._events=d={n:{}});var n=t.split(p);if(n.length>1)for(var i=0,r=n.length;i<r;i++)v.off(n[i],e);else{n=t.split(u);var o,s,a,i,r,f,c,y=[d];for(i=0,r=n.length;i<r;i++)for(f=0;f<y.length;f+=a.length-2){if(a=[f,1],o=y[f].n,n[i]!=h)o[n[i]]&&a.push(o[n[i]]);else for(s in o)o[l](s)&&a.push(o[s]);y.splice.apply(y,a)}for(i=0,r=y.length;i<r;i++)for(o=y[i];o.n;){if(e){if(o.f){for(f=0,c=o.f.length;f<c;f++)if(o.f[f]==e){o.f.splice(f,1);break}!o.f.length&&delete o.f}for(s in o.n)if(o.n[l](s)&&o.n[s].f){var m=o.n[s].f;for(f=0,c=m.length;f<c;f++)if(m[f]==e){m.splice(f,1);break}!m.length&&delete o.n[s].f}}else{delete o.f;for(s in o.n)o.n[l](s)&&o.n[s].f&&delete o.n[s].f}o=o.n}}},v.once=function(t,e){var n=function(){return v.unbind(t,n),e.apply(this,arguments)};return v.on(t,n)},v.version=a,v.toString=function(){return"You are running Eve "+a},"undefined"!=typeof t&&t.exports?t.exports=v:(i=[],r=function(){return v}.apply(e,i),!(void 0!==r&&(t.exports=r)))}(this)},function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assert Failed")}t.exports=n},function(t,e,n){"use strict";var i=n(1),r=function(t,e){this.x=+t||0,this.y=+e||0,this._p2t_edge_list=null};r.prototype.toString=function(){return i.toStringBase(this)},r.prototype.toJSON=function(){return{x:this.x,y:this.y}},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set_zero=function(){return this.x=0,this.y=0,this},r.prototype.set=function(t,e){return this.x=+t||0,this.y=+e||0,this},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.mul=function(t){return this.x*=t,this.y*=t,this},r.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.normalize=function(){var t=this.length();return this.x/=t,this.y/=t,t},r.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},r.negate=function(t){return new r(-t.x,-t.y)},r.add=function(t,e){return new r(t.x+e.x,t.y+e.y)},r.sub=function(t,e){return new r(t.x-e.x,t.y-e.y)},r.mul=function(t,e){return new r(t*e.x,t*e.y)},r.cross=function(t,e){return"number"==typeof t?"number"==typeof e?t*e:new r(-t*e.y,t*e.x):"number"==typeof e?new r(e*t.y,-e*t.x):t.x*e.y-t.y*e.x},r.toString=i.toString,r.compare=i.compare,r.cmp=i.compare,r.equals=i.equals,r.dot=function(t,e){return t.x*e.x+t.y*e.y},t.exports=r},function(t,e,n){"use strict";function i(t){t.initTriangulation(),t.createAdvancingFront(),r(t),o(t)}function r(t){var e,n=t.pointCount();for(e=1;e<n;++e)for(var i=t.getPoint(e),r=s(t,i),o=i._p2t_edge_list,l=0;o&&l<o.length;++l)a(t,o[l],r)}function o(t){for(var e=t.front().head().next.triangle,n=t.front().head().next.point;!e.getConstrainedEdgeCW(n);)e=e.neighborCCW(n);t.meshClean(e)}function s(t,e){var n=t.locateNode(e),i=p(t,e,n);return e.x<=n.point.x+R&&h(t,n),f(t,i),i}function a(t,e,n){t.edge_event.constrained_edge=e,t.edge_event.right=e.p.x>e.q.x,u(n.triangle,e.p,e.q)||(x(t,e,n),l(t,e.p,e.q,n.triangle,e.q))}function l(t,e,n,i,r){if(!u(i,e,n)){var o=i.pointCCW(r),s=W(n,o,e);if(s===F.COLLINEAR)throw new Y("poly2tri EdgeEvent: Collinear not supported!",[n,o,e]);var a=i.pointCW(r),p=W(n,a,e);if(p===F.COLLINEAR)throw new Y("poly2tri EdgeEvent: Collinear not supported!",[n,a,e]);s===p?(i=s===F.CW?i.neighborCCW(r):i.neighborCW(r),l(t,e,n,i,r)):O(t,e,n,i,r)}}function u(t,e,n){var i=t.edgeIndex(e,n);if(i!==-1){t.markConstrainedEdgeByIndex(i);var r=t.getNeighbor(i);return r&&r.markConstrainedEdgeByPoints(e,n),!0}return!1}function p(t,e,n){var i=new B(e,n.point,n.next.point);i.markNeighbor(n.triangle),t.addToMap(i);var r=new D(e);return r.next=n.next,r.prev=n,n.next.prev=r,n.next=r,c(t,i)||t.mapTriangleToNodes(i),r}function h(t,e){var n=new B(e.prev.point,e.point,e.next.point);n.markNeighbor(e.prev.triangle),n.markNeighbor(e.triangle),t.addToMap(n),e.prev.next=e.next,e.next.prev=e.prev,c(t,n)||t.mapTriangleToNodes(n)}function f(t,e){for(var n=e.next;n.next&&!j(n.point,n.next.point,n.prev.point);)h(t,n),n=n.next;for(n=e.prev;n.prev&&!j(n.point,n.next.point,n.prev.point);)h(t,n),n=n.prev;e.next&&e.next.next&&d(e)&&m(t,e)}function d(t){var e=t.point.x-t.next.next.point.x,n=t.point.y-t.next.next.point.y;return X(n>=0,"unordered y"),e>=0||Math.abs(e)<n}function c(t,e){for(var n=0;n<3;++n)if(!e.delaunay_edge[n]){var i=e.getNeighbor(n);if(i){var r=e.getPoint(n),o=i.oppositePoint(e,r),s=i.index(o);if(i.constrained_edge[s]||i.delaunay_edge[s]){e.constrained_edge[n]=i.constrained_edge[s];continue}var a=y(r,e.pointCCW(r),e.pointCW(r),o);if(a){e.delaunay_edge[n]=!0,i.delaunay_edge[s]=!0,v(e,r,i,o);var l=!c(t,e);return l&&t.mapTriangleToNodes(e),l=!c(t,i),l&&t.mapTriangleToNodes(i),e.delaunay_edge[n]=!1,i.delaunay_edge[s]=!1,!0}}}return!1}function y(t,e,n,i){var r=t.x-i.x,o=t.y-i.y,s=e.x-i.x,a=e.y-i.y,l=r*a,u=s*o,p=l-u;if(p<=0)return!1;var h=n.x-i.x,f=n.y-i.y,d=h*o,c=r*f,y=d-c;if(y<=0)return!1;var v=s*f,m=h*a,g=r*r+o*o,P=s*s+a*a,x=h*h+f*f,_=g*(v-m)+P*y+x*p;return _>0}function v(t,e,n,i){var r,o,s,a;r=t.neighborCCW(e),o=t.neighborCW(e),s=n.neighborCCW(i),a=n.neighborCW(i);var l,u,p,h;l=t.getConstrainedEdgeCCW(e),u=t.getConstrainedEdgeCW(e),p=n.getConstrainedEdgeCCW(i),h=n.getConstrainedEdgeCW(i);var f,d,c,y;f=t.getDelaunayEdgeCCW(e),d=t.getDelaunayEdgeCW(e),c=n.getDelaunayEdgeCCW(i),y=n.getDelaunayEdgeCW(i),t.legalize(e,i),n.legalize(i,e),n.setDelaunayEdgeCCW(e,f),t.setDelaunayEdgeCW(e,d),t.setDelaunayEdgeCCW(i,c),n.setDelaunayEdgeCW(i,y),n.setConstrainedEdgeCCW(e,l),t.setConstrainedEdgeCW(e,u),t.setConstrainedEdgeCCW(i,p),n.setConstrainedEdgeCW(i,h),t.clearNeighbors(),n.clearNeighbors(),r&&n.markNeighbor(r),o&&t.markNeighbor(o),s&&t.markNeighbor(s),a&&n.markNeighbor(a),t.markNeighbor(n)}function m(t,e){for(W(e.point,e.next.point,e.next.next.point)===F.CCW?t.basin.left_node=e.next.next:t.basin.left_node=e.next,
t.basin.bottom_node=t.basin.left_node;t.basin.bottom_node.next&&t.basin.bottom_node.point.y>=t.basin.bottom_node.next.point.y;)t.basin.bottom_node=t.basin.bottom_node.next;if(t.basin.bottom_node!==t.basin.left_node){for(t.basin.right_node=t.basin.bottom_node;t.basin.right_node.next&&t.basin.right_node.point.y<t.basin.right_node.next.point.y;)t.basin.right_node=t.basin.right_node.next;t.basin.right_node!==t.basin.bottom_node&&(t.basin.width=t.basin.right_node.point.x-t.basin.left_node.point.x,t.basin.left_highest=t.basin.left_node.point.y>t.basin.right_node.point.y,g(t,t.basin.bottom_node))}}function g(t,e){if(!P(t,e)){h(t,e);var n;if(e.prev!==t.basin.left_node||e.next!==t.basin.right_node){if(e.prev===t.basin.left_node){if(n=W(e.point,e.next.point,e.next.next.point),n===F.CW)return;e=e.next}else if(e.next===t.basin.right_node){if(n=W(e.point,e.prev.point,e.prev.prev.point),n===F.CCW)return;e=e.prev}else e=e.prev.point.y<e.next.point.y?e.prev:e.next;g(t,e)}}}function P(t,e){var n;return n=t.basin.left_highest?t.basin.left_node.point.y-e.point.y:t.basin.right_node.point.y-e.point.y,t.basin.width>n}function x(t,e,n){t.edge_event.right?_(t,e,n):E(t,e,n)}function _(t,e,n){for(;n.next.point.x<e.p.x;)W(e.q,n.next.point,e.p)===F.CCW?C(t,e,n):n=n.next}function C(t,e,n){n.point.x<e.p.x&&(W(n.point,n.next.point,n.next.next.point)===F.CCW?b(t,e,n):(I(t,e,n),C(t,e,n)))}function b(t,e,n){h(t,n.next),n.next.point!==e.p&&W(e.q,n.next.point,e.p)===F.CCW&&W(n.point,n.next.point,n.next.next.point)===F.CCW&&b(t,e,n)}function I(t,e,n){W(n.next.point,n.next.next.point,n.next.next.next.point)===F.CCW?b(t,e,n.next):W(e.q,n.next.next.point,e.p)===F.CCW&&I(t,e,n.next)}function E(t,e,n){for(;n.prev.point.x>e.p.x;)W(e.q,n.prev.point,e.p)===F.CW?T(t,e,n):n=n.prev}function T(t,e,n){n.point.x>e.p.x&&(W(n.point,n.prev.point,n.prev.prev.point)===F.CW?S(t,e,n):(L(t,e,n),T(t,e,n)))}function L(t,e,n){W(n.prev.point,n.prev.prev.point,n.prev.prev.prev.point)===F.CW?S(t,e,n.prev):W(e.q,n.prev.prev.point,e.p)===F.CW&&L(t,e,n.prev)}function S(t,e,n){h(t,n.prev),n.prev.point!==e.p&&W(e.q,n.prev.point,e.p)===F.CW&&W(n.point,n.prev.point,n.prev.prev.point)===F.CW&&S(t,e,n)}function O(t,e,n,i,r){var o=i.neighborAcross(r);X(o,"FLIP failed due to missing triangle!");var s=o.oppositePoint(i,r);if(i.getConstrainedEdgeAcross(r)){var a=i.index(r);throw new Y("poly2tri Intersecting Constraints",[r,s,i.getPoint((a+1)%3),i.getPoint((a+2)%3)])}if(k(r,i.pointCCW(r),i.pointCW(r),s))if(v(i,r,o,s),t.mapTriangleToNodes(i),t.mapTriangleToNodes(o),r===n&&s===e)n===t.edge_event.constrained_edge.q&&e===t.edge_event.constrained_edge.p&&(i.markConstrainedEdgeByPoints(e,n),o.markConstrainedEdgeByPoints(e,n),c(t,i),c(t,o));else{var u=W(n,s,e);i=A(t,u,i,o,r,s),O(t,e,n,i,r)}else{var p=N(e,n,o,s);w(t,e,n,i,o,p),l(t,e,n,i,r)}}function A(t,e,n,i,r,o){var s;return e===F.CCW?(s=i.edgeIndex(r,o),i.delaunay_edge[s]=!0,c(t,i),i.clearDelaunayEdges(),n):(s=n.edgeIndex(r,o),n.delaunay_edge[s]=!0,c(t,n),n.clearDelaunayEdges(),i)}function N(t,e,n,i){var r=W(e,i,t);if(r===F.CW)return n.pointCCW(i);if(r===F.CCW)return n.pointCW(i);throw new Y("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[e,i,t])}function w(t,e,n,i,r,o){var s=r.neighborAcross(o);X(s,"FLIP failed due to missing triangle");var a=s.oppositePoint(r,o);if(k(n,i.pointCCW(n),i.pointCW(n),a))O(t,n,a,s,a);else{var l=N(e,n,s,a);w(t,e,n,i,s,l)}}var X=n(8),Y=n(3),B=n(4),D=n(2).Node,M=n(12),R=M.EPSILON,F=M.Orientation,W=M.orient2d,k=M.inScanArea,j=M.isAngleObtuse;e.triangulate=i},function(t,e,n){"use strict";var i=n(3),r=n(9),o=n(4),s=n(10),a=n(2),l=a.Node,u=.3,p=function(t,e){if(this.p=t,this.q=e,t.y>e.y)this.q=t,this.p=e;else if(t.y===e.y)if(t.x>e.x)this.q=t,this.p=e;else if(t.x===e.x)throw new i("poly2tri Invalid Edge constructor: repeated points!",[t]);this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},h=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};h.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var f=function(){this.constrained_edge=null,this.right=!1},d=function(t,e){e=e||{},this.triangles_=[],this.map_=[],this.points_=e.cloneArrays?t.slice(0):t,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new h,this.edge_event=new f,this.initEdges(this.points_)};d.prototype.addHole=function(t){this.initEdges(t);var e,n=t.length;for(e=0;e<n;e++)this.points_.push(t[e]);return this},d.prototype.AddHole=d.prototype.addHole,d.prototype.addHoles=function(t){var e,n=t.length;for(e=0;e<n;e++)this.initEdges(t[e]);return this.points_=this.points_.concat.apply(this.points_,t),this},d.prototype.addPoint=function(t){return this.points_.push(t),this},d.prototype.AddPoint=d.prototype.addPoint,d.prototype.addPoints=function(t){return this.points_=this.points_.concat(t),this},d.prototype.triangulate=function(){return s.triangulate(this),this},d.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}},d.prototype.getTriangles=function(){return this.triangles_},d.prototype.GetTriangles=d.prototype.getTriangles,d.prototype.front=function(){return this.front_},d.prototype.pointCount=function(){return this.points_.length},d.prototype.head=function(){return this.head_},d.prototype.setHead=function(t){this.head_=t},d.prototype.tail=function(){return this.tail_},d.prototype.setTail=function(t){this.tail_=t},d.prototype.getMap=function(){return this.map_},d.prototype.initTriangulation=function(){var t,e=this.points_[0].x,n=this.points_[0].x,i=this.points_[0].y,o=this.points_[0].y,s=this.points_.length;for(t=1;t<s;t++){var a=this.points_[t];a.x>e&&(e=a.x),a.x<n&&(n=a.x),a.y>i&&(i=a.y),a.y<o&&(o=a.y)}this.pmin_=new r(n,o),this.pmax_=new r(e,i);var l=u*(e-n),p=u*(i-o);this.head_=new r(e+l,o-p),this.tail_=new r(n-l,o-p),this.points_.sort(r.compare)},d.prototype.initEdges=function(t){var e,n=t.length;for(e=0;e<n;++e)this.edge_list.push(new p(t[e],t[(e+1)%n]))},d.prototype.getPoint=function(t){return this.points_[t]},d.prototype.addToMap=function(t){this.map_.push(t)},d.prototype.locateNode=function(t){return this.front_.locateNode(t.x)},d.prototype.createAdvancingFront=function(){var t,e,n,i=new o(this.points_[0],this.tail_,this.head_);this.map_.push(i),t=new l(i.getPoint(1),i),e=new l(i.getPoint(0),i),n=new l(i.getPoint(2)),this.front_=new a(t,n),t.next=e,e.next=n,e.prev=t,n.prev=e},d.prototype.removeNode=function(t){},d.prototype.mapTriangleToNodes=function(t){for(var e=0;e<3;++e)if(!t.getNeighbor(e)){var n=this.front_.locatePoint(t.pointCW(t.getPoint(e)));n&&(n.triangle=t)}},d.prototype.removeFromMap=function(t){var e,n=this.map_,i=n.length;for(e=0;e<i;e++)if(n[e]===t){n.splice(e,1);break}},d.prototype.meshClean=function(t){for(var e,n,i=[t];e=i.pop();)if(!e.isInterior())for(e.setInterior(!0),this.triangles_.push(e),n=0;n<3;n++)e.constrained_edge[n]||i.push(e.getNeighbor(n))},t.exports=d},function(t,e){"use strict";function n(t,e,n){var i=(t.x-n.x)*(e.y-n.y),r=(t.y-n.y)*(e.x-n.x),a=i-r;return a>-1e-12&&a<o?s.COLLINEAR:a>0?s.CCW:s.CW}function i(t,e,n,i){var r=(t.x-e.x)*(i.y-e.y)-(i.x-e.x)*(t.y-e.y);if(r>=-1e-12)return!1;var s=(t.x-n.x)*(i.y-n.y)-(i.x-n.x)*(t.y-n.y);return!(s<=o)}function r(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,s=n.y-t.y;return i*o+r*s<0}var o=1e-12;e.EPSILON=o;var s={CW:1,CCW:-1,COLLINEAR:0};e.Orientation=s,e.orient2d=n,e.inScanArea=i,e.isAngleObtuse=r},function(t,e,n){window.eve=n(7);var i=function(t){var e={},n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},i=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},r=0,o="M"+(+new Date).toString(36),s=function(){return o+(r++).toString(36)},a=Date.now||function(){return+new Date},l=function(t){var e=this;if(null==t)return e.s;var n=e.s-t;e.b+=e.dur*n,e.B+=e.dur*n,e.s=t},u=function(t){var e=this;return null==t?e.spd:void(e.spd=t)},p=function(t){var e=this;return null==t?e.dur:(e.s=e.s*t/e.dur,void(e.dur=t))},h=function(){var n=this;delete e[n.id],n.update(),t("mina.stop."+n.id,n)},f=function(){var t=this;t.pdif||(delete e[t.id],t.update(),t.pdif=t.get()-t.b)},d=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,e[t.id]=t)},c=function(){var t,e=this;if(i(e.start)){t=[];for(var n=0,r=e.start.length;n<r;n++)t[n]=+e.start[n]+(e.end[n]-e.start[n])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},y=function(){var i=0;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],s=o.get();i++,o.s=(s-o.b)/(o.dur/o.spd),o.s>=1&&(delete e[r],o.s=1,i--,function(e){setTimeout(function(){t("mina.finish."+e.id,e)})}(o)),o.update()}i&&n(y)},v=function(t,i,r,o,a,m,g){var P={id:s(),start:t,end:i,b:r,s:0,dur:o-r,spd:1,get:a,set:m,easing:g||v.linear,status:l,speed:u,duration:p,stop:h,pause:f,resume:d,update:c};e[P.id]=P;var x,_=0;for(x in e)if(e.hasOwnProperty(x)&&(_++,2==_))break;return 1==_&&n(y),P};return v.time=a,v.getById=function(t){return e[t]||null},v.linear=function(t){return t},v.easeout=function(t){return Math.pow(t,1.7)},v.easein=function(t){return Math.pow(t,.48)},v.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,n=Math.sqrt(.1734+e*e),i=n-e,r=Math.pow(Math.abs(i),1/3)*(i<0?-1:1),o=-n-e,s=Math.pow(Math.abs(o),1/3)*(o<0?-1:1),a=r+s+.5;return 3*(1-a)*a*a+a*a*a},v.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},v.backout=function(t){if(0==t)return 0;t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},v.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1},v.bounce=function(t){var e,n=7.5625,i=2.75;return t<1/i?e=n*t*t:t<2/i?(t-=1.5/i,e=n*t*t+.75):t<2.5/i?(t-=2.25/i,e=n*t*t+.9375):(t-=2.625/i,e=n*t*t+.984375),e},window.mina=v,v}("undefined"==typeof eve?function(){}:eve),r=function(t){function e(t,n){if(t){if(t.nodeType)return _(t);if(i(t,"array")&&e.set)return e.set.apply(e,t);if(t instanceof v)return t;if(null==n)return t=b.doc.querySelector(String(t)),_(t)}return t=null==t?"100%":t,n=null==n?"100%":n,new x(t,n)}function n(t,e){if(e){if("#text"==t&&(t=b.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=b.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=n(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(H,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(U,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var i in e)if(e[I](i)){var r=E(e[i]);r?"xlink:"==i.substring(0,6)?t.setAttributeNS(H,i.substring(6),r):"xml:"==i.substring(0,4)?t.setAttributeNS(U,i.substring(4),r):t.setAttribute(i,r):t.removeAttribute(i)}}else"text"in e&&(t.nodeValue=e.text)}else t=b.doc.createElementNS(U,t);return t}function i(t,e){return e=E.prototype.toLowerCase.call(e),"finite"==e?isFinite(t):!("array"!=e||!(t instanceof Array||Array.isArray&&Array.isArray(t)))||("null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||Y.call(t).slice(8,-1).toLowerCase()==e)}function r(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[I](n)&&(e[n]=r(t[n]));return e}function o(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function s(t,e,n){function i(){var r=Array.prototype.slice.call(arguments,0),s=r.join("␀"),a=i.cache=i.cache||{},l=i.count=i.count||[];return a[I](s)?(o(l,s),n?n(a[s]):a[s]):(l.length>=1e3&&delete a[l.shift()],l.push(s),a[s]=t.apply(e,r),n?n(a[s]):a[s])}return i}function a(t,e,n,i,r,o){if(null==r){var s=t-n,l=e-i;return s||l?(180+180*S.atan2(-l,-s)/w+360)%360:0}return a(t,e,r,o)-a(n,i,r,o)}function l(t){return t%360*w/180}function u(t){return 180*t/w%360}function p(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,n,i){return i=i.split(/\s*,\s*|\s+/),"rotate"==n&&1==i.length&&i.push(0,0),"scale"==n&&(i.length>2?i=i.slice(0,2):2==i.length&&i.push(0,0),1==i.length&&i.push(i[0],0,0)),"skewX"==n?e.push(["m",1,0,S.tan(l(i[0])),1,0,0]):"skewY"==n?e.push(["m",1,S.tan(l(i[0])),0,1,0,0]):e.push([n.charAt(0)].concat(i)),t}),e}function h(t,n){var i=K(t),r=new e.Matrix;if(i)for(var o=0,s=i.length;o<s;o++){var a,l,u,p,h,f=i[o],d=f.length,c=E(f[0]).toLowerCase(),y=f[0]!=c,v=y?r.invert():0;"t"==c&&2==d?r.translate(f[1],0):"t"==c&&3==d?y?(a=v.x(0,0),l=v.y(0,0),u=v.x(f[1],f[2]),p=v.y(f[1],f[2]),r.translate(u-a,p-l)):r.translate(f[1],f[2]):"r"==c?2==d?(h=h||n,r.rotate(f[1],h.x+h.width/2,h.y+h.height/2)):4==d&&(y?(u=v.x(f[2],f[3]),p=v.y(f[2],f[3]),r.rotate(f[1],u,p)):r.rotate(f[1],f[2],f[3])):"s"==c?2==d||3==d?(h=h||n,r.scale(f[1],f[d-1],h.x+h.width/2,h.y+h.height/2)):4==d?y?(u=v.x(f[2],f[3]),p=v.y(f[2],f[3]),r.scale(f[1],f[1],u,p)):r.scale(f[1],f[1],f[2],f[3]):5==d&&(y?(u=v.x(f[3],f[4]),p=v.y(f[3],f[4]),r.scale(f[1],f[2],u,p)):r.scale(f[1],f[2],f[3],f[4])):"m"==c&&7==d&&r.add(f[1],f[2],f[3],f[4],f[5],f[6])}return r}function f(t){var n=t.node.ownerSVGElement&&_(t.node.ownerSVGElement)||t.node.parentNode&&_(t.node.parentNode)||e.select("svg")||e(0,0),i=n.select("defs"),r=null!=i&&i.node;return r||(r=P("defs",n.node).node),r}function d(t){return t.node.ownerSVGElement&&_(t.node.ownerSVGElement)||e.select("svg")}function c(t,e,i){function r(t){if(null==t)return X;if(t==+t)return t;n(u,{width:t});try{return u.getBBox().width}catch(t){return 0}}function o(t){if(null==t)return X;if(t==+t)return t;n(u,{height:t});try{return u.getBBox().height}catch(t){return 0}}function s(n,r){null==e?l[n]=r(t.attr(n)||0):n==e&&(l=r(null==i?t.attr(n)||0:i))}var a=d(t).node,l={},u=a.querySelector(".svg---mgr");switch(u||(u=n("rect"),n(u,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),a.appendChild(u)),t.type){case"rect":s("rx",r),s("ry",o);case"image":s("width",r),s("height",o);case"text":s("x",r),s("y",o);break;case"circle":s("cx",r),s("cy",o),s("r",r);break;case"ellipse":s("cx",r),s("cy",o),s("rx",r),s("ry",o);break;case"line":s("x1",r),s("x2",r),s("y1",o),s("y2",o);break;case"marker":s("refX",r),s("markerWidth",r),s("refY",o),s("markerHeight",o);break;case"radialGradient":s("fx",r),s("fy",o);break;case"tspan":s("dx",r),s("dy",o);break;default:s(e,r)}return a.removeChild(u),l}function y(t){i(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,n=0,r=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){r.appendChild(t.node)}):r.appendChild(t[e].node);var o=r.childNodes;for(e=0;e<o.length;e++)this[n++]=_(o[e]);return this}function v(t){if(t.snap in z)return z[t.snap];var e;try{e=t.ownerSVGElement}catch(t){}this.node=t,e&&(this.paper=new x(e)),this.type=t.tagName||t.nodeName;var n=this.id=q(this);if(this.anims={},this._={transform:[]},t.snap=n,z[n]=this,"g"==this.type&&(this.add=y),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var i in x.prototype)x.prototype[I](i)&&(this[i]=x.prototype[i])}function m(t){this.node=t}function P(t,e){var i=n(t);e.appendChild(i);var r=_(i);return r}function x(t,e){var i,r,o,s=x.prototype;if(t&&"svg"==t.tagName){if(t.snap in z)return z[t.snap];var a=t.ownerDocument;i=new v(t),r=t.getElementsByTagName("desc")[0],o=t.getElementsByTagName("defs")[0],r||(r=n("desc"),r.appendChild(a.createTextNode("Created with Snap")),i.node.appendChild(r)),o||(o=n("defs"),i.node.appendChild(o)),i.defs=o;for(var l in s)s[I](l)&&(i[l]=s[l]);i.paper=i.root=i}else i=P("svg",b.doc.body),n(i.node,{height:e,version:1.1,width:t,xmlns:U});return i}function _(t){return t?t instanceof v||t instanceof m?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new x(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new x(t.contentDocument.getElementsByTagName("svg")[0]):new v(t):t}function C(t,e){for(var n=0,i=t.length;n<i;n++){var r={type:t[n].type,attr:t[n].attr()},o=t[n].children();e.push(r),o.length&&C(o,r.childNodes=[])}}e.version="0.4.0",e.toString=function(){return"Snap v"+this.version},e._={};var b={win:t.window,doc:t.window.document};e._.glob=b;var I="hasOwnProperty",E=String,T=parseFloat,L=parseInt,S=Math,O=S.max,A=S.min,N=S.abs,w=(S.pow,S.PI),X=(S.round,""),Y=Object.prototype.toString,B=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,D=(e._.separator=/[,\s]+/,/[\s]*,[\s]*/),M={hs:1,rg:1},R=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,F=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,W=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,k=0,j="S"+(+new Date).toString(36),q=function(t){return(t&&t.type?t.type:X)+j+(k++).toString(36)},H="http://www.w3.org/1999/xlink",U="http://www.w3.org/2000/svg",z={};e.url=function(t){return"url('#"+t+"')"};e._.$=n,e._.id=q,e.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,i){var r=i;return n.replace(e,function(t,e,n,i,o){e=e||i,r&&(e in r&&(r=r[e]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==i?t:r)+""};return function(e,i){return E(e).replace(t,function(t,e){return n(t,e,i)})}}(),e._.clone=r,e._.cacher=s,e.rad=l,e.deg=u,e.sin=function(t){return S.sin(e.rad(t))},e.tan=function(t){return S.tan(e.rad(t))},e.cos=function(t){return S.cos(e.rad(t))},e.asin=function(t){return e.deg(S.asin(t))},e.acos=function(t){return e.deg(S.acos(t))},e.atan=function(t){return e.deg(S.atan(t))},e.atan2=function(t){return e.deg(S.atan2(t))},e.angle=a,e.len=function(t,n,i,r){return Math.sqrt(e.len2(t,n,i,r))},e.len2=function(t,e,n,i){return(t-n)*(t-n)+(e-i)*(e-i)},e.closestPoint=function(t,e,n){function i(t){var i=t.x-e,r=t.y-n;return i*i+r*r}for(var r,o,s,a,l=t.node,u=l.getTotalLength(),p=u/l.pathSegList.numberOfItems*.125,h=1/0,f=0;f<=u;f+=p)(a=i(s=l.getPointAtLength(f)))<h&&(r=s,o=f,h=a);for(p*=.5;p>.5;){var d,c,y,v,m,g;(y=o-p)>=0&&(m=i(d=l.getPointAtLength(y)))<h?(r=d,o=y,h=m):(v=o+p)<=u&&(g=i(c=l.getPointAtLength(v)))<h?(r=c,o=v,h=g):p*=.5}return r={x:r.x,y:r.y,length:o,distance:Math.sqrt(h)}},e.is=i,e.snapTo=function(t,e,n){if(n=i(n,"finite")?n:10,i(t,"array")){for(var r=t.length;r--;)if(N(t[r]-e)<=n)return t[r]}else{t=+t;var o=e%t;if(o<n)return e-o;if(o>t-n)return e-o+t}return e},e.getRGB=s(function(t){if(!t||(t=E(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:Z};if(!(M[I](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=G(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};var n,r,o,s,a,l,u=t.match(B);return u?(u[2]&&(o=L(u[2].substring(5),16),r=L(u[2].substring(3,5),16),n=L(u[2].substring(1,3),16)),u[3]&&(o=L((a=u[3].charAt(3))+a,16),r=L((a=u[3].charAt(2))+a,16),n=L((a=u[3].charAt(1))+a,16)),u[4]&&(l=u[4].split(D),n=T(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=T(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),o=T(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(s=T(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),u[5]?(l=u[5].split(D),n=T(l[0]),"%"==l[0].slice(-1)&&(n/=100),r=T(l[1]),"%"==l[1].slice(-1)&&(r/=100),o=T(l[2]),"%"==l[2].slice(-1)&&(o/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(s=T(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsb2rgb(n,r,o,s)):u[6]?(l=u[6].split(D),n=T(l[0]),"%"==l[0].slice(-1)&&(n/=100),r=T(l[1]),"%"==l[1].slice(-1)&&(r/=100),o=T(l[2]),"%"==l[2].slice(-1)&&(o/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(s=T(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsl2rgb(n,r,o,s)):(n=A(S.round(n),255),r=A(S.round(r),255),o=A(S.round(o),255),s=A(O(s,0),1),u={r:n,g:r,b:o,toString:Z},u.hex="#"+(16777216|o|r<<8|n<<16).toString(16).slice(1),u.opacity=i(s,"finite")?s:1,u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z}},e),e.hsb=s(function(t,n,i){return e.hsb2rgb(t,n,i).hex}),e.hsl=s(function(t,n,i){return e.hsl2rgb(t,n,i).hex}),e.rgb=s(function(t,e,n,r){if(i(r,"finite")){var o=S.round;return"rgba("+[o(t),o(e),o(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)});var G=function(t){var e=b.doc.getElementsByTagName("head")[0]||b.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(G=s(function(t){if("red"==t.toLowerCase())return n;e.style.color=n,e.style.color=t;var i=b.doc.defaultView.getComputedStyle(e,X).getPropertyValue("color");return i==n?null:i}))(t)},V=function(){return"hsb("+[this.h,this.s,this.b]+")"},J=function(){return"hsl("+[this.h,this.s,this.l]+")"},Z=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},$=function(t,n,r){if(null==n&&i(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r),null==n&&i(t,string)){var o=e.getRGB(t);t=o.r,n=o.g,r=o.b}return(t>1||n>1||r>1)&&(t/=255,n/=255,r/=255),[t,n,r]},Q=function(t,n,r,o){t=S.round(255*t),n=S.round(255*n),r=S.round(255*r);var s={r:t,g:n,b:r,opacity:i(o,"finite")?o:1,hex:e.rgb(t,n,r),toString:Z};return i(o,"finite")&&(s.opacity=o),s};e.color=function(t){var n;return i(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.opacity=1,t.hex=n.hex):i(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.opacity=1,t.hex=n.hex):(i(t,"string")&&(t=e.getRGB(t)),i(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=Z,t},e.hsb2rgb=function(t,e,n,r){i(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),t*=360;var o,s,a,l,u;return t=t%360/60,u=n*e,l=u*(1-N(t%2-1)),o=s=a=n-u,t=~~t,o+=[u,l,0,0,l,u][t],s+=[l,u,u,l,0,0][t],a+=[0,0,l,u,u,l][t],Q(o,s,a,r)},e.hsl2rgb=function(t,e,n,r){i(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var o,s,a,l,u;return t=t%360/60,u=2*e*(n<.5?n:1-n),l=u*(1-N(t%2-1)),o=s=a=n-u/2,t=~~t,o+=[u,l,0,0,l,u][t],s+=[l,u,u,l,0,0][t],a+=[0,0,l,u,u,l][t],Q(o,s,a,r)},e.rgb2hsb=function(t,e,n){n=$(t,e,n),t=n[0],e=n[1],n=n[2];var i,r,o,s;return o=O(t,e,n),s=o-A(t,e,n),i=0==s?null:o==t?(e-n)/s:o==e?(n-t)/s+2:(t-e)/s+4,i=(i+360)%6*60/360,r=0==s?0:s/o,{h:i,s:r,b:o,toString:V}},e.rgb2hsl=function(t,e,n){n=$(t,e,n),t=n[0],e=n[1],n=n[2];var i,r,o,s,a,l;return s=O(t,e,n),a=A(t,e,n),l=s-a,i=0==l?null:s==t?(e-n)/l:s==e?(n-t)/l+2:(t-e)/l+4,i=(i+360)%6*60/360,o=(s+a)/2,r=0==l?0:o<.5?l/(2*o):l/(2-2*o),{h:i,s:r,l:o,toString:J}},e.parsePathString=function(t){if(!t)return null;var n=e.path(t);if(n.arr)return e.path.clone(n.arr);var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return i(t,"array")&&i(t[0],"array")&&(o=e.path.clone(t)),o.length||E(t).replace(R,function(t,e,n){var i=[],s=e.toLowerCase();if(n.replace(W,function(t,e){e&&i.push(+e)}),"m"==s&&i.length>2&&(o.push([e].concat(i.splice(0,2))),s="l",e="m"==e?"l":"L"),"o"==s&&1==i.length&&o.push([e,i[0]]),"r"==s)o.push([e].concat(i));else for(;i.length>=r[s]&&(o.push([e].concat(i.splice(0,r[s]))),r[s]););}),o.toString=e.path.toString,n.arr=e.path.clone(o),o};var K=e.parseTransformString=function(t){if(!t)return null;var n=[];return i(t,"array")&&i(t[0],"array")&&(n=e.path.clone(t)),n.length||E(t).replace(F,function(t,e,i){var r=[];e.toLowerCase();i.replace(W,function(t,e){e&&r.push(+e)}),n.push([e].concat(r))}),n.toString=e.path.toString,n};e._.svgTransform2string=p,e._.rgTransform=/^[a-z][\s]*-?\.?\d/i,e._.transform2matrix=h,e._unit2px=c;b.doc.contains||b.doc.compareDocumentPosition?function(t,e){var n=9==t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t==i||!(!i||1!=i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e;)if(e=e.parentNode,e==t)return!0;return!1};e._.getSomeDefs=f,e._.getSomeSVG=d,e.select=function(t){return t=E(t).replace(/([^\\]):/g,"$1\\:"),_(b.doc.querySelector(t))},e.selectAll=function(t){for(var n=b.doc.querySelectorAll(t),i=(e.set||Array)(),r=0;r<n.length;r++)i.push(_(n[r]));return i},setInterval(function(){for(var t in z)if(z[I](t)){var e=z[t],n=e.node;("svg"!=e.type&&!n.ownerSVGElement||"svg"==e.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete z[t]}},1e4),v.prototype.attr=function(t,e){var n=this,r=n.node;if(!t){if(1!=r.nodeType)return{text:r.nodeValue};for(var o=r.attributes,s={},a=0,l=o.length;a<l;a++)s[o[a].nodeName]=o[a].nodeValue;return s}if(i(t,"string")){if(!(arguments.length>1))return eve("snap.util.getattr."+t,n).firstDefined();var u={};u[t]=e,t=u}for(var p in t)t[I](p)&&eve("snap.util.attr."+p,n,t[p]);return n},e.parse=function(t){var e=b.doc.createDocumentFragment(),n=!0,i=b.doc.createElement("div");if(t=E(t),t.match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",n=!1),i.innerHTML=t,t=i.getElementsByTagName("svg")[0])if(n)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new m(e)},e.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),n=b.doc.createDocumentFragment(),i=0,r=t.length;i<r;i++){var o=t[i];o.node&&o.node.nodeType&&n.appendChild(o.node),o.nodeType&&n.appendChild(o),"string"==typeof o&&n.appendChild(e.parse(o).node)}return new m(n)},e._.make=P,e._.wrap=_,x.prototype.el=function(t,e){var n=P(t,this.node);return e&&n.attr(e),n},v.prototype.children=function(){for(var t=[],n=this.node.childNodes,i=0,r=n.length;i<r;i++)t[i]=e(n[i]);return t},v.prototype.toJSON=function(){var t=[];return C([this],t),t[0]},eve.on("snap.util.getattr",function(){var t=eve.nt();t=t.substring(t.lastIndexOf(".")+1);var e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return tt[I](e)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(e):n(this.node,t)});var tt={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};eve.on("snap.util.attr",function(t){var e=eve.nt(),i={};e=e.substring(e.lastIndexOf(".")+1),i[e]=t;var r=e.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),o=e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});tt[I](o)?this.node.style[r]=null==t?X:t:n(this.node,i)}),function(t){}(x.prototype),e.ajax=function(t,e,n,r){var o=new XMLHttpRequest,s=q();if(o){if(i(e,"function"))r=n,n=e,e=null;else if(i(e,"object")){var a=[];for(var l in e)e.hasOwnProperty(l)&&a.push(encodeURIComponent(l)+"="+encodeURIComponent(e[l]));e=a.join("&")}return o.open(e?"POST":"GET",t,!0),e&&(o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-type","application/x-www-form-urlencoded")),n&&(eve.once("snap.ajax."+s+".0",n),eve.once("snap.ajax."+s+".200",n),eve.once("snap.ajax."+s+".304",n)),o.onreadystatechange=function(){4==o.readyState&&eve("snap.ajax."+s+"."+o.status,r,o)},4==o.readyState?o:(o.send(e),o)}},e.load=function(t,n,i){e.ajax(t,function(t){var r=e.parse(t.responseText);i?n.call(i,r):n(r)})};var et=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,a=e.top+(g.win.pageYOffset||r.scrollTop||i.scrollTop)-o,l=e.left+(g.win.pageXOffset||r.scrollLeft||i.scrollLeft)-s;return{y:a,x:l}};return e.getElementByPoint=function(t,e){var n=this,i=(n.canvas,b.doc.elementFromPoint(t,e));if(b.win.opera&&"svg"==i.tagName){var r=et(i),o=i.createSVGRect();o.x=t-r.x,o.y=e-r.y,o.width=o.height=1;var s=i.getIntersectionList(o,null);s.length&&(i=s[s.length-1])}return i?_(i):null},e.plugin=function(t){t(e,v,x,b,m)},b.win.Snap=e,e}(window||this);r.plugin(function(t,e,n,r,o){function s(e,n){if(null==n){var i=!0;if(n="linearGradient"==e.type||"radialGradient"==e.type?e.node.getAttribute("gradientTransform"):"pattern"==e.type?e.node.getAttribute("patternTransform"):e.node.getAttribute("transform"),!n)return new t.Matrix;n=t._.svgTransform2string(n)}else n=t._.rgTransform.test(n)?f(n).replace(/\.{3}|\u2026/g,e._.transform||E):t._.svgTransform2string(n),h(n,"array")&&(n=t.path?t.path.toString.call(n):f(n)),e._.transform=n;var r=t._.transform2matrix(n,e.getBBox(1));return i?r:void(e.matrix=r)}function a(t){function e(t,e){var n=c(t.node,e);n=n&&n.match(o),n=n&&n[2],n&&"#"==n.charAt()&&(n=n.substring(1),n&&(a[n]=(a[n]||[]).concat(function(n){var i={};i[e]=URL(n),c(t.node,i)})))}function n(t){var e=c(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1),e&&(a[e]=(a[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)})))}for(var i,r=t.selectAll("*"),o=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],a={},l=0,u=r.length;l<u;l++){i=r[l],e(i,"fill"),e(i,"stroke"),e(i,"filter"),e(i,"mask"),e(i,"clip-path"),n(i);var p=c(i.node,"id");p&&(c(i.node,{id:i.id}),s.push({old:p,id:i.id}))}for(l=0,u=s.length;l<u;l++){var h=a[s[l].old];if(h)for(var f=0,d=h.length;f<d;f++)h[f](s[l].id)}}function l(t,e,n){return function(i){var r=i.slice(t,e);return 1==r.length&&(r=r[0]),n?n(r):r}}function u(t){return function(){var e=t?"<"+this.type:"",n=this.node.attributes,i=this.node.childNodes;if(t)for(var r=0,o=n.length;r<o;r++)e+=" "+n[r].name+'="'+n[r].value.replace(/"/g,'\\"')+'"';if(i.length){for(t&&(e+=">"),r=0,o=i.length;r<o;r++)3==i[r].nodeType?e+=i[r].nodeValue:1==i[r].nodeType&&(e+=g(i[r]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}var p=e.prototype,h=t.is,f=String,d=t._unit2px,c=t._.$,y=t._.make,v=t._.getSomeDefs,m="hasOwnProperty",g=t._.wrap;p.getBBox=function(e){if(!t.Matrix||!t.path)return this.node.getBBox();var n=this,i=new t.Matrix;if(n.removed)return t._.box();for(;"use"==n.type;)if(e||(i=i.add(n.transform().localMatrix.translate(n.attr("x")||0,n.attr("y")||0))),n.original)n=n.original;else{var r=n.attr("xlink:href");n=n.original=n.node.ownerDocument.getElementById(r.substring(r.indexOf("#")+1))}var o=n._,s=t.path.get[n.type]||t.path.get.deflt;try{return e?(o.bboxwt=s?t.path.getBBox(n.realPath=s(n)):t._.box(n.node.getBBox()),t._.box(o.bboxwt)):(n.realPath=s(n),n.matrix=n.transform().localMatrix,o.bbox=t.path.getBBox(t.path.map(n.realPath,i.add(n.matrix))),t._.box(o.bbox))}catch(e){return t._.box()}};var P=function(){return this.string};p.transform=function(e){var n=this._;if(null==e){for(var i,r=this,o=new t.Matrix(this.node.getCTM()),a=s(this),l=[a],u=new t.Matrix,p=a.toTransformString(),h=f(a)==f(this.matrix)?f(n.transform):p;"svg"!=r.type&&(r=r.parent());)l.push(s(r));for(i=l.length;i--;)u.add(l[i]);return{string:h,globalMatrix:o,totalMatrix:u,localMatrix:a,diffMatrix:o.clone().add(a.invert()),global:o.toTransformString(),total:u.toTransformString(),local:p,toString:P}}return e instanceof t.Matrix?(this.matrix=e,this._.transform=e.toTransformString()):s(this,e),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?c(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?c(this.node,{
patternTransform:this.matrix}):c(this.node,{transform:this.matrix})),this},p.parent=function(){return g(this.node.parentNode)},p.append=p.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=g(t),this.node.appendChild(t.node),t.paper=this.paper}return this},p.appendTo=function(t){return t&&(t=g(t),t.append(this)),this},p.prepend=function(t){if(t){if("set"==t.type){var e,n=this;return t.forEach(function(t){e?e.after(t):n.prepend(t),e=t}),this}t=g(t);var i=t.parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),i&&i.add()}return this},p.prependTo=function(t){return t=g(t),t.prepend(this),this},p.before=function(t){if("set"==t.type){var e=this;return t.forEach(function(t){var n=t.parent();e.node.parentNode.insertBefore(t.node,e.node),n&&n.add()}),this.parent().add(),this}t=g(t);var n=t.parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),t.paper=this.paper,this},p.after=function(t){t=g(t);var e=t.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},p.insertBefore=function(t){t=g(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},p.insertAfter=function(t){t=g(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},p.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},p.select=function(t){return t=f(t).replace(/([^\\]):/g,"$1\\:"),g(this.node.querySelector(t))},p.selectAll=function(e){for(var n=this.node.querySelectorAll(e),i=(t.set||Array)(),r=0;r<n.length;r++)i.push(g(n[r]));return i},p.asPX=function(t,e){return null==e&&(e=this.attr(t)),+d(this,t,e)},p.use=function(){var t,e=this.node.id;return e||(e=this.id,c(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?y(this.type,this.node.parentNode):y("use",this.node.parentNode),c(t.node,{"xlink:href":"#"+e}),t.original=this,t},p.clone=function(){var t=g(this.node.cloneNode(!0));return c(t.node,"id")&&c(t.node,{id:t.id}),a(t),t.insertAfter(this),t},p.toDefs=function(){var t=v(this);return t.appendChild(this.node),this},p.pattern=p.toPattern=function(t,e,n,i){var r=y("pattern",v(this));return null==t&&(t=this.getBBox()),h(t,"object")&&"x"in t&&(e=t.y,n=t.width,i=t.height,t=t.x),c(r.node,{x:t,y:e,width:n,height:i,patternUnits:"userSpaceOnUse",id:r.id,viewBox:[t,e,n,i].join(" ")}),r.node.appendChild(this.node),r},p.marker=function(t,e,n,i,r,o){var s=y("marker",v(this));return null==t&&(t=this.getBBox()),h(t,"object")&&"x"in t&&(e=t.y,n=t.width,i=t.height,r=t.refX||t.cx,o=t.refY||t.cy,t=t.x),c(s.node,{viewBox:[t,e,n,i].join(" "),markerWidth:n,markerHeight:i,orient:"auto",refX:r||0,refY:o||0,id:s.id}),s.node.appendChild(this.node),s};var x=function(t,e,n,r){"function"!=typeof n||n.length||(r=n,n=i.linear),this.attr=t,this.dur=e,n&&(this.easing=n),r&&(this.callback=r)};t._.Animation=x,t.animation=function(t,e,n,i){return new x(t,e,n,i)},p.inAnim=function(){var t=this,e=[];for(var n in t.anims)t.anims[m](n)&&!function(t){e.push({anim:new x(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[n]);return e},t.animate=function(t,e,n,r,o,s){"function"!=typeof o||o.length||(s=o,o=i.linear);var a=i.time(),l=i(t,e,a,a+r,i.time,n,o);return s&&eve.once("mina.finish."+l.id,s),l},p.stop=function(){for(var t=this.inAnim(),e=0,n=t.length;e<n;e++)t[e].stop();return this},p.animate=function(t,e,n,r){"function"!=typeof n||n.length||(r=n,n=i.linear),t instanceof x&&(r=t.callback,n=t.easing,e=n.dur,t=t.attr);var o,s,a,u,p=[],d=[],c={},y=this;for(var v in t)if(t[m](v)){y.equal?(u=y.equal(v,f(t[v])),o=u.from,s=u.to,a=u.f):(o=+y.attr(v),s=+t[v]);var g=h(o,"array")?o.length:1;c[v]=l(p.length,p.length+g,a),p=p.concat(o),d=d.concat(s)}var P=i.time(),_=i(p,d,P,P+e,i.time,function(t){var e={};for(var n in c)c[m](n)&&(e[n]=c[n](t));y.attr(e)},n);return y.anims[_.id]=_,_._attrs=t,_._callback=r,eve("snap.animcreated."+y.id,_),eve.once("mina.finish."+_.id,function(){delete y.anims[_.id],r&&r.call(y)}),eve.once("mina.stop."+_.id,function(){delete y.anims[_.id]}),y};var _={};p.data=function(e,n){var i=_[this.id]=_[this.id]||{};if(0==arguments.length)return eve("snap.data.get."+this.id,this,i,null),i;if(1==arguments.length){if(t.is(e,"object")){for(var r in e)e[m](r)&&this.data(r,e[r]);return this}return eve("snap.data.get."+this.id,this,i[e],e),i[e]}return i[e]=n,eve("snap.data.set."+this.id,this,n,e),this},p.removeData=function(t){return null==t?_[this.id]={}:_[this.id]&&delete _[this.id][t],this},p.outerSVG=p.toString=u(1),p.innerSVG=u(),p.toDataURL=function(){if(window&&window.btoa){var e=this.getBBox(),n=t.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n)))}},o.prototype.select=p.select,o.prototype.selectAll=p.selectAll}),r.plugin(function(t,e,n,i,r){function o(t,e,n,i,r,o){return null==e&&"[object SVGMatrix]"==s.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var s=Object.prototype.toString,a=String,l=Math,u="";!function(e){function n(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=l.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}e.add=function(t,e,n,i,r,s){var a,l,u,p,h=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,n,r],[e,i,s],[0,0,1]];for(t&&t instanceof o&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;a<3;a++)for(l=0;l<3;l++){for(p=0,u=0;u<3;u++)p+=f[a][u]*d[u][l];h[a][l]=p}return this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2],this},e.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new o(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},e.clone=function(){return new o(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(t,e){return this.add(1,0,0,1,t,e)},e.scale=function(t,e,n,i){return null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i),this},e.rotate=function(e,n,i){e=t.rad(e),n=n||0,i=i||0;var r=+l.cos(e).toFixed(9),o=+l.sin(e).toFixed(9);return this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},e.x=function(t,e){return t*this.a+e*this.c+this.e},e.y=function(t,e){return t*this.b+e*this.d+this.f},e.get=function(t){return+this[a.fromCharCode(97+t)].toFixed(4)},e.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.determinant=function(){return this.a*this.d-this.b*this.c},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];e.scalex=l.sqrt(n(r[0])),i(r[0]),e.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*e.shear,r[1][1]-r[0][1]*e.shear],e.scaley=l.sqrt(n(r[1])),i(r[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var o=-r[0][1],s=r[1][1];return s<0?(e.rotate=t.deg(l.acos(s)),o<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(l.asin(o)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:u)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:u)+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:u))}}(o.prototype),t.Matrix=o,t.matrix=function(t,e,n,i,r,s){return new o(t,e,n,i,r,s)}}),r.plugin(function(t,e,n,i,r){function o(n){return function(i){if(eve.stop(),i instanceof r&&1==i.node.childNodes.length&&("radialGradient"==i.node.firstChild.tagName||"linearGradient"==i.node.firstChild.tagName||"pattern"==i.node.firstChild.tagName)&&(i=i.node.firstChild,f(this).appendChild(i),i=p(i)),i instanceof e)if("radialGradient"==i.type||"linearGradient"==i.type||"pattern"==i.type){i.node.id||c(i.node,{id:i.id});var o=y(i.node.id)}else o=i.attr(n);else if(o=t.color(i),o.error){var s=t(f(this).ownerSVGElement).gradient(i);s?(s.node.id||c(s.node,{id:s.id}),o=y(s.node.id)):o=i}else o=v(o);var a={};a[n]=o,c(this.node,a),this.node.style[n]=g}}function s(t){eve.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function a(t){for(var e=[],n=t.childNodes,i=0,r=n.length;i<r;i++){var o=n[i];3==o.nodeType&&e.push(o.nodeValue),"tspan"==o.tagName&&(1==o.childNodes.length&&3==o.firstChild.nodeType?e.push(o.firstChild.nodeValue):e.push(a(o)))}return e}function l(){return eve.stop(),this.node.style.fontSize}var u=t._.make,p=t._.wrap,h=t.is,f=t._.getSomeDefs,d=/^url\(#?([^)]+)\)$/,c=t._.$,y=t.url,v=String,m=t._.separator,g="";eve.on("snap.util.attr.mask",function(t){if(t instanceof e||t instanceof r){if(eve.stop(),t instanceof r&&1==t.node.childNodes.length&&(t=t.node.firstChild,f(this).appendChild(t),t=p(t)),"mask"==t.type)var n=t;else n=u("mask",f(this)),n.node.appendChild(t.node);!n.node.id&&c(n.node,{id:n.id}),c(this.node,{mask:y(n.id)})}}),function(t){eve.on("snap.util.attr.clip",t),eve.on("snap.util.attr.clip-path",t),eve.on("snap.util.attr.clipPath",t)}(function(t){if(t instanceof e||t instanceof r){if(eve.stop(),"clipPath"==t.type)var n=t;else n=u("clipPath",f(this)),n.node.appendChild(t.node),!n.node.id&&c(n.node,{id:n.id});c(this.node,{"clip-path":y(n.node.id||n.id)})}}),eve.on("snap.util.attr.fill",o("fill")),eve.on("snap.util.attr.stroke",o("stroke"));var P=/^([lr])(?:\(([^)]*)\))?(.*)$/i;eve.on("snap.util.grad.parse",function(t){t=v(t);var e=t.match(P);if(!e)return null;var n=e[1],i=e[2],r=e[3];return i=i.split(/\s*,\s*/).map(function(t){return+t==t?+t:t}),1==i.length&&0==i[0]&&(i=[]),r=r.split("-"),r=r.map(function(t){t=t.split(":");var e={color:t[0]};return t[1]&&(e.offset=parseFloat(t[1])),e}),{type:n,params:i,stops:r}}),eve.on("snap.util.attr.d",function(e){eve.stop(),h(e,"array")&&h(e[0],"array")&&(e=t.path.toString.call(e)),e=v(e),e.match(/[ruo]/i)&&(e=t.path.toAbsolute(e)),c(this.node,{d:e})})(-1),eve.on("snap.util.attr.#text",function(t){eve.stop(),t=v(t);for(var e=i.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(e)})(-1),eve.on("snap.util.attr.path",function(t){eve.stop(),this.attr({d:t})})(-1),eve.on("snap.util.attr.class",function(t){eve.stop(),this.node.className.baseVal=t})(-1),eve.on("snap.util.attr.viewBox",function(t){var e;e=h(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):h(t,"array")?t.join(" "):t,c(this.node,{viewBox:e}),eve.stop()})(-1),eve.on("snap.util.attr.transform",function(t){this.transform(t),eve.stop()})(-1),eve.on("snap.util.attr.r",function(t){"rect"==this.type&&(eve.stop(),c(this.node,{rx:t,ry:t}))})(-1),eve.on("snap.util.attr.textpath",function(t){if(eve.stop(),"text"==this.type){var n,i,r;if(!t&&this.textPath){for(i=this.textPath;i.node.firstChild;)this.node.appendChild(i.node.firstChild);return i.remove(),void delete this.textPath}if(h(t,"string")){var o=f(this),s=p(o.parentNode).path(t);o.appendChild(s.node),n=s.id,s.attr({id:n})}else t=p(t),t instanceof e&&(n=t.attr("id"),n||(n=t.id,t.attr({id:n})));if(n)if(i=this.textPath,r=this.node,i)i.attr({"xlink:href":"#"+n});else{for(i=c("textPath",{"xlink:href":"#"+n});r.firstChild;)i.appendChild(r.firstChild);r.appendChild(i),this.textPath=p(i)}}})(-1),eve.on("snap.util.attr.text",function(t){if("text"==this.type){for(var e=this.node,n=function(t){var e=c("tspan");if(h(t,"array"))for(var r=0;r<t.length;r++)e.appendChild(n(t[r]));else e.appendChild(i.doc.createTextNode(t));return e.normalize&&e.normalize(),e};e.firstChild;)e.removeChild(e.firstChild);for(var r=n(t);r.firstChild;)e.appendChild(r.firstChild)}eve.stop()})(-1),eve.on("snap.util.attr.fontSize",s)(-1),eve.on("snap.util.attr.font-size",s)(-1),eve.on("snap.util.getattr.transform",function(){return eve.stop(),this.transform()})(-1),eve.on("snap.util.getattr.textpath",function(){return eve.stop(),this.textPath})(-1),function(){function e(e){return function(){eve.stop();var n=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+e);return"none"==n?n:t(i.doc.getElementById(n.match(d)[1]))}}function n(t){return function(e){eve.stop();var n="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""==e||!e)return void(this.node.style[n]="none");if("marker"==e.type){var i=e.node.id;return i||c(e.node,{id:e.id}),void(this.node.style[n]=y(i))}}}eve.on("snap.util.getattr.marker-end",e("end"))(-1),eve.on("snap.util.getattr.markerEnd",e("end"))(-1),eve.on("snap.util.getattr.marker-start",e("start"))(-1),eve.on("snap.util.getattr.markerStart",e("start"))(-1),eve.on("snap.util.getattr.marker-mid",e("mid"))(-1),eve.on("snap.util.getattr.markerMid",e("mid"))(-1),eve.on("snap.util.attr.marker-end",n("end"))(-1),eve.on("snap.util.attr.markerEnd",n("end"))(-1),eve.on("snap.util.attr.marker-start",n("start"))(-1),eve.on("snap.util.attr.markerStart",n("start"))(-1),eve.on("snap.util.attr.marker-mid",n("mid"))(-1),eve.on("snap.util.attr.markerMid",n("mid"))(-1)}(),eve.on("snap.util.getattr.r",function(){if("rect"==this.type&&c(this.node,"rx")==c(this.node,"ry"))return eve.stop(),c(this.node,"rx")})(-1),eve.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){eve.stop();var t=a(this.node);return 1==t.length?t[0]:t}})(-1),eve.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),eve.on("snap.util.getattr.viewBox",function(){eve.stop();var e=c(this.node,"viewBox");return e?(e=e.split(m),t._.box(+e[0],+e[1],+e[2],+e[3])):void 0})(-1),eve.on("snap.util.getattr.points",function(){var t=c(this.node,"points");return eve.stop(),t?t.split(m):void 0})(-1),eve.on("snap.util.getattr.path",function(){var t=c(this.node,"d");return eve.stop(),t})(-1),eve.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),eve.on("snap.util.getattr.fontSize",l)(-1),eve.on("snap.util.getattr.font-size",l)(-1)}),r.plugin(function(t,e,n,i,r){var o=/\S+/g,s=String,a=e.prototype;a.addClass=function(t){var e,n,i,r,a=s(t||"").match(o)||[],l=this.node,u=l.className.baseVal,p=u.match(o)||[];if(a.length){for(e=0;i=a[e++];)n=p.indexOf(i),~n||p.push(i);r=p.join(" "),u!=r&&(l.className.baseVal=r)}return this},a.removeClass=function(t){var e,n,i,r,a=s(t||"").match(o)||[],l=this.node,u=l.className.baseVal,p=u.match(o)||[];if(p.length){for(e=0;i=a[e++];)n=p.indexOf(i),~n&&p.splice(n,1);r=p.join(" "),u!=r&&(l.className.baseVal=r)}return this},a.hasClass=function(t){var e=this.node,n=e.className.baseVal,i=n.match(o)||[];return!!~i.indexOf(t)},a.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var n,i,r,s,a=(t||"").match(o)||[],l=this.node,u=l.className.baseVal,p=u.match(o)||[];for(n=0;r=a[n++];)i=p.indexOf(r),~i?p.splice(i,1):p.push(r);return s=p.join(" "),u!=s&&(l.className.baseVal=s),this}}),r.plugin(function(t,e,n,i,r){function o(t){return t}function s(t){return function(e){return+e.toFixed(3)+t}}var a={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},l=String,u=/[a-z]+$/i,p=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;eve.on("snap.util.attr",function(t){var e=l(t).match(p);if(e){var n=eve.nt(),i=n.substring(n.lastIndexOf(".")+1),r=this.attr(i),o={};eve.stop();var s=e[3]||"",h=r.match(u),f=a[e[1]];if(h&&h==s?t=f(parseFloat(r),+e[2]):(r=this.asPX(i),t=f(this.asPX(i),this.asPX(i,e[2]+s))),isNaN(r)||isNaN(t))return;o[i]=t,this.attr(o)}})(-10),eve.on("snap.util.equal",function(t,e){var n=l(this.attr(t)||""),i=l(e).match(p);if(i){eve.stop();var r=i[3]||"",h=n.match(u),f=a[i[1]];return h&&h==r?{from:parseFloat(n),to:f(parseFloat(n),+i[2]),f:s(h)}:(n=this.asPX(t),{from:n,to:f(n,this.asPX(t,i[2]+r)),f:o})}})(-10)}),r.plugin(function(t,e,n,i,r){var o=n.prototype,s=t.is;o.rect=function(t,e,n,i,r,o){var a;return null==o&&(o=r),s(t,"object")&&"[object Object]"==t?a=t:null!=t&&(a={x:t,y:e,width:n,height:i},null!=r&&(a.rx=r,a.ry=o)),this.el("rect",a)},o.circle=function(t,e,n){var i;return s(t,"object")&&"[object Object]"==t?i=t:null!=t&&(i={cx:t,cy:e,r:n}),this.el("circle",i)};var a=function(){function t(){this.parentNode.removeChild(this)}return function(e,n){var r=i.doc.createElement("img"),o=i.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,o.removeChild(r)},r.onerror=t,o.appendChild(r),r.src=e}}();o.image=function(e,n,i,r,o){var l=this.el("image");if(s(e,"object")&&"src"in e)l.attr(e);else if(null!=e){var u={"xlink:href":e,preserveAspectRatio:"none"};null!=n&&null!=i&&(u.x=n,u.y=i),null!=r&&null!=o?(u.width=r,u.height=o):a(e,function(){t._.$(l.node,{width:this.offsetWidth,height:this.offsetHeight})}),t._.$(l.node,u)}return l},o.ellipse=function(t,e,n,i){var r;return s(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:e,rx:n,ry:i}),this.el("ellipse",r)},o.path=function(t){var e;return s(t,"object")&&!s(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},o.group=o.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},o.svg=function(t,e,n,i,r,o,a,l){var u={};return s(t,"object")&&null==e?u=t:(null!=t&&(u.x=t),null!=e&&(u.y=e),null!=n&&(u.width=n),null!=i&&(u.height=i),null!=r&&null!=o&&null!=a&&null!=l&&(u.viewBox=[r,o,a,l])),this.el("svg",u)},o.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},o.ptrn=function(t,e,n,i,r,o,a,l){if(s(t,"object"))var u=t;else u={patternUnits:"userSpaceOnUse"},t&&(u.x=t),e&&(u.y=e),null!=n&&(u.width=n),null!=i&&(u.height=i),null!=r&&null!=o&&null!=a&&null!=l?u.viewBox=[r,o,a,l]:u.viewBox=[t||0,e||0,n||0,i||0];return this.el("pattern",u)},o.use=function(n){return null!=n?(n instanceof e&&(n.attr("id")||n.attr({id:t._.id(n)}),n=n.attr("id")),"#"==String(n).charAt()&&(n=n.substring(1)),this.el("use",{"xlink:href":"#"+n})):e.prototype.use.call(this)},o.symbol=function(t,e,n,i){var r={};return null!=t&&null!=e&&null!=n&&null!=i&&(r.viewBox=[t,e,n,i]),this.el("symbol",r)},o.text=function(t,e,n){var i={};return s(t,"object")?i=t:null!=t&&(i={x:t,y:e,text:n||""}),this.el("text",i)},o.line=function(t,e,n,i){var r={};return s(t,"object")?r=t:null!=t&&(r={x1:t,x2:n,y1:e,y2:i}),this.el("line",r)},o.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return s(t,"object")&&!s(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},o.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return s(t,"object")&&!s(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){function e(){return this.selectAll("stop")}function n(e,n){var i=l("stop"),r={offset:+n+"%"};return e=t.color(e),r["stop-color"]=e.hex,e.opacity<1&&(r["stop-opacity"]=e.opacity),l(i,r),this.node.appendChild(i),this}function i(){if("linearGradient"==this.type){var e=l(this.node,"x1")||0,n=l(this.node,"x2")||1,i=l(this.node,"y1")||0,r=l(this.node,"y2")||0;return t._.box(e,i,math.abs(n-e),math.abs(r-i))}var o=this.node.cx||.5,s=this.node.cy||.5,a=this.node.r||0;return t._.box(o-a,s-a,2*a,2*a)}function r(t,e){function n(t,e){for(var n=(e-p)/(t-h),i=h;i<t;i++)o[i].offset=+(+p+n*(i-h)).toFixed(2);h=t,p=e}var i,r=eve("snap.util.grad.parse",null,e).firstDefined();if(!r)return null;r.params.unshift(t),i="l"==r.type.toLowerCase()?s.apply(0,r.params):a.apply(0,r.params),r.type!=r.type.toLowerCase()&&l(i.node,{gradientUnits:"userSpaceOnUse"});var o=r.stops,u=o.length,p=0,h=0;u--;for(var f=0;f<u;f++)"offset"in o[f]&&n(f,o[f].offset);for(o[u].offset=o[u].offset||100,n(u,o[u].offset),f=0;f<=u;f++){var d=o[f];i.addStop(d.color,d.offset)}return i}function s(r,o,s,a,u){var p=t._.make("linearGradient",r);return p.stops=e,p.addStop=n,p.getBBox=i,null!=o&&l(p.node,{x1:o,y1:s,x2:a,y2:u}),p}function a(r,o,s,a,u,p){var h=t._.make("radialGradient",r);return h.stops=e,h.addStop=n,h.getBBox=i,null!=o&&l(h.node,{cx:o,cy:s,r:a}),null!=u&&null!=p&&l(h.node,{fx:u,fy:p}),h}var l=t._.$;o.gradient=function(t){return r(this.defs,t)},o.gradientLinear=function(t,e,n,i){return s(this.defs,t,e,n,i)},o.gradientRadial=function(t,e,n,i,r){return a(this.defs,t,e,n,i,r)},o.toString=function(){var e,n=this.node.ownerDocument,i=n.createDocumentFragment(),r=n.createElement("div"),o=this.node.cloneNode(!0);return i.appendChild(r),r.appendChild(o),t._.$(o,{xmlns:"http://www.w3.org/2000/svg"}),e=r.innerHTML,i.removeChild(i.firstChild),e},o.toDataURL=function(){if(window&&window.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},o.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):o.clear.call({node:e}),e=t}}()}),r.plugin(function(t,e,n,i){function r(t){var e=r.ps=r.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[R](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function o(t,e,n,i){return null==t&&(t=e=n=i=0),null==e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:k.min(n,i)/2,r2:k.max(n,i)/2,r0:k.sqrt(n*n+i*i)/2,path:I(t,e,n,i),vb:[t,e,n,i].join(" ")}}function s(){return this.join(",").replace(F,"$1")}function a(t){var e=M(t);return e.toString=s,e}function l(t,e,n,i,r,o,s,a,l){return null==l?y(t,e,n,i,r,o,s,a):p(t,e,n,i,r,o,s,a,v(t,e,n,i,r,o,s,a,l))}function u(n,i){function r(t){return+(+t).toFixed(3)}return t._.cacher(function(t,o,s){t instanceof e&&(t=t.attr("d")),t=w(t);for(var a,u,h,f,d,c="",y={},v=0,m=0,g=t.length;m<g;m++){if(h=t[m],"M"==h[0])a=+h[1],u=+h[2];else{if(f=l(a,u,h[1],h[2],h[3],h[4],h[5],h[6]),v+f>o){if(i&&!y.start){if(d=l(a,u,h[1],h[2],h[3],h[4],h[5],h[6],o-v),c+=["C"+r(d.start.x),r(d.start.y),r(d.m.x),r(d.m.y),r(d.x),r(d.y)],s)return c;y.start=c,c=["M"+r(d.x),r(d.y)+"C"+r(d.n.x),r(d.n.y),r(d.end.x),r(d.end.y),r(h[5]),r(h[6])].join(),v+=f,a=+h[5],u=+h[6];continue}if(!n&&!i)return d=l(a,u,h[1],h[2],h[3],h[4],h[5],h[6],o-v)}v+=f,a=+h[5],u=+h[6]}c+=h.shift()+h}return y.end=c,d=n?v:i?y:p(a,u,h[0],h[1],h[2],h[3],h[4],h[5],1)},null,t._.clone)}function p(t,e,n,i,r,o,s,a,l){var u=1-l,p=U(u,3),h=U(u,2),f=l*l,d=f*l,c=p*t+3*h*l*n+3*u*l*l*r+d*s,y=p*e+3*h*l*i+3*u*l*l*o+d*a,v=t+2*l*(n-t)+f*(r-2*n+t),m=e+2*l*(i-e)+f*(o-2*i+e),g=n+2*l*(r-n)+f*(s-2*r+n),P=i+2*l*(o-i)+f*(a-2*o+i),x=u*t+l*n,_=u*e+l*i,C=u*r+l*s,b=u*o+l*a,I=90-180*k.atan2(v-g,m-P)/j;return{x:c,y:y,m:{x:v,y:m},n:{x:g,y:P},start:{x:x,y:_},end:{x:C,y:b},alpha:I}}function h(e,n,i,r,s,a,l,u){t.is(e,"array")||(e=[e,n,i,r,s,a,l,u]);var p=N.apply(null,e);return o(p.min.x,p.min.y,p.max.x-p.min.x,p.max.y-p.min.y)}function f(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function d(t,e){return t=o(t),e=o(e),f(e,t.x,t.y)||f(e,t.x2,t.y)||f(e,t.x,t.y2)||f(e,t.x2,t.y2)||f(t,e.x,e.y)||f(t,e.x2,e.y)||f(t,e.x,e.y2)||f(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function c(t,e,n,i,r){var o=-3*e+9*n-9*i+3*r,s=t*o+6*e-12*n+6*i;return t*s-3*e+3*n}function y(t,e,n,i,r,o,s,a,l){null==l&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,p=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,y=0;y<p;y++){var v=u*h[y]+u,m=c(v,t,n,r,s),g=c(v,e,i,o,a),P=m*m+g*g;d+=f[y]*k.sqrt(P)}return u*d}function v(t,e,n,i,r,o,s,a,l){if(!(l<0||y(t,e,n,i,r,o,s,a)<l)){var u,p=1,h=p/2,f=p-h,d=.01;for(u=y(t,e,n,i,r,o,s,a,f);z(u-l)>d;)h/=2,f+=(u<l?1:-1)*h,u=y(t,e,n,i,r,o,s,a,f);return f}}function m(t,e,n,i,r,o,s,a){if(!(H(t,n)<q(r,s)||q(t,n)>H(r,s)||H(e,i)<q(o,a)||q(e,i)>H(o,a))){var l=(t*i-e*n)*(r-s)-(t-n)*(r*a-o*s),u=(t*i-e*n)*(o-a)-(e-i)*(r*a-o*s),p=(t-n)*(o-a)-(e-i)*(r-s);if(p){var h=l/p,f=u/p,d=+h.toFixed(2),c=+f.toFixed(2);if(!(d<+q(t,n).toFixed(2)||d>+H(t,n).toFixed(2)||d<+q(r,s).toFixed(2)||d>+H(r,s).toFixed(2)||c<+q(e,i).toFixed(2)||c>+H(e,i).toFixed(2)||c<+q(o,a).toFixed(2)||c>+H(o,a).toFixed(2)))return{x:h,y:f}}}}function g(t,e,n){var i=h(t),r=h(e);if(!d(i,r))return n?0:[];for(var o=y.apply(0,t),s=y.apply(0,e),a=~~(o/8),l=~~(s/8),u=[],f=[],c={},v=n?0:[],g=0;g<a+1;g++){var P=p.apply(0,t.concat(g/a));u.push({x:P.x,y:P.y,t:g/a})}for(g=0;g<l+1;g++)P=p.apply(0,e.concat(g/l)),f.push({x:P.x,y:P.y,t:g/l});for(g=0;g<a;g++)for(var x=0;x<l;x++){var _=u[g],C=u[g+1],b=f[x],I=f[x+1],E=z(C.x-_.x)<.001?"y":"x",T=z(I.x-b.x)<.001?"y":"x",L=m(_.x,_.y,C.x,C.y,b.x,b.y,I.x,I.y);if(L){if(c[L.x.toFixed(4)]==L.y.toFixed(4))continue;c[L.x.toFixed(4)]=L.y.toFixed(4);var S=_.t+z((L[E]-_[E])/(C[E]-_[E]))*(C.t-_.t),O=b.t+z((L[T]-b[T])/(I[T]-b[T]))*(I.t-b.t);S>=0&&S<=1&&O>=0&&O<=1&&(n?v++:v.push({x:L.x,y:L.y,t1:S,t2:O}))}}return v}function P(t,e){return _(t,e)}function x(t,e){return _(t,e,1)}function _(t,e,n){t=w(t),e=w(e);for(var i,r,o,s,a,l,u,p,h,f,d=n?0:[],c=0,y=t.length;c<y;c++){var v=t[c];if("M"==v[0])i=a=v[1],r=l=v[2];else{"C"==v[0]?(h=[i,r].concat(v.slice(1)),i=h[6],r=h[7]):(h=[i,r,i,r,a,l,a,l],i=a,r=l);for(var m=0,P=e.length;m<P;m++){var x=e[m];if("M"==x[0])o=u=x[1],s=p=x[2];else{"C"==x[0]?(f=[o,s].concat(x.slice(1)),o=f[6],s=f[7]):(f=[o,s,o,s,u,p,u,p],o=u,s=p);var _=g(h,f,n);if(n)d+=_;else{for(var C=0,b=_.length;C<b;C++)_[C].segment1=c,_[C].segment2=m,_[C].bez1=h,_[C].bez2=f;d=d.concat(_)}}}}}return d}function C(t,e,n){var i=b(t);return f(i,e,n)&&_(t,[["M",e,n],["H",i.x2+10]],1)%2==1}function b(t){var e=r(t);if(e.bbox)return M(e.bbox);if(!t)return o();t=w(t);for(var n,i=0,s=0,a=[],l=[],u=0,p=t.length;u<p;u++)if(n=t[u],"M"==n[0])i=n[1],s=n[2],a.push(i),l.push(s);else{var h=N(i,s,n[1],n[2],n[3],n[4],n[5],n[6]);a=a.concat(h.min.x,h.max.x),l=l.concat(h.min.y,h.max.y),i=n[5],s=n[6]}var f=q.apply(0,a),d=q.apply(0,l),c=H.apply(0,a),y=H.apply(0,l),v=o(f,d,c-f,y-d);return e.bbox=M(v),v}function I(t,e,n,i,r){if(r)return[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.toString=s,o}function E(t,e,n,i,r){if(null==r&&null==i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!=r)var o=Math.PI/180,a=t+n*Math.cos(-i*o),l=t+n*Math.cos(-r*o),u=e+n*Math.sin(-i*o),p=e+n*Math.sin(-r*o),h=[["M",a,u],["A",n,n,0,+(r-i>180),0,l,p]];else h=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return h.toString=s,h}function T(e){var n=r(e),i=String.prototype.toLowerCase;if(n.rel)return a(n.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var o=[],l=0,u=0,p=0,h=0,f=0;"M"==e[0][0]&&(l=e[0][1],u=e[0][2],p=l,h=u,f++,o.push(["M",l,u]));for(var d=f,c=e.length;d<c;d++){var y=o[d]=[],v=e[d];if(v[0]!=i.call(v[0]))switch(y[0]=i.call(v[0]),y[0]){case"a":y[1]=v[1],y[2]=v[2],y[3]=v[3],y[4]=v[4],y[5]=v[5],y[6]=+(v[6]-l).toFixed(3),y[7]=+(v[7]-u).toFixed(3);break;case"v":y[1]=+(v[1]-u).toFixed(3);break;case"m":p=v[1],h=v[2];default:for(var m=1,g=v.length;m<g;m++)y[m]=+(v[m]-(m%2?l:u)).toFixed(3)}else{y=o[d]=[],"m"==v[0]&&(p=v[1]+l,h=v[2]+u);for(var P=0,x=v.length;P<x;P++)o[d][P]=v[P]}var _=o[d].length;switch(o[d][0]){case"z":l=p,u=h;break;case"h":l+=+o[d][_-1];break;case"v":u+=+o[d][_-1];break;default:l+=+o[d][_-2],u+=+o[d][_-1]}}return o.toString=s,n.rel=a(o),o}function L(e){var n=r(e);if(n.abs)return a(n.abs);if(D(e,"array")&&D(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var i,o=[],l=0,u=0,p=0,h=0,f=0;"M"==e[0][0]&&(l=+e[0][1],u=+e[0][2],p=l,h=u,f++,o[0]=["M",l,u]);for(var d,c,y=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),v=f,m=e.length;v<m;v++){if(o.push(d=[]),c=e[v],i=c[0],i!=i.toUpperCase())switch(d[0]=i.toUpperCase(),d[0]){case"A":d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],d[5]=c[5],d[6]=+c[6]+l,d[7]=+c[7]+u;break;case"V":d[1]=+c[1]+u;break;case"H":d[1]=+c[1]+l;break;case"R":for(var g=[l,u].concat(c.slice(1)),P=2,x=g.length;P<x;P++)g[P]=+g[P]+l,g[++P]=+g[P]+u;o.pop(),o=o.concat(Y(g,y));break;case"O":o.pop(),g=E(l,u,c[1],c[2]),g.push(g[0]),o=o.concat(g);break;case"U":o.pop(),o=o.concat(E(l,u,c[1],c[2],c[3])),d=["U"].concat(o[o.length-1].slice(-2));break;case"M":p=+c[1]+l,h=+c[2]+u;default:for(P=1,x=c.length;P<x;P++)d[P]=+c[P]+(P%2?l:u)}else if("R"==i)g=[l,u].concat(c.slice(1)),o.pop(),o=o.concat(Y(g,y)),d=["R"].concat(c.slice(-2));else if("O"==i)o.pop(),g=E(l,u,c[1],c[2]),g.push(g[0]),o=o.concat(g);else if("U"==i)o.pop(),o=o.concat(E(l,u,c[1],c[2],c[3])),d=["U"].concat(o[o.length-1].slice(-2));else for(var _=0,C=c.length;_<C;_++)d[_]=c[_];if(i=i.toUpperCase(),"O"!=i)switch(d[0]){case"Z":l=+p,u=+h;break;case"H":l=d[1];break;case"V":u=d[1];break;case"M":p=d[d.length-2],h=d[d.length-1];default:l=d[d.length-2],u=d[d.length-1]}}return o.toString=s,n.abs=a(o),o}function S(t,e,n,i){return[t,e,n,i,n,i]}function O(t,e,n,i,r,o){var s=1/3,a=2/3;return[s*t+a*n,s*e+a*i,s*r+a*n,s*o+a*i,r,o]}function A(e,n,i,r,o,s,a,l,u,p){var h,f=120*j/180,d=j/180*(+o||0),c=[],y=t._.cacher(function(t,e,n){var i=t*k.cos(n)-e*k.sin(n),r=t*k.sin(n)+e*k.cos(n);return{x:i,y:r}});if(p)I=p[0],E=p[1],C=p[2],b=p[3];else{h=y(e,n,-d),e=h.x,n=h.y,h=y(l,u,-d),l=h.x,u=h.y;var v=(k.cos(j/180*o),k.sin(j/180*o),(e-l)/2),m=(n-u)/2,g=v*v/(i*i)+m*m/(r*r);g>1&&(g=k.sqrt(g),i*=g,r*=g);var P=i*i,x=r*r,_=(s==a?-1:1)*k.sqrt(z((P*x-P*m*m-x*v*v)/(P*m*m+x*v*v))),C=_*i*m/r+(e+l)/2,b=_*-r*v/i+(n+u)/2,I=k.asin(((n-b)/r).toFixed(9)),E=k.asin(((u-b)/r).toFixed(9));I=e<C?j-I:I,E=l<C?j-E:E,I<0&&(I=2*j+I),E<0&&(E=2*j+E),a&&I>E&&(I-=2*j),!a&&E>I&&(E-=2*j)}var T=E-I;if(z(T)>f){var L=E,S=l,O=u;E=I+f*(a&&E>I?1:-1),l=C+i*k.cos(E),u=b+r*k.sin(E),c=A(l,u,i,r,o,0,a,S,O,[E,L,C,b])}T=E-I;var N=k.cos(I),w=k.sin(I),X=k.cos(E),Y=k.sin(E),B=k.tan(T/4),D=4/3*i*B,M=4/3*r*B,R=[e,n],F=[e+D*w,n-M*N],W=[l+D*Y,u-M*X],q=[l,u];if(F[0]=2*R[0]-F[0],F[1]=2*R[1]-F[1],p)return[F,W,q].concat(c);c=[F,W,q].concat(c).join().split(",");for(var H=[],U=0,G=c.length;U<G;U++)H[U]=U%2?y(c[U-1],c[U],d).y:y(c[U],c[U+1],d).x;return H}function N(t,e,n,i,r,o,s,a){for(var l,u,p,h,f,d,c,y,v=[],m=[[],[]],g=0;g<2;++g)if(0==g?(u=6*t-12*n+6*r,l=-3*t+9*n-9*r+3*s,p=3*n-3*t):(u=6*e-12*i+6*o,l=-3*e+9*i-9*o+3*a,p=3*i-3*e),z(l)<1e-12){if(z(u)<1e-12)continue;h=-p/u,0<h&&h<1&&v.push(h)}else c=u*u-4*p*l,y=k.sqrt(c),c<0||(f=(-u+y)/(2*l),0<f&&f<1&&v.push(f),d=(-u-y)/(2*l),0<d&&d<1&&v.push(d));for(var P,x=v.length,_=x;x--;)h=v[x],P=1-h,m[0][x]=P*P*P*t+3*P*P*h*n+3*P*h*h*r+h*h*h*s,m[1][x]=P*P*P*e+3*P*P*h*i+3*P*h*h*o+h*h*h*a;return m[0][_]=t,m[1][_]=e,m[0][_+1]=s,m[1][_+1]=a,m[0].length=m[1].length=_+2,{min:{x:q.apply(0,m[0]),y:q.apply(0,m[1])},max:{x:H.apply(0,m[0]),y:H.apply(0,m[1])}}}function w(t,e){var n=!e&&r(t);if(!e&&n.curve)return a(n.curve);for(var i=L(t),o=e&&L(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=(function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];
switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(A.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(O(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(O(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(S(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(S(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(S(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(S(e.x,e.y,e.X,e.Y))}return t}),p=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)f[e]="A",o&&(d[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),m=H(i.length,o&&o.length||0)}},h=function(t,e,n,r,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],m=H(i.length,o&&o.length||0))},f=[],d=[],c="",y="",v=0,m=H(i.length,o&&o.length||0);v<m;v++){i[v]&&(c=i[v][0]),"C"!=c&&(f[v]=c,v&&(y=f[v-1])),i[v]=u(i[v],s,y),"A"!=f[v]&&"C"==c&&(f[v]="C"),p(i,v),o&&(o[v]&&(c=o[v][0]),"C"!=c&&(d[v]=c,v&&(y=d[v-1])),o[v]=u(o[v],l,y),"A"!=d[v]&&"C"==c&&(d[v]="C"),p(o,v)),h(i,o,s,l,v),h(o,i,l,s,v);var g=i[v],P=o&&o[v],x=g.length,_=o&&P.length;s.x=g[x-2],s.y=g[x-1],s.bx=W(g[x-4])||s.x,s.by=W(g[x-3])||s.y,l.bx=o&&(W(P[_-4])||l.x),l.by=o&&(W(P[_-3])||l.y),l.x=o&&P[_-2],l.y=o&&P[_-1]}return o||(n.curve=a(i)),o?[i,o]:i}function X(t,e){if(!e)return t;var n,i,r,o,s,a,l;for(t=w(t),r=0,s=t.length;r<s;r++)for(l=t[r],o=1,a=l.length;o<a;o+=2)n=e.x(l[o],l[o+1]),i=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return t}function Y(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}var B=e.prototype,D=t.is,M=t._.clone,R="hasOwnProperty",F=/,?([a-z]),?/gi,W=parseFloat,k=Math,j=k.PI,q=k.min,H=k.max,U=k.pow,z=k.abs,G=u(1),V=u(),J=u(0,1),Z=t._unit2px,$={path:function(t){return t.attr("path")},circle:function(t){var e=Z(t);return E(e.cx,e.cy,e.r)},ellipse:function(t){var e=Z(t);return E(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=Z(t);return I(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=Z(t);return I(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return I(e.x,e.y,e.width,e.height)}};t.path=r,t.path.getTotalLength=G,t.path.getPointAtLength=V,t.path.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return J(t,e).end;var i=J(t,n,1);return e?J(i,e).end:i},B.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},B.getPointAtLength=function(t){return V(this.attr("d"),t)},B.getSubpath=function(e,n){return t.path.getSubpath(this.attr("d"),e,n)},t._.box=o,t.path.findDotsAtSegment=p,t.path.bezierBBox=h,t.path.isPointInsideBBox=f,t.closest=function(e,n,i,r){for(var s=100,a=o(e-s/2,n-s/2,s,s),l=[],u=i[0].hasOwnProperty("x")?function(t){return{x:i[t].x,y:i[t].y}}:function(t){return{x:i[t],y:r[t]}},p=0;s<=1e6&&!p;){for(var h=0,d=i.length;h<d;h++){var c=u(h);if(f(a,c.x,c.y)){p++,l.push(c);break}}p||(s*=2,a=o(e-s/2,n-s/2,s,s))}if(1e6!=s){var y,v=1/0;for(h=0,d=l.length;h<d;h++){var m=t.len(e,n,l[h].x,l[h].y);v>m&&(v=m,l[h].len=m,y=l[h])}return y}},t.path.isBBoxIntersect=d,t.path.intersection=P,t.path.intersectionNumber=x,t.path.isPointInside=C,t.path.getBBox=b,t.path.get=$,t.path.toRelative=T,t.path.toAbsolute=L,t.path.toCubic=w,t.path.map=X,t.path.toString=s,t.path.clone=a}),r.plugin(function(t,e,n,r){var o=Math.max,s=Math.min,a=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},l=a.prototype;l.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)t=arguments[n],t&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},l.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},l.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(t.call(e,this.items[n],n)===!1)return this;return this},l.animate=function(e,n,r,o){"function"!=typeof r||r.length||(o=r,r=i.linear),e instanceof t._.Animation&&(o=e.callback,r=e.easing,n=r.dur,e=e.attr);var s=arguments;if(t.is(e,"array")&&t.is(s[s.length-1],"array"))var a=!0;var l,u=function(){l?this.b=l:l=this.b},p=0,h=this,f=o&&function(){++p==h.length&&o.call(this)};return this.forEach(function(t,i){eve.once("snap.animcreated."+t.id,u),a?s[i]&&t.animate.apply(t,s[i]):t.animate(e,n,r,f)})},l.remove=function(){for(;this.length;)this.pop().remove();return this},l.bind=function(t,e,n){var i={};if("function"==typeof e)this.bindings[t]=e;else{var r=n||t;this.bindings[t]=function(t){i[r]=t,e.attr(i)}}return this},l.attr=function(t){var e={};for(var n in t)this.bindings[n]?this.bindings[n](t[n]):e[n]=t[n];for(var i=0,r=this.items.length;i<r;i++)this.items[i].attr(e);return this},l.clear=function(){for(;this.length;)this.pop()},l.splice=function(t,e,n){t=t<0?o(this.length+t,0):t,e=o(0,s(this.length-t,e));var i,r=[],l=[],u=[];for(i=2;i<arguments.length;i++)u.push(arguments[i]);for(i=0;i<e;i++)l.push(this[t+i]);for(;i<this.length-t;i++)r.push(this[t+i]);var p=u.length;for(i=0;i<p+r.length;i++)this.items[t+i]=this[t+i]=i<p?u[i]:r[i-p];for(i=this.items.length=this.length-=e-p;this[i];)delete this[i++];return new a(l)},l.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},l.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},l.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var a=this.items[r].getBBox();t.push(a.x),e.push(a.y),n.push(a.x+a.width),i.push(a.y+a.height)}return t=s.apply(0,t),e=s.apply(0,e),n=o.apply(0,n),i=o.apply(0,i),{x:t,y:e,x2:n,y2:i,width:n-t,height:i-e,cx:t+(n-t)/2,cy:e+(i-e)/2}},l.clone=function(t){t=new a;for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},l.toString=function(){return"Snap‘s set"},l.type="set",t.Set=a,t.set=function(){var t=new a;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),r.plugin(function(t,e,n,i){function r(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function o(e,n,i){n=v(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var o,s,a,l,u=Math.max(e.length,n.length),f=[],d=[],c=0;c<u;c++){if(a=e[c]||r(n[c]),l=n[c]||r(a),a[0]!=l[0]||"r"==a[0].toLowerCase()&&(a[2]!=l[2]||a[3]!=l[3])||"s"==a[0].toLowerCase()&&(a[3]!=l[3]||a[4]!=l[4])){e=t._.transform2matrix(e,i()),n=t._.transform2matrix(n,i()),f=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],d=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}for(f[c]=[],d[c]=[],o=0,s=Math.max(a.length,l.length);o<s;o++)o in a&&(f[c][o]=a[o]),o in l&&(d[c][o]=l[o])}return{from:h(f),to:h(d),f:p(f)}}function s(t){return t}function a(t){return function(e){return+e.toFixed(3)+t}}function l(t){return t.join(" ")}function u(e){return t.rgb(e[0],e[1],e[2])}function p(t){var e,n,i,r,o,s,a=0,l=[];for(e=0,n=t.length;e<n;e++){for(o="[",s=['"'+t[e][0]+'"'],i=1,r=t[e].length;i<r;i++)s[i]="val["+a++ +"]";o+=s+"]",l[e]=o}return Function("val","return Snap.path.toString.call(["+l+"])")}function h(t){for(var e=[],n=0,i=t.length;n<i;n++)for(var r=1,o=t[n].length;r<o;r++)e.push(t[n][r]);return e}function f(t){return isFinite(parseFloat(t))}function d(e,n){return!(!t.is(e,"array")||!t.is(n,"array"))&&e.toString()==n.toString()}var c={},y=/[a-z]+$/i,v=String;c.stroke=c.fill="colour",e.prototype.equal=function(t,e){return eve("snap.util.equal",this,t,e).firstDefined()},eve.on("snap.util.equal",function(e,n){var i,r,m=v(this.attr(e)||""),g=this;if(f(m)&&f(n))return{from:parseFloat(m),to:parseFloat(n),f:s};if("colour"==c[e])return i=t.color(m),r=t.color(n),{from:[i.r,i.g,i.b,i.opacity],to:[r.r,r.g,r.b,r.opacity],f:u};if("viewBox"==e)return i=this.attr(e).vb.split(" ").map(Number),r=n.split(" ").map(Number),{from:i,to:r,f:l};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return n instanceof t.Matrix&&(n=n.toTransformString()),t._.rgTransform.test(n)||(n=t._.svgTransform2string(n)),o(m,n,function(){return g.getBBox(1)});if("d"==e||"path"==e)return i=t.path.toCubic(m,n),{from:h(i[0]),to:h(i[1]),f:p(i[0])};if("points"==e)return i=v(m).split(t._.separator),r=v(n).split(t._.separator),{from:i,to:r,f:function(t){return t}};var P=m.match(y),x=v(n).match(y);return P&&d(P,x)?{from:parseFloat(m),to:parseFloat(n),f:a(P)}:{from:this.asPX(e),to:this.asPX(e,n),f:s}})}),r.plugin(function(t,e,n,i){for(var r=e.prototype,o="hasOwnProperty",s=("createTouch"in i.doc),a=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},u=(function(t,e){var n="y"==t?"scrollTop":"scrollLeft",r=e&&e.node?e.node.ownerDocument:i.doc;return r[n in r.documentElement?"documentElement":"body"][n]}),p=function(){return this.originalEvent.preventDefault()},h=function(){return this.originalEvent.stopPropagation()},f=function(t,e,n,i){var r=s&&l[e]?l[e]:e,a=function(r){var a=u("y",i),f=u("x",i);if(s&&l[o](e))for(var d=0,c=r.targetTouches&&r.targetTouches.length;d<c;d++)if(r.targetTouches[d].target==t||t.contains(r.targetTouches[d].target)){var y=r;r=r.targetTouches[d],r.originalEvent=y,r.preventDefault=p,r.stopPropagation=h;break}var v=r.clientX+f,m=r.clientY+a;return n.call(i,r,v,m)};return e!==r&&t.addEventListener(e,a,!1),t.addEventListener(r,a,!1),function(){return e!==r&&t.removeEventListener(e,a,!1),t.removeEventListener(r,a,!1),!0}},d=[],c=function(t){for(var e,n=t.clientX,i=t.clientY,r=u("y"),o=u("x"),a=d.length;a--;){if(e=d[a],s){for(var l,p=t.touches&&t.touches.length;p--;)if(l=t.touches[p],l.identifier==e.el._drag.id||e.el.node.contains(l.target)){n=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h=e.el.node;h.nextSibling,h.parentNode,h.style.display;n+=o,i+=r,eve("snap.drag.move."+e.el.id,e.move_scope||e.el,n-e.el._drag.x,i-e.el._drag.y,n,i,t)}},y=function(e){t.unmousemove(c).unmouseup(y);for(var n,i=d.length;i--;)n=d[i],n.el._drag={},eve("snap.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,e),eve.off("snap.drag.*."+n.el.id);d=[]},v=a.length;v--;)!function(e){t[e]=r[e]=function(n,i){if(t.is(n,"function"))this.events=this.events||[],this.events.push({name:e,f:n,unbind:f(this.node||document,e,n,i||this)});else for(var r=0,o=this.events.length;r<o;r++)if(this.events[r].name==e)try{this.events[r].f.call(this)}catch(t){}return this},t["un"+e]=r["un"+e]=function(t){for(var n=this.events||[],i=n.length;i--;)if(n[i].name==e&&(n[i].f==t||!t))return n[i].unbind(),n.splice(i,1),!n.length&&delete this.events,this;return this}}(a[v]);r.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},r.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var m=[];r.drag=function(e,n,i,r,o,s){function a(a,l,p){(a.originalEvent||a).preventDefault(),u._drag.x=l,u._drag.y=p,u._drag.id=a.identifier,!d.length&&t.mousemove(c).mouseup(y),d.push({el:u,move_scope:r,start_scope:o,end_scope:s}),n&&eve.on("snap.drag.start."+u.id,n),e&&eve.on("snap.drag.move."+u.id,e),i&&eve.on("snap.drag.end."+u.id,i),eve("snap.drag.start."+u.id,o||r||u,l,p,a)}function l(t,e,n){eve("snap.draginit."+u.id,u,t,e,n)}var u=this;if(!arguments.length){var p;return u.drag(function(t,e){this.attr({transform:p+(p?"T":"t")+[t,e]})},function(){p=this.transform().local})}return eve.on("snap.draginit."+u.id,a),u._drag={},m.push({el:u,start:a,init:l}),u.mousedown(l),u},r.undrag=function(){for(var e=m.length;e--;)m[e].el==this&&(this.unmousedown(m[e].init),m.splice(e,1),eve.unbind("snap.drag.*."+this.id),eve.unbind("snap.draginit."+this.id));return!m.length&&t.unmousemove(c).unmouseup(y),this}}),r.plugin(function(t,e,n,i){var r=(e.prototype,n.prototype),o=/^\s*url\((.+)\)/,s=String,a=t._.$;t.filter={},r.filter=function(n){var i=this;"svg"!=i.type&&(i=i.paper);var r=t.parse(s(n)),o=t._.id(),l=(i.node.offsetWidth,i.node.offsetHeight,a("filter"));return a(l,{id:o,filterUnits:"userSpaceOnUse"}),l.appendChild(r.node),i.defs.appendChild(l),new e(l)},eve.on("snap.util.getattr.filter",function(){eve.stop();var e=a(this.node,"filter");if(e){var n=s(e).match(o);return n&&t.select(n[1])}}),eve.on("snap.util.attr.filter",function(n){if(n instanceof e&&"filter"==n.type){eve.stop();var i=n.node.id;i||(a(n.node,{id:n.id}),i=n.id),a(this.node,{filter:t.url(i)})}n&&"none"!=n||(eve.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(e,n){null==e&&(e=2);var i=null==n?e:[e,n];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:i})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,n,i,r,o){return"string"==typeof i&&(r=i,o=r,i=4),"string"!=typeof r&&(o=r,r="#000"),r=r||"#000",null==i&&(i=4),null==o&&(o=1),null==e&&(e=0,n=2),null==n&&(n=e),r=t.color(r),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:r,dx:e,dy:n,blur:i,opacity:o})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}}),r.plugin(function(t,e,n,i,r){var o=t._.box,s=t.is,a=/^[^a-z]*([tbmlrc])/i,l=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){null==e&&s(t,"string")&&(e=t,t=null),t=t||this.paper;var n=t.getBBox?t.getBBox():o(t),i=this.getBBox(),r={};switch(e=e&&e.match(a),e=e?e[1].toLowerCase():"c"){case"t":r.dx=0,r.dy=n.y-i.y;break;case"b":r.dx=0,r.dy=n.y2-i.y2;break;case"m":r.dx=0,r.dy=n.cy-i.cy;break;case"l":r.dx=n.x-i.x,r.dy=0;break;case"r":r.dx=n.x2-i.x2,r.dy=0;break;default:r.dx=n.cx-i.cx,r.dy=0}return r.toString=l,r},e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}}),t.exports=r}]);
//# sourceMappingURL=42ace024cef72e25dd3f.worker.js.map